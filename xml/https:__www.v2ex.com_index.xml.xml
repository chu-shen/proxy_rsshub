<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title>V2EX</title>
<subtitle>way to explore</subtitle>


<link rel="alternate" type="text/html" href="https://www.v2ex.com/" />
<link rel="self" type="application/atom+xml" href="https://www.v2ex.com/index.xml" />
<id>https://www.v2ex.com/</id>

<updated>2022-04-19T00:04:36Z</updated>

<rights>Copyright © 2010-2018, V2EX</rights>
<entry>
	<title>[Pixel] 为什么狗东买 Google Pixel 再卖给狗东差价那么大</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848013#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848013</id>
	<published>2022-04-19T16:04:36Z</published>
	<updated>2022-04-19T00:04:36Z</updated>
	<author>
		<name>quxinna</name>
		<uri>https://www.v2ex.com/member/quxinna</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	几乎腰斩，是狗东贪钱还是 Google 贪钱？
	]]></content>
</entry><entry>
	<title>[问与答] 哪个笔记软件可以实现这样的功能</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848012#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848012</id>
	<published>2022-04-19T16:03:46Z</published>
	<updated>2022-04-17T16:03:46Z</updated>
	<author>
		<name>bandian</name>
		<uri>https://www.v2ex.com/member/bandian</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	有没有哪个笔记软件可以实现这样的功能：能够把另一篇笔记中的一段内容链接到当前笔记中，链接完成之后无论在哪篇笔记中修改这段内容，另一篇笔记都可以实时同步
	]]></content>
</entry><entry>
	<title>[问与答] Why Lexical? WYSIWYG Editor 的痛點?</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848011#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848011</id>
	<published>2022-04-19T15:05:14Z</published>
	<updated>2022-04-19T15:05:14Z</updated>
	<author>
		<name>aleen42</name>
		<uri>https://www.v2ex.com/member/aleen42</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>最近 Facebook 推出了個名叫 <a href="https://github.com/facebook/lexical" rel="nofollow">Lexical</a> 的文本編輯器框架，聲稱是可擴展的。這裡我不禁要問，WYSIWYG 編輯器的痛點難道是框架上的設計是否有利於擴展？</p>
<p>其實早在很多年前，<a href="https://github.com/aleen42/kindeditor" rel="nofollow">KindEditor</a> 作為一款可擴展的 Html Editor ，很多人已有所接觸。它不僅是可定制 plugins ，而且還能在保持良好的 IE 兼容性下處理了各種與 Web APIs 打交道的邏輯。</p>
<p>不才及劣者認為，這類編輯器的痛點實際在於的是要了解大量保持兼容性的底層邏輯。</p>
<p>如實現格式刷功能需要考慮:</p>
<ol>
<li>如何在保持 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Selection" rel="nofollow">Selection</a> (用戶光標所選區域) 不變的情況下分割 DOM</li>
<li>如何在各種情況的 Selection ，如跨越粗體，斜體，下劃線等 DOM 的情況下識別所要複製的格式</li>
</ol>
<p>再如粘貼 Word 或 Excel 文檔時，我們如何通過 <a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent/clipboardData" rel="nofollow">clipboardData</a> 正確處理各種內容並盡可能地保持原文樣式，乃至不同應用放入粘貼板的內容。</p>
<p>再如編輯表格時，我們如何運用原生 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand" rel="nofollow">commands</a> 去實現諸如行列插入，行列拆分合併等操作。而實現表格拉伸時，我們如何避免 gripper (拉伸點) 如何在 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable" rel="nofollow">contenteditable</a> 的情況下不影響編輯。</p>
<p>所以，Lexical 若真希望能統一 WYSIWYG 編輯器領域各造輪子的局面，良好的底層封裝以及兼容性真的很重要。從目前其發展的趨勢來看，我改用它的可能性真的不高。</p>
<p>大家也可以談談大家在這方面遇到的坑。</p>
<p>另外，若你遇到這方面的選型問題，可參考:</p>
<ul>
<li><a href="https://github.com/hax/hax.github.com/issues/41" rel="nofollow">https://github.com/hax/hax.github.com/issues/41</a></li>
<li><a href="https://github.com/JefMari/awesome-wysiwyg" rel="nofollow">https://github.com/JefMari/awesome-wysiwyg</a></li>
</ul>

	]]></content>
</entry><entry>
	<title>[程序员] Angular DevTools 在 Chrome Web Store 下载量为什么只有 React 的 3% ？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848010#reply4" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848010</id>
	<published>2022-04-19T15:01:23Z</published>
	<updated>2022-04-19T15:24:13Z</updated>
	<author>
		<name>theklf4</name>
		<uri>https://www.v2ex.com/member/theklf4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	Angular:<br /><br /><a target="_blank" href="https://chrome.google.com/webstore/detail/angular-devtools/ienfalfjdbdpebioblfackkekamfmbnh" rel="nofollow noopener">https://chrome.google.com/webstore/detail/angular-devtools/ienfalfjdbdpebioblfackkekamfmbnh</a><br />100,000+ users<br /><br />React:<br /><br /><a target="_blank" href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" rel="nofollow noopener">https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi</a><br />3,000,000+ users<br /><br />Vue:<br /><a target="_blank" href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd" rel="nofollow noopener">https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd</a><br />1,000,000+ users<br /><br />100,000 / 3,000,000 == 0.0333333333333333333<br /><br />完全不是一个数量级 如果不是官网文档指向这里我都基本确定是假的了
	]]></content>
</entry><entry>
	<title>[问与答] 寻找显示器 PD2710QC 扩展坞线的替代品</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848009#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848009</id>
	<published>2022-04-19T14:57:30Z</published>
	<updated>2022-04-19T14:57:30Z</updated>
	<author>
		<name>linw1995</name>
		<uri>https://www.v2ex.com/member/linw1995</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	太惨了。在搬工位的时候，把显示器附带的扩展坞线弄断了。<br /><br /><a target="_blank" href="https://imgur.com/a/7RZ9JL8" rel="nofollow noopener">https://imgur.com/a/7RZ9JL8</a><br /><br />有人知道有什么线可以替代吗？
	]]></content>
</entry><entry>
	<title>[Chrome] 特别喜欢 chrome 支持触控板捏放功能，页面结构不变，放大动画平滑精准。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848008#reply2" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848008</id>
	<published>2022-04-19T14:57:30Z</published>
	<updated>2022-04-19T15:22:53Z</updated>
	<author>
		<name>youmustcreate</name>
		<uri>https://www.v2ex.com/member/youmustcreate</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>用触控板还是稍微麻烦了一点，有什么方法可以用鼠标滚轮实现同样的效果呢？
当前的快捷键 ctrl + 鼠标中键的方法会改变页面结构就很不方便，动画也不顺滑。</p>

	]]></content>
</entry><entry>
	<title>[云计算] AWS 中国致电给我，让我自删帐号</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848006#reply3" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848006</id>
	<published>2022-04-19T14:39:22Z</published>
	<updated>2022-04-19T15:13:35Z</updated>
	<author>
		<name>terrancesiu</name>
		<uri>https://www.v2ex.com/member/terrancesiu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如我们电话沟通，亚马逊云科技中国区尚未开放个人账户。如您后续需要继续使用资源服务，建议您点击以下链接注册一个新的账户进行使用。在注册账户时，您需要提供企业注册证照和网络安全负责人的有效身份证件。
<a href="https://signin.amazonaws.cn/signup?request_type=register" rel="nofollow">https://signin.amazonaws.cn/signup?request_type=register</a></p>
<p>如需关闭此账户，请您参考如下步骤：
1.请您点击链接 <a href="https://console.amazonaws.cn/billing/home?#/account" rel="nofollow">https://console.amazonaws.cn/billing/home?#/account</a> ，滚动至页面底端的“关闭账户”部分。阅读并确保您理解复选框旁的文本内容。
2.选中此复选框以接受这些条款，然后选择“关闭账户”
3.在确认对话框中，选择“关闭账户”</p>
<p>感谢您的理解与支持！</p>
<p>意思是，没营业执照的自然人是不能使用 AWS 中国的。</p>

	]]></content>
</entry><entry>
	<title>[站长] 有没有卖社区论坛网站的</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848005#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848005</id>
	<published>2022-04-19T14:16:13Z</published>
	<updated>2022-04-19T14:13:13Z</updated>
	<author>
		<name>dogeking</name>
		<uri>https://www.v2ex.com/member/dogeking</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>想买一个成品社区论坛。什么行业的都行。
有转让转让整套的联系我。
或者单独把程序转让给我也行。
VX：kongdongze</p>

	]]></content>
</entry><entry>
	<title>[分享发现] 分享一个 tg 机器人</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848004#reply1" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848004</id>
	<published>2022-04-19T14:01:56Z</published>
	<updated>2022-04-18T22:01:56Z</updated>
	<author>
		<name>shoaly</name>
		<uri>https://www.v2ex.com/member/shoaly</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://t.me/i_need_qrcode_bot" rel="nofollow">https://t.me/i_need_qrcode_bot</a></p>
<p>这个机器人做两个事情:</p>
<ul>
<li>发送文本,机器人转换成二维码</li>
<li>发送二维码图片, 解析回文字</li>
</ul>

	]]></content>
</entry><entry>
	<title>[Telegram] 微信更新日志 vs telegram 更新日志</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848003#reply10" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848003</id>
	<published>2022-04-19T14:01:16Z</published>
	<updated>2022-04-19T15:16:34Z</updated>
	<author>
		<name>2jujube</name>
		<uri>https://www.v2ex.com/member/2jujube</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h2>微信的更新日志：</h2>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s3.bmp.ovh/imgs/2022/04/19/479e675e6197bda9.jpeg"/></p>
<hr/>
<h2>telegram 的更新日志</h2>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s3.bmp.ovh/imgs/2022/04/19/54e7ec31f62ccdae.jpeg"/></p>

	]]></content>
</entry><entry>
	<title>[iPhone] 问一下用 ip13，开自动 5G 的小伙伴们</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848002#reply7" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848002</id>
	<published>2022-04-19T13:42:55Z</published>
	<updated>2022-04-19T15:34:14Z</updated>
	<author>
		<name>PandaChan</name>
		<uri>https://www.v2ex.com/member/PandaChan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，手机静置一段时间后，拿起来，信号会丢失，然后几秒后信号开始跳动画，再出现 5G 。这正常吗。
是不是就会碰到，是个例还是大家都这样的 = =</p>

	]]></content>
</entry><entry>
	<title>[程序员] 你们看 b 站 4k 视频卡吗？我现在都被迫上油管看中文内容</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/848001#reply13" />
	<id>tag:www.v2ex.com,2022-04-19:/t/848001</id>
	<published>2022-04-19T13:40:48Z</published>
	<updated>2022-04-19T14:20:27Z</updated>
	<author>
		<name>monster33</name>
		<uri>https://www.v2ex.com/member/monster33</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>b 站思波图的视频，up 传的是 4k ，只要我开 1.5 倍数或者 2 倍数，直接三秒一卡三秒一卡，但是我的网速并没有跑满，反而只有几百 k 。根本无法流畅的观看。但是影视飓风的 4k 视频就没这个问题。然后我用油管看思波图的视频开几倍数都没问题。。。流畅的很</p>
<p>我是电信 100m 。网速绝对不是瓶颈</p>

	]]></content>
</entry><entry>
	<title>[Apple] iOS 中有什么办法可以监听 WKWebView 的首屏渲染耗时吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847998#reply2" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847998</id>
	<published>2022-04-19T13:26:42Z</published>
	<updated>2022-04-19T14:59:32Z</updated>
	<author>
		<name>a970891</name>
		<uri>https://www.v2ex.com/member/a970891</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，想要从 WebKit 内核获取 H5 的 T2 时间，目前想到的办法是监听 privateNavigationProtocol 的私有 api ，然后注册 renderMileStone 的事件，但是拿到的 first meanful paint 事件实测并不是上屏时间，只是渲染指令发出的时间，然后又去 hook 了 commitLayerTree ，在里面监听了 WKScrollView 的 contentSize 变化，但是无法处理页面内容不满一屏的情况。</p>
<p>是否有其他更科学的方法？求指点！</p>

	]]></content>
</entry><entry>
	<title>[分享发现] 淘宝新功能内测：一键价保服务</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847996#reply3" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847996</id>
	<published>2022-04-19T13:21:21Z</published>
	<updated>2022-04-19T13:51:43Z</updated>
	<author>
		<name>gtheone1</name>
		<uri>https://www.v2ex.com/member/gtheone1</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<a target="_blank" href="http://up.ccp.ovh/files/aqRpG/1650361330707998.jpg" rel="nofollow noopener">http://up.ccp.ovh/files/aqRpG/1650361330707998.jpg</a><br /><br />手机淘宝 APP-&gt;我的-&gt;人工客服-&gt;发送“一键保价”-&gt;点击“如何申请一键价保”
	]]></content>
</entry><entry>
	<title>[问与答] 请问有没有开源的全平台的记账 app 呀？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847995#reply2" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847995</id>
	<published>2022-04-19T13:12:34Z</published>
	<updated>2022-04-19T13:22:27Z</updated>
	<author>
		<name>huntley</name>
		<uri>https://www.v2ex.com/member/huntley</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	1. 数据能放在自己的云盘上<br />2. 能导入导出账单，最好支持导入微信支付宝账单<br />3. 支持 ios 和 andriod ，支持 PC 、Mac 更好
	]]></content>
</entry><entry>
	<title>[Apple] 同一地点的 iPhone 和 MacBook 能搜索/连接到的公共 WiFi 不同</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847994#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847994</id>
	<published>2022-04-19T13:12:14Z</published>
	<updated>2022-04-19T13:09:14Z</updated>
	<author>
		<name>dhou45</name>
		<uri>https://www.v2ex.com/member/dhou45</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>向 V 站的朋友请教一个问题, 自己平时在外连接公共 WiFi 的时候, 发现手机和电脑显示的可用网络很不一样, 很多时候 iPhone 上列表显示一堆, 但是 Mac 上就零星显示几个. 而且即便连上相同网络, iPhone 上三格信号, 但是 Mac 是两格. 这是什么原因呢? 手机是 iPhone 12, 电脑是 M1 Max 的 MBP 16.</p>
<p>按道理来说, 笔记本堆料足, 应该信号更好才对吧?</p>

	]]></content>
</entry><entry>
	<title>[macOS] 有人尝试过这种屏幕排列吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847993#reply1" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847993</id>
	<published>2022-04-19T13:11:42Z</published>
	<updated>2022-04-19T15:37:30Z</updated>
	<author>
		<name>mikewang</name>
		<uri>https://www.v2ex.com/member/mikewang</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>通用控制，macOS 好像有自己的想法，无论如何都不能排成这样...<br/>
（下方两个屏幕总是会自己跑到上面去）
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/VUAjbOb.png"/></p>

	]]></content>
</entry><entry>
	<title>[问与答] 工作需要，求推荐个 android 备用机。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847992#reply5" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847992</id>
	<published>2022-04-19T13:08:06Z</published>
	<updated>2022-04-19T14:48:01Z</updated>
	<author>
		<name>Toby23</name>
		<uri>https://www.v2ex.com/member/Toby23</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>公司的工作台只有 android 版没办法，必须要弄一个。
性能无所谓，支持 5Gwifi 就行
希望能刷国际版系统，带 Google
1500 以下吧
刚拍了个红米 note9pro5g 无法刷国际版取消订单了
其它不知道选啥了</p>

	]]></content>
</entry><entry>
	<title>[Android] 大家的 Youtube Vanced 能用吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847991#reply22" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847991</id>
	<published>2022-04-19T13:06:11Z</published>
	<updated>2022-04-19T15:05:16Z</updated>
	<author>
		<name>461da73c</name>
		<uri>https://www.v2ex.com/member/461da73c</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我的已经没有网络连接了。</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 开发了一款节气相关的 App</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847989#reply3" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847989</id>
	<published>2022-04-19T13:00:03Z</published>
	<updated>2022-04-19T13:12:58Z</updated>
	<author>
		<name>1mayi</name>
		<uri>https://www.v2ex.com/member/1mayi</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有兴趣可以体验一下哦</p>
<p><a href="https://apps.apple.com/cn/app/id1619353073" rel="nofollow">https://apps.apple.com/cn/app/id1619353073</a></p>

	]]></content>
</entry><entry>
	<title>[职场话题] 请教各位，如何应对讨人厌的用户</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847988#reply4" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847988</id>
	<published>2022-04-19T12:59:27Z</published>
	<updated>2022-04-19T13:06:46Z</updated>
	<author>
		<name>Hieast</name>
		<uri>https://www.v2ex.com/member/Hieast</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>假设你维护一个公司内部产品，然后有个用户某个功能出了问题来找你。</p>
<ol>
<li>问题描述不清楚，</li>
<li>看人下菜拒绝和大头兵语音沟通投屏演示（不要打拳</li>
<li>做不到按照截图操作配合定位问题，很辛苦但是操作过程是错的</li>
<li>觉得它是上帝，你质疑它的操作就是态度有问题</li>
</ol>
<p>我是碰上了这事，顺利搞砸了，甩锅给老大解决了，最后也是语音+投屏解决的，问题是在很早版本的浏览器兼容性上。</p>
<p>除了要么忍要么滚，有没有情商更高的应对方式？</p>

	]]></content>
</entry><entry>
	<title>[Go 编程语言] Go 语言是否能实现 Python 中 importlib 的功能</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847987#reply7" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847987</id>
	<published>2022-04-19T12:55:45Z</published>
	<updated>2022-04-19T16:00:52Z</updated>
	<author>
		<name>chaleaochexist</name>
		<uri>https://www.v2ex.com/member/chaleaochexist</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	python 的 apscheduler 中 可以将 job 保存在数据库中，原理很简单 用的`__import__`.将字符串转换成可执行函数了。<br /><br />但是 go 中没有啊。。。<br />我想写一个带持久化的 go 版的 apscheduler 。 这块卡住了。。。
	]]></content>
</entry><entry>
	<title>[问与答] 你是什么时候觉得时间过的飞快？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847986#reply17" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847986</id>
	<published>2022-04-19T12:45:54Z</published>
	<updated>2022-04-19T16:17:17Z</updated>
	<author>
		<name>qq249418187</name>
		<uri>https://www.v2ex.com/member/qq249418187</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在一个你喜欢的环境的时候
在听到某首老歌的时候
在认真投入一件事情的时候
在步入社会以后，工作之后的时候
发现自己成长的速度远跟不上父母老去的速度的时候....</p>
<p>还记得，小时候有段对话，记得特别清晰。
躺在妈妈大腿上问，你多少岁了。妈妈说她二十八岁。
那时候掰完十个手指头都数不到的年纪。现在我二十八岁，这一切过去，已经二十五年。
就像儿时的某个清晨，刚睁开眼就听见妈妈喊吃饭。
而我只做了一个梦，整个晚上就没了。</p>
<p>你呢。</p>

	]]></content>
</entry><entry>
	<title>[Linux] Ubuntu 22.04 自带 mptcp 了,有什么好的应用方法吗?</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847985#reply6" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847985</id>
	<published>2022-04-19T12:41:42Z</published>
	<updated>2022-04-19T15:53:24Z</updated>
	<author>
		<name>seakingii</name>
		<uri>https://www.v2ex.com/member/seakingii</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<pre><code>sysctl -a | grep mptcp
net.ipv4.tcp_available_ulp = espintcp mptcp
net.mptcp.add_addr_timeout = 120
net.mptcp.allow_join_initial_addr_port = 1
net.mptcp.checksum_enabled = 0
net.mptcp.enabled = 1
net.mptcp.stale_loss_cnt = 4

</code></pre>
<pre><code>uname -r
5.15.0-25-generic

</code></pre>

	]]></content>
</entry><entry>
	<title>[酷工作] [深圳 / 武汉 / 全职]字节跳动招聘 [前端开发工程师-飞书文档-多维表格]</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847982#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847982</id>
	<published>2022-04-19T12:23:35Z</published>
	<updated>2022-04-19T12:21:35Z</updated>
	<author>
		<name>MichealWind</name>
		<uri>https://www.v2ex.com/member/MichealWind</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	关于我们：<br />字节跳动飞书多维表格团队，致力于打造全球最领先的数据库类表格产品，提供安全、强大的云端存储，以及公式、权限、自动化等高级能力，以数据库表格为形态载体，为用户打造能力强大的业务系统，解决千变万化的真实企业业务场景难题。<br />1 、负责飞书多维表格产品的研发；<br />2 、负责高质量的设计和编码，承担重点、难点的技术攻坚。<br /><br />职位要求<br />1 、2 年及以上 Web 前端开发经验；<br />2 、良好的设计和编码品味，热爱写代码能产出高质量的设计和代码；<br />3 、掌握 WEB 前端开发技术: JavaScript(含 ES6)、HTML 、CSS 、DOM 、Canvas2D ；<br />4 、熟练运用 React.js 、Vue.js 、Angular.js 、ReactNative 等前端框架中至少一种，且了解其基本原理；<br />5 、有客户端开发经验优先；有知名开源作品优先；<br />6 、积极乐观，认真负责，乐于协作。<br /><br />工作地点<br />深圳 / 武汉<br /><br />联系方式<br />感兴趣者可将简历发送至邮箱： lijiashi.micheal@bytedance.com
	]]></content>
</entry><entry>
	<title>[分享发现] 酷玩周刊 第 7 期</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847981#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847981</id>
	<published>2022-04-19T12:16:02Z</published>
	<updated>2022-04-19T10:16:02Z</updated>
	<author>
		<name>lvwzhen</name>
		<uri>https://www.v2ex.com/member/lvwzhen</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h1>酷玩周刊 第 7 期</h1>
<blockquote>
<p>发掘一切有趣的数字生活</p>
</blockquote>
<h2>🚀 产品试玩</h2>
<p><strong><a href="https://sh-help.com/" rel="nofollow">上海互助导航</a></strong> *</p>
<p>最近上海依旧很严峻，作为一个经历了多次的武汉人感同身受，也想为上海做点事。我们做了一个导航网站，收集一些工具和生活指南，希望能够起到一点作用。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96onjjwj21b90u00vt.jpg"/></p>
<p><strong><a href="https://h5.moo-e.com/roomis/" rel="nofollow">魔都头像生成器</a></strong></p>
<p>实用的头像生成工具，它能快速为身在魔都的团长和平民生成特殊时期专属微信头像</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96lunwjj20ka12c770.jpg"/></p>
<p><strong><a href="https://cook.yunyoujun.cn/" rel="nofollow">隔离食用手册</a></strong></p>
<p>选择食材和厨具即可匹配相应的视频菜谱，方便隔离在家而材料有限的朋友学习做饭。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96q2wiij20nd0l40ux.jpg"/></p>
<p><strong><a href="https://apps.apple.com/cn/app/%E5%9B%A4%E9%A5%AD%E9%A5%AD/id1618797277" rel="nofollow">囤饭饭</a></strong></p>
<p>家庭应急食物与物资管理工具，可以管理应急食物及物资储备，查看维持天数，及时替换临期物资。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96pohh2j20s60nnjti.jpg"/></p>
<p><strong><a href="https://github.com/ripperhe/Bob" rel="nofollow">Bob</a></strong></p>
<p>Bob 是一款免费的 macOS 版翻译软件，支持划词翻译、截图翻译以及手动输入翻译，支持添加第三方翻译 API ，非常好用。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96m01vlj20rs0i4q3w.jpg"/></p>
<p><strong><a href="https://www.raycast.com/" rel="nofollow">Raycast</a></strong></p>
<p>Raycast 是一个类 Spotlight 的快速启动工具，内置的应用商城拥有非常多的第三方插件，搜索、翻译、应用管理、窗口管理等功能应有尽有，可玩性非常高。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1fanwjif9j21ff0u0jur.jpg"/></p>
<h2>😛 新奇古怪</h2>
<p><strong><a href="https://github.com/geekan/HowToLiveLonger" rel="nofollow">程序员延寿指南</a></strong></p>
<p>如何稳健的活得更久？这个开源项目中整理了各种对 ACM （全因死亡率）的学术研究，并提出了延年益寿的方法。吃白肉、晒太阳、做挥拍运动等等，感兴趣的快来看看吧。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96nbbo9j212p0u0q79.jpg"/></p>
<h2>📚 影音推荐</h2>
<p><strong><a href="https://movie.douban.com/subject/6424756/" rel="nofollow">《新蝙蝠侠》</a></strong></p>
<p>没有外星人，没有超能力，这部《新蝙蝠侠》回归 DC （ Detective Comics 侦探漫画）的初衷，蝙蝠侠和戈登一起揭开哥谭市的谜语。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96qhgpmj207i0b474i.jpg"/></p>
<p><strong><a href="https://book.douban.com/subject/27094706/" rel="nofollow">《财富自由之路》</a></strong></p>
<p>财富自由是否有快捷方式？如何升级自己的操作系统？怎样找到自己的商业模式？这本书提供了一些思路。
财富自由是否有快捷方式？如何升级自己的操作系统？怎样找到自己的商业模式？这本书提供了一些思路。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96qy0oaj207i0ardg2.jpg"/></p>
<h2>📝 每周一词*</h2>
<p><img alt="GIF" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96lfxv5j20u011mjtu.jpg"/></p>
<h2>☎️ 关注订阅</h2>
<ul>
<li><a href="https://wj.qq.com/s2/9741038/c74e/" rel="nofollow">欢迎投稿</a></li>
<li><a href="https://www.getrevue.co/profile/coldplay-weekly" rel="nofollow">邮件订阅</a>、<a href="https://t.me/ColdplayWeekly" rel="nofollow">Telegram</a>、<a href="https://github.com/lvwzhen/coldplay-weekly" rel="nofollow">GitHub</a>、<a href="https://rsshub.app/telegram/channel/ColdplayWeekly" rel="nofollow">RSS</a></li>
<li>制作团队：<a href="https://thuscn.com/lab/" rel="nofollow">ThusLab</a></li>
<li>关注公众号：酷玩一下</li>
</ul>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tva1.sinaimg.cn/large/e6c9d24egy1h1f96mos4wj2076076q36.jpg"/></p>
<blockquote>
<p>带*标注是我们开发的产品，谢谢支持。</p>
</blockquote>

	]]></content>
</entry><entry>
	<title>[杭州] 房东直租 未来科技城附近 保亿丽景山 89 平</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847980#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847980</id>
	<published>2022-04-19T12:09:07Z</published>
	<updated>2022-04-19T08:08:07Z</updated>
	<author>
		<name>daquandiao2</name>
		<uri>https://www.v2ex.com/member/daquandiao2</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://shimo.im/docs/1d3aV7zaK1t8dZqg/" rel="nofollow">https://shimo.im/docs/1d3aV7zaK1t8dZqg/</a></p>

	]]></content>
</entry><entry>
	<title>[macOS] 如何在 mac 系统里面安装闲鱼 app？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847979#reply2" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847979</id>
	<published>2022-04-19T12:07:09Z</published>
	<updated>2022-04-19T12:11:45Z</updated>
	<author>
		<name>iyg429</name>
		<uri>https://www.v2ex.com/member/iyg429</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	如题 需要时刻看咸鱼。请问如何在 mac 端 登录闲鱼 app 。用了 mumu 浏览器 闪退。蓝蝶台湾版 卡死<br />还有其他好用有效的办法吗？
	]]></content>
</entry><entry>
	<title>[程序员] 各位大佬， Homebrew 有没有类似于 pipdeptree 这样的工具列出所有的安装的工具的依赖树，方便清理无用的应用</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847977#reply6" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847977</id>
	<published>2022-04-19T11:59:21Z</published>
	<updated>2022-04-19T14:02:00Z</updated>
	<author>
		<name>ChrisFreeMan</name>
		<uri>https://www.v2ex.com/member/ChrisFreeMan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>类似这样</p>
<pre><code class="language-text">{19:57}~ ➭ pipdeptree 
flake8==4.0.1
  - mccabe [required: &gt;=0.6.0,&lt;0.7.0, installed: 0.6.1]
  - pycodestyle [required: &gt;=2.8.0,&lt;2.9.0, installed: 2.8.0]
  - pyflakes [required: &gt;=2.4.0,&lt;2.5.0, installed: 2.4.0]
mypy==0.931
  - mypy-extensions [required: &gt;=0.4.3, installed: 0.4.3]
  - tomli [required: &gt;=1.1.0, installed: 2.0.0]
  - typing-extensions [required: &gt;=3.10, installed: 4.0.1]
Pillow==9.0.1
pip-autoremove==0.10.0
  - pip [required: Any, installed: 22.0.3]
  - setuptools [required: Any, installed: 58.1.0]
pipdeptree==2.2.1
  - pip [required: &gt;=6.0.0, installed: 22.0.3]
pygame-gui==0.6.4
  - pygame [required: &gt;=2.0.1, installed: 2.1.2]
  - python-i18n [required: &gt;=0.3.9, installed: 0.3.9]
pyinstaller==4.8
  - altgraph [required: Any, installed: 0.17.2]
  - macholib [required: &gt;=1.8, installed: 1.15.2]
    - altgraph [required: &gt;=0.15, installed: 0.17.2]
  - pyinstaller-hooks-contrib [required: &gt;=2020.6, installed: 2021.5]
  - setuptools [required: Any, installed: 58.1.0]
rumps==0.3.0
  - pyobjc-framework-Cocoa [required: Any, installed: 8.1]
    - pyobjc-core [required: &gt;=8.1, installed: 8.1]
toga==0.3.0.dev32
  - toga-cocoa [required: ==0.3.0.dev32, installed: 0.3.0.dev32]
    - rubicon-objc [required: &gt;=0.3.0, installed: 0.4.2]
    - toga-core [required: ==0.3.0.dev32, installed: 0.3.0.dev32]
      - travertino [required: &gt;=0.1.3, installed: 0.1.3]
</code></pre>

	]]></content>
</entry><entry>
	<title>[程序员] Shad0ws0cks 这样的代理协议高性能服务端适合用 C#写吗？为什么没见过一个用 C#写的高性能代理服务端？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847976#reply24" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847976</id>
	<published>2022-04-19T11:38:16Z</published>
	<updated>2022-04-19T15:51:18Z</updated>
	<author>
		<name>theklf4</name>
		<uri>https://www.v2ex.com/member/theklf4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[问与答] 国产呼吸机能买吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847975#reply11" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847975</id>
	<published>2022-04-19T11:38:12Z</published>
	<updated>2022-04-19T14:40:20Z</updated>
	<author>
		<name>zictos</name>
		<uri>https://www.v2ex.com/member/zictos</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>看了下瑞迈特的双水平全自动只要 4000 元左右。而瑞思迈之类的国外品牌的双水平全自动好像很贵。<br/>
还有就是国产品牌中鱼跃和瑞迈特哪个好啊？查了下鱼跃公司注册资本几亿，瑞迈特只有几千万。</p>

	]]></content>
</entry><entry>
	<title>[程序员] 想转行学 Java 求过来人分享经验</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847974#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847974</id>
	<published>2022-04-19T11:34:38Z</published>
	<updated>2022-04-18T11:34:38Z</updated>
	<author>
		<name>aChrisByte0r</name>
		<uri>https://www.v2ex.com/member/aChrisByte0r</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>某高考大省双非二本非计算机专业 （偏文科的理科专业）大三 即将面临毕业 不想进入对口行业 想转行程序员 据说 Java 需求比较大</p>
<p>身边有类似经历 通过半年培训班找到还不错的工作 工作在杭州 /上海</p>
<p>看了网上很多例子有说上培训班好的有说自学的 大部分都是说自学的 自认为自学能力不太行 本人数学不好 从高中到大学数学都很差 但是看好多说培训班也实际上都是靠自己 有点怕钱白交了 最后出来也没学会什么  但是我比较看中培训班能介绍工作这一点 毕竟自学费时 项目也不好接 </p>
<p>目前看到的有 AAA 软件教育 还有百知 黑马感觉太贵了 而且黑马在我所在这个城市感觉和其他一线城市差距比较大</p>
<p>有没有类似经验的人可以分享一下 我这种数学不太好的适不适合学 java 另外就是培训班和自学如何抉择 我个人比较偏向培训班 希望有人能指点一下</p>

	]]></content>
</entry><entry>
	<title>[Ubuntu] ubuntu 20.04.4 LTS 安装双系统可能会出现故障</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847972#reply1" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847972</id>
	<published>2022-04-19T11:30:26Z</published>
	<updated>2022-04-19T11:59:17Z</updated>
	<author>
		<name>gleArk</name>
		<uri>https://www.v2ex.com/member/gleArk</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<a target="_blank" href="https://askubuntu.com/questions/1402046/ubuntu-20-04-installation-crashes-at-updates-and-other-software" rel="nofollow noopener">https://askubuntu.com/questions/1402046/ubuntu-20-04-installation-crashes-at-updates-and-other-software</a><br /><br />我碰到了和这个人一模一样的故障，在 win 系统存在时全新安装 20.04.4 出现了卡死在 updates and other software 这一步。<br /><br />后来安装了 20.04.3 ，就什么问题都没有了。<br /><br />谁有 askubuntu 账号的，请去这个问题下用下面这段回答下，我的网段被 askubuntu 屏蔽了。<br /><br /><br /><br />Hi! I was having the exact same error when installing Ubuntu 20.04.4 LTS with alike settings (desktop PC, dual boot, two separate hard disks...), looked for answers everywhere and tried many methods you listed above. Nothing worked.<br /><br />But then I installed Ubuntu 20.04.3 LTS and everything came back to normal.<br /><br />So I believe there is a bug inside Ubuntu 20.04.4 LTS, but I really don't know which one of the settings caused the problem to occur. So just switch to Ubuntu 20.04.3 LTS then upgrade.<br /><br />Here's a link for Ubuntu 20.04.3 LTS<br /><br /><a target="_blank" href="https://old-releases.ubuntu.com/releases/focal/ubuntu-20.04.3-desktop-amd64.iso" rel="nofollow noopener">https://old-releases.ubuntu.com/releases/focal/ubuntu-20.04.3-desktop-amd64.iso</a>
	]]></content>
</entry><entry>
	<title>[问与答] 开源软件应该怎么推广，让他的 star 数量变的更高，来满足自己的虚荣心和增加业余收入...</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847971#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847971</id>
	<published>2022-04-19T11:22:24Z</published>
	<updated>2022-04-19T11:21:24Z</updated>
	<author>
		<name>helloworld1024</name>
		<uri>https://www.v2ex.com/member/helloworld1024</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，钓鱼贴哈，欢迎各位贴自己的开源项目到评论区。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 前天注册的 Apple id，在 iPhone12 上登录没多久就停用了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847970#reply1" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847970</id>
	<published>2022-04-19T11:22:20Z</published>
	<updated>2022-04-18T19:22:20Z</updated>
	<author>
		<name>fhbyljj</name>
		<uri>https://www.v2ex.com/member/fhbyljj</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	登录任何苹果服务都提示此 Apple id 已停用<br /><br /><br /><br />梯子是 AZ 绕过大陆 IP<br /><br /><br /><br />登陆后只是下载了 APP
	]]></content>
</entry><entry>
	<title>[职场话题] 为了辞退老员工，故意弄个述职会，全都弄不合格，为了规避法律责任说你工作能力不达标</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847969#reply17" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847969</id>
	<published>2022-04-19T11:19:49Z</published>
	<updated>2022-04-19T15:54:30Z</updated>
	<author>
		<name>Serino</name>
		<uri>https://www.v2ex.com/member/Serino</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>上次发了个
《国企工作 20 年，还剩不到 3 年退休，这种情况是不是只能闷声吃个 N 的补偿了？》
<a href="https://v2ex.com/t/839042" rel="nofollow">https://v2ex.com/t/839042</a></p>
<p>现在有了新的情况。</p>
<p>现在年老要被搞走的那些，前些天全都要参加一个述职会。
述职会就是每个人弄个 PPT ，向几个领导阐述去年工作情况。</p>
<p>实际就是找由头，故意说你去年做得不怎么样，给你打个低分（为什么去年得低分，以及这次为何没通过，具体评分标准也不公布）。</p>
<p>这次述职会结束后，需要述职的这些人，一个都没通过。
没通过这些，之后需要签一份协议，大概意思是说，你工作能力不合格，需要培训两个月，两个月后再考核，如果继续不通过，就可以认为你工作能力不达标，可以解除劳动合同。</p>
<p>实在太恶心了。🤦‍♂️</p>

	]]></content>
</entry><entry>
	<title>[Go 编程语言] GlideIM - Golang 实现的高性能的分布式 IM</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847968#reply5" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847968</id>
	<published>2022-04-19T11:18:06Z</published>
	<updated>2022-04-19T14:55:24Z</updated>
	<author>
		<name>denua1</name>
		<uri>https://www.v2ex.com/member/denua1</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>GlideIM 是一款真正的<strong>完全开源</strong>, Golang 实现的高性能分布式 IM 服务, 有完整的安卓 APP 示例, JAVA SDK, Web 端示例, 持续更新迭代中.</p>
<p>GlideIM 支持单实例, 分布式部署. 支持 WebSocket, TCP 两种连接协议, 内置 JSON, ProtoBuff 两种消息交换协议, 并支持添加其他协议, 消息加密等. 还实现了智能心跳保活机制, 死链接检测, 消息送达机制等功能.</p>
<p>这个项目自 2020 年中旬开始, 三端均开发由我一个人独自不间断开发直到现在, 也是我第一个耗费最多精力去开发及学习的项目. 由于我工作较多空闲时间, 基本上都在开发本项目, 边学习边开发, 查阅了大量资料, 经过大量的思考, 目标就是一个高性能分布式 IM. 第一版微服务架构在开发三个月的时候基本已经完成了, 后面则是做了微服务架构调整, 和进一步优化 IM 服务细节, 截至目前(2022 年 3 月 3 日), 距离我预期的第二版, 只剩下一些收尾工作.</p>
<p><strong>本项目将持续更新迭代.</strong></p>
<ul>
<li>服务端源码: <a href="https://github.com/Glide-IM/Glide-IM" rel="nofollow">GlideIM - GitHub</a></li>
<li>Android App 下载: <a href="https://github.com/Glide-IM/Glide-IM-Android/releases" rel="nofollow">Android - GitHub</a></li>
<li>Web 端: <a href="http://web.t.glide-im.pro/" rel="nofollow">GlideIM</a></li>
</ul>
<h2>一. 功能</h2>
<h3>1.1 用户侧功能</h3>
<ul>
<li>无感掉线重连, 消息同步</li>
<li>登录注册及保持登录</li>
<li>一对一聊天, 群聊</li>
<li>消息漫游, 历史记录</li>
<li>离线消息</li>
<li>多设备登录, 同设备互挤下线</li>
<li>多种类型的消息 (图片, 语音等, 由客户端定义)</li>
<li>消息撤回</li>
<li>联系人管理, 群管理</li>
</ul>
<h3>1.2 开发侧功能</h3>
<ul>
<li>支持 WebSocket, TCP, 自定义连接协议</li>
<li>支持 JSON 或 Protobuff 或自定义数据交换协议</li>
<li>支持分布式部署, 水平扩展</li>
<li>心跳保活, 超时断开, 清理死链接</li>
<li>消息缓冲, 异步处理, 弱网优化</li>
<li>消息送达机制, 消息重发, ACK</li>
<li>消息去重, 顺序保障, 读扩散</li>
</ul>
<h2>二. 项目架构</h2>
<p>为了提高可用性和整体的稳定性, 单机性能的限制, 必须使用分布式架构, 微服务的模式方便了维护. 本项目对 IM 业务部分拆分了六大核心主模块(服务), 每个服务可以水平任意数量扩展, 整个系统可以具有一定的伸缩性, 每个模块根据其业务特性划分, 逻辑和接口分离, 在保证接口简洁性的同时也有足够的扩展性.</p>
<p><img alt="i" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://github.com/Glide-IM/Glide-IM/blob/master/_art/system_arch.png?raw=true"/></p>
<h3>2.1 聊天服务划分</h3>
<h4>Gateway</h4>
<p>Gateway 模块为管理用户连接的聊天服务网关, 所有用户消息上下行都由这个模块处理. Gateway 管理用户连接, 消息的接收解析, 消息下发, 判断连接是否存活, 标识用户连接, 断开用户连接.</p>
<p>Gateway 依赖 Messaging 服务, 接收到客户端消息将交由 Messaging 处理, Gateway 提供指定 uid 登录, 登出, 下发消息三个接口.</p>
<h4>Messaging</h4>
<p>Messaging 负责不同类型消息的路由, 例如群消息, API 消息, 也处理部分类型的消息, 例如 ACK 消息, 单聊消息, 心跳消息. 根据消息类型分别转发给 Dispatch (用户消息), API (API 消息), Group(群消息).</p>
<p>Messaging 依赖 API, GroupMessaging, Dispatch, 提供一个消息路由接口.</p>
<h4>Group</h4>
<p>(GroupMessaging), 群聊服务, 主要负责多人聊天消息的下发, 保存, 群消息确认, 成员管理. 用户上线后同步联系人时初始化群聊列表, 根据群聊所在服务通进入群聊天.</p>
<p>Group 服务依赖 Dispatch 服务, 提供群更新, 成员更新, 发送消息到指定群三个接口.</p>
<h4>API</h4>
<p>目前暂时作为长连接的登录鉴权, HTTP API 接口都可以通过长连接消息访问, 这个可以根据具体情况灵活配置, 只需配置相关路由即可.</p>
<p>API 依赖 Dispatch, Group 服务. 提供一个处理 API 类型消息的接口.</p>
<h4>Dispatch</h4>
<p>消息路由服务, 用于消息路由到用户所在网关, 在用户登录时通知 Dispatch 更新缓存用户对应的网关, 缓存信息通过一致性哈希保存在固定的一个服务上, 消息下发时查询缓存, 根据查询到的网关信息放入到 NSQ 队列, 每 Gateway 订阅自己的消息. 这里的消息不一定是用户消息, 也可以是通知网关更新用户状态的控制消息, 例如登录登出, 由于使用消息队列进行通信, 所以叫做消息, 其实是调用 Gateway 的接口.</p>
<p>Dispatch 不直接依赖任何服务, 消息通过 NSQ 发送到 Gateway, 提供更新路由和下发消息两个接口.</p>
<h4>Broker</h4>
<p>群聊与用户网关一样是属于带状态服务, 消息需要准确快速路由到群所在路径, Broker 和 Dispatch 功能大致相似.</p>
<h4>NSQ</h4>
<p><a href="https://nsq.io/" rel="nofollow">NSQ</a> 是 Golang 实现的消息队列, 所有消息都通过 NSQ 路由. 相比其他 MQ 选择 NSQ 的理由: 去中心分布式(生产消费直连), 低延迟, 不需要顺序, 高性能, 简单二进制协议.</p>
<p>在每一台生产者上都部署一个 nsqd.</p>
<h3>2.2 HTTP API 服务划分</h3>
<ul>
<li><strong>认证</strong>: 用户鉴权, 登录注册等</li>
<li><strong>用户</strong>: 用户信息管理</li>
<li><strong>消息</strong>: 消息同步, 拉取等接口, 消息 ID</li>
<li><strong>群管理</strong>: 群增删改查</li>
<li><strong>其他</strong></li>
</ul>
<p>以上划分只是在项目中的模块划分, 并未独立成服务, 但拆分这些是轻而易举的事情, 上面这些接口既可以通过 HTTP 服务访问, 也可使用长连接访问, 长连接 与 HTTP 访问的差异在于: 1. 长连接访问需要添加 <code>公共请求体</code>, 2. 公共响应体定义不同.</p>
<h3>2.3 消息路由</h3>
<h4>网关消息路由</h4>
<p>在分布式部署环境下, 网关可能部署任意个实例, 用户可能连接到其中任意一个实例中, 当需要给某一个用户发送消息, 或者断开某个用户的连接时, 我们需要找到这个用户所在的网关, 这就需要记录所有在线用户所在网关. 可能快想到的是使用 Redis, 或者 Redis 加二级缓存, 但 IM 系统消息吞吐量非常大, 而且存在扩散等其他原因, Redis 很容易成为性能瓶颈.</p>
<p>GlideIM 使用一致性哈希算法, 将每个用户连接的网关信息按照 UID 分布在不同的 Dispatch 服务上, 从而达到分散缓存, 负载均衡, 及提高可用性的目的.</p>
<p><img alt="i" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://github.com/Glide-IM/Glide-IM/blob/master/_art/msg_routing.png?raw=true"/></p>
<p>如上图所示, Dispatch 在整个环节中承当了消息分发的角色. 当某一个 Dispatch 服务宕机后, 该服务中所有缓存的网关信息都将丢失, 根据一致性哈希算法, 原来的请求都转向了下一个 Dispatch, 显然这个服务上是没有已宕机的那个服务缓存的信息的, 我们可以在用户登录后将登录信息缓存在 Redis 中 (查询登录设备列表等其他场景共用), Dispatch 内存中没查到再去 Redis 查找, 查找一次后缓存在内存中即可.新上线的用户则不影响, 只影响在线期间网关信息保存的 Dispatch 服务宕机的用户.</p>
<h4>群消息的路由</h4>
<p>群和用户一样 Group 服务也需要一样的路由, 不同群可能分布在不同的服务上, 但群并不会随意切换所在服务, 一般只有群所在的服务异常的时候重新加载群信息才可能重新分配, Broker 读多写少, 因此只需要在所有 Broker 中都缓存所有群所在服务即可, 群消息可以通过任意一台 Broker 转发, 当 Group 服务掉线和加载群时通知所有 Broker 更新即可.</p>
<h3>2.4 设计准则</h3>
<p>在本项目中, 我一直在探索和追求项目整洁性与复杂系统架构之间矛盾的解决方案, 但由于我没有任何相关经验, 在项目中可能出现一些非主流的风格或错误冗余的设计, 若你对此有任何疑惑或指教, 请在 issues 中自由地发表你的想法.</p>
<p>在面对一个庞大复杂的问题, 将问题拆分并抽象成对象, 划分为一个个小问题往往方便解决, OOP 在这方面一直是优势, 本项目使用了较多的 OOP 思想. </p>
<h4>使用接口</h4>
<p>对一些可能需要扩展的关键点, GlideIM 使用接口的方式实现的, 例如 Dao (数据访问对象)层实现均为接口, 出于时间原因(还有我本人对数据库方面知识匮乏), 项目中对数据库方面均是简单实现, 并未考虑例如性能等优化, 但接口不影响后期对这方面升级和替换.</p>
<h4>按业务分包</h4>
<p>包的划分方式一般有两种, 按层分包和按业务分包. 按层分包就是相同类型的模块放在同一个包, 例如将所有的 API 请求处理模块放一层, 将请求和响应的实体对象放在同一个包, 这这方法给模块的管理增加了不便, 我们更改一个接口需要在几个不同的包中修改代码, 这样分包一个包里的不同代码没有任何关联, 完全是类似于图书馆管理员根据书的出版社进行分类一样.</p>
<p>而按功能分包则不会出现更新一个功能, 修改不同包的代码的情况, 一个功能相关的代码都在相同包内. GlideIM 每个包尽量都遵循单一职责原则, 多个包之间尽量降低耦合度.</p>
<h4>模块接口依赖</h4>
<p>项目包的划分基本和微服务的模块划分保持一致, 刚开始启动的本项目时就按照了按功能划分模块的方法, 并且每个模块只暴露提供给其他模块的接口, 模块之间的调用只通过特定的接口, 这样设计即方便维护也方便其他人查看代码, 不会使得模块之间的调用凌乱, 而且也为后期微服务化的提供了极大便利.</p>
<p>例如 Gateway 模块的接口</p>
<pre><code class="language-go">// 提供给其他模块的接口
type Interface interface {
    ClientSignIn(tempId int64, uid int64, device int64)
    ClientLogout(uid int64, device int64)
    EnqueueMessage(uid int64, device int64, message *message.Message)
}
// Gateway 依赖的接口
type MessageHandleFunc func(from int64, device int64, message *message.Message) 
</code></pre>
<p>其他模块只需要知道 Gateway 模块提供客户端的登录登出和将消息加入到指定 ID 的客户端的队列即可, 其他模块不必知道 Gateway 的具体实现, 我们可以轻而易举的将这个模块替换为一个微服务服务.</p>
<h3>2.5 微服务</h3>
<p>GlideIM 使用 <a href="https://rpcx.io/" rel="nofollow">RPCX</a> 作为微服务的基础, 开箱即用的微服务方案让我选择了它, RPCX 功能丰富, 性能优越, 集成了服务发现, 多种路由方案, 以及失败模式, 服务发现使用 <a href="http://www.etcd.cn/" rel="nofollow">ETCD</a>.</p>
<p>服务间通讯均使用 Protobuff + RPC 方式, 在性能上这是最好的选择组合.</p>
<h3>2.6 项目介绍</h3>
<h4>项目目录</h4>
<p>一下目录结构省略了部分不重要的目录</p>
<pre><code class="language-text">├─cmd                   // 入口(从这里开始运行)
│  ├─performance_test   // 性能测试代码入口
│  ├─run                // 项目程序入口
│  │  ├─api_http        // API 接口的 HTTP 服务, 提供给客户端访问
│  │  ├─api_rpc         // API 接口的 RPC 服务, 提供给其他服务使用
│  │  ├─broker          // 群路由服务
│  │  ├─dispatch        // 网关路由服务
│  │  ├─getaway         // 网关服务
│  │  ├─group           // 群服务
│  │  ├─messaging       // IM 消息路由服务
│  │  └─singleton       // 单实例运行 (这里同时启动 IM 和 HTTP API 接口)
│  └─script             // 部署脚本
│      ├─etcd           // 启动 etcd 脚本
│      ├─glide_im       // 项目部署脚本
│      └─nsq            // nsq 部署脚本
├─config                // 配置入口
├─doc                   // 项目文档
├─im                    // IM 核心逻辑入口
│  ├─api                ////////////// API 接口
│  │  ├─apidep          // API 外部依赖        
│  │  ├─auth            // 登录认证
│  │  ├─comm            // 公共
│  │  ├─groups          // 群管理
│  │  ├─http_srv        // api http 服务启动逻辑
│  │  ├─msg             // 消息
│  │  ├─router          // 通过长连接访问接口的路由抽象
│  │  └─user            // 用户相关
│  ├─client             ///////////// 用户连接管理相关
│  ├─conn               // 长连接基础抽象
│  ├─dao                // 数据访问层, 数据库相关
│  ├─group              // 群聊, 及群聊消息
│  ├─message            // IM 消息定义
│  ├─messaging          // IM 消息路由
│  └─statistics         // 数据统计, 测试用
├─pkg                   ///////////// 包, 公共依赖管理
│  ├─db                 // 数据库
│  ├─hash               // hash 算法实现
│  ├─logger             // 日志打印
│  ├─lru                // lru 缓存实现
│  ├─mq_nsq             // nsq 封装
│  ├─rpc                // rpc 封装, 基于 rpcx
│  └─timingwheel        // 定时器, 时间轮算法实现
├─protobuf              //////////// protobuf 消息定义
│  ├─gen                // 编译好的文件
│  ├─im                 // im 消息定义
│  └─rpc                // rpc 通讯消息定义
├─service               /////////// 微服务
│  ├─api_service        // api 微服务实现
│  ├─broker             // 群路由 broker 服务
│  ├─dispatch           // 网关消息路由服务
│  ├─gateway            // 网关服务实现
│  ├─group_messaging    // 群服务
│  ├─messaging_service  // im 消息路由服务
├─sql                   // 数据库表结构 SQL
</code></pre>
<ul>
<li>项目查看指南</li>
</ul>
<p>IM 核心逻辑在根目录下 <code>im</code> 中, 除了微服务相关, IM 主要业务逻辑实现均在这个目录下, <code>im</code> 下包的划分大致可以看做是后面微服务的划分, <code>im/conn</code> 包中是长连接服务器启动和连接对象接口的逻辑, 新的连接将交由 <code>im/client</code> 包中管理, 这个包大致是管理连接, 读写解析消息的, 收到链接中的消息将交由 <code>im/messaging</code> 包处理, 这个包工具消息类型交给不同的模块, 例如: 认证消息给 <code>api</code> 模块处理, 群消息分发给 <code>group</code>, 单聊消息则 <code>im/client</code> 下发. <code>im</code> 下涉及业务逻辑的包下基本都有一个 <code>interface.go</code> 文件, 这个文件定义了这个包的依赖以及向外部提供的接口.</p>
<p>微服务相关的代码都在根目录 <code>service</code> 包下面, IM 核心业务相关的服务逻辑都在 <code>im</code> 下, 服务只是对其接口使用 rpc 服务的方式进行实现, 并在 <code>im</code> 包中对应接口的默认实现进行替换, 例如 <code>messaging_service</code> 服务(消息路由)则是将 <code>im/messaging</code> 包下的 <code>Interface</code> 接口的实现替换为 <code>messaging_service</code> 的 <code>Server</code>, 而 <code>messaging</code> 依赖的其他包则是对应服务下的 <code>Client</code>, 查阅每个服务包下的 <code>run.go</code> 即可找到服务启动代码, 其中包含了其依赖的和实现设置.  </p>
<p>对于将核心逻辑和微服务剥离的这种模式是因为一开始并将微服务的划分定型(也经过了几次较大的改动), 或者为了方便将 IM 部分核心逻辑先实现和理清, 所以将两者放在两个不同的地方, 但在我实践的过程中, 对于服务的改动和 <code>im</code> 下核心逻辑(模块接口改动除外)的改动并不会互相牵连, 这点给我很大的便利, 我还有一定的自由度划分添加服务, 例如在 <code>group</code> 服务中间加一个 <code>broker</code>, 或者可以针对特定 <code>im</code> 中某个模块的接口中的一个方法进行特殊处理.</p>
<p>但是上面所说的便利仅仅是因为我当时对微服务不太熟悉, 项目开发过程改动较大, 分开改动的时候稍微方便一些. 这样做代价就是, 两者分开不利于代码查看, 这其实是一种分层, <code>im</code> 下定义接口及默认实现, 上层<code>service</code>定义接口的实现, 但这些接口之间的依赖关系, 还是要去 <code>im</code> 中寻找, 后面可能会考虑将这两个包合并在一起.</p>
<h4>项目主要依赖</h4>
<ul>
<li><a href="https://github.com/BurntSushi/toml" rel="nofollow">BurntSushi/toml</a>: 这是一款优秀的配置文件格式, 个人比较喜欢</li>
<li><a href="https://github.com/gin-gonic/gin" rel="nofollow">gin</a>: 优秀的 HTTP Web 框架</li>
<li><a href="https://github.com/gogo/protobuf" rel="nofollow">protobuff</a>: Google 出品二进制数据传输协议</li>
<li><a href="https://github.com/gorilla/websocket" rel="nofollow">gorilla/websocket</a>: Golang 中最多 star 的 WebSocket 库</li>
<li><a href="https://github.com/nsqio/go-nsq" rel="nofollow">nsq</a>: 简单, 高性能, 分布式 MQ</li>
<li><a href="https://github.com/smallnest/rpcx" rel="nofollow">rpcx</a>: 高性能, 功能丰富的微服务框架</li>
<li><a href="gorm.io/gorm" rel="nofollow">gorm</a>: ORM</li>
<li><a href="https://github.com/go-redis/redis" rel="nofollow">go-redis/redis</a>: Redis 客户端</li>
<li><a href="github.com/panjf2000/ants/v2" rel="nofollow">ants</a>: 协程池</li>
</ul>
<h4>构建和运行</h4>
<p>根目录下 <code>cmd/run</code> 下的包为程序入口, 包名表示其服务 /模式, 例如 <code>api_http</code> 包为以 HTTP 服务启动 API 的接口(提供给客户端 HTTP 方式调用), <code>api_rpc</code> 为启动 API RPC 服务(提供给其他服务调用), 为了快速调试, 这里还有一个单实例模式 <code>singleton</code>, 这个入口会同时启动 IM 长连接服务和 HTTP API 服务, 方便调试 <code>im</code> 核心逻辑, 或者调试客户端用.</p>
<p><strong>环境依赖</strong></p>
<ul>
<li>
单实例<ul>
<li>redis</li>
<li>mysql</li>
</ul>
</li>
<li>
微服务<ul>
<li>nsq</li>
<li>etcd </li>
<li>包含单实例的所有依赖</li>
</ul>
</li>
</ul>
<p><strong>配置文件</strong></p>
<ul>
<li>单实例模式在 <code>singleton</code> 包中 <code>config.toml</code> 修改相关配置</li>
<li>微服务模式需要将 <code>service/example_config.toml</code> 文件复制到对于服务入口下, 并根据环境修改相关配置</li>
</ul>
<p>如果依赖或者其他原因无法在 IDE 中运行代码, 可以在 <img alt="这里" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://github.com/Glide-IM/GlideIM/releases"/> 下载已经编译好的 <code>singleton</code> 模式的可执行文件.</p>
<h3>2.7 现存问题</h3>
<h4>协议相关</h4>
<ul>
<li>客户端协议选择</li>
</ul>
<p>目前为了方便客户端使用 json 进行通信, 也是因为浏览器对二进制协议的支持不友好, 但后端对二者都有实现, 协议动态选择并没有实现, 或者区分 websocket 和 tcp 网关, 将二者区分, 浏览器的与移动端环境有差异, 但未做处理.</p>
<ul>
<li>Protobuf 和 Json 的兼容</li>
</ul>
<p>微服务使用 protobuf 协议, 而客户端消息可能以 json 协议, 部分使用同一个由 <code>protoc</code> 编译生成的 struct 在兼容上存在一些问题, 暂未处理.</p>
<ul>
<li>消息解析性能</li>
</ul>
<p>使用 go 中的 json.Marshal 性能极差, 在整个消息流转过程中占用了大量时间, 暂未优化, 目前有多种第三方方案可以选择.</p>
<ul>
<li>协议版本</li>
</ul>
<p>消息协议可能会升级, 新老客户端使用不同协议版本兼容上为做处理.</p>
<h4>数据库相关</h4>
<ul>
<li>消息 ID 生成</li>
</ul>
<p>项目中目前使用 Redis Incr 生成递增 ID, 存在性能问题, 后面可以考虑使用 Leaf 等方案.</p>
<ul>
<li>数据库, 表, 查询优化</li>
</ul>
<p>未对这方面做任何优化, dao 层均只是简单实现了 CRUD 功能.</p>
<h4>微服务相关</h4>
<ul>
<li>配置管理</li>
</ul>
<p>目前启动服务是通过本地配置文件加载配置启动, 部署管理起来不太方便, 后面考虑使用配置中心.</p>
<ul>
<li>包结构</li>
</ul>
<p>目前微服务和 IM 逻辑是分层设计, 不方便维护和查看, 后面需要调整.</p>
<h4>群聊的相关</h4>
<ul>
<li>消息风暴</li>
</ul>
<p>群消息存在扩散问题, 尤其是大群一个成员发消息扩散几千上万次, 群数量稍微多一点或者消息稍微频繁一点, 消息数量非常容易失控. 在微服务模式下需要对系统网关的用户消息进行合并打包成一条消息.</p>
<ul>
<li>群聊服务故障</li>
</ul>
<p>群聊属于带状态服务, 当群所在服务宕机后如何不影响群消息的分发, 这点暂未处理, 对于恢复可以新增一个群聊服务监控服务, 监控到某一个群聊服务掉线立马恢复, 但这仅是故障恢复而不是对故障转移.</p>
<h2>三. 设计细节</h2>
<p>由于 GlideIM 的设计细节较多, 限于时间和篇幅, 这里只列举了几个较为重要的环节来做简单的说明, 详细情况或其他未说明的地方可以查看源码或加入讨论群一起讨论.</p>
<h3>3.1 消息类型</h3>
<p>IM 消息类型指的是聊天协议消息类型, 注意区别聊天内容的消息类型, IM 消息类型关联前后端双方的业务逻辑, 聊天消息类型只需要在前端处理.</p>
<ul>
<li>
<p>IM 消息类型</p>
<ul>
<li>聊天消息: 重发, 重试, 撤回, 群聊, 单聊</li>
<li>ACK 消息: 服务器确认收到, 接受者确认通知, 接受者确认送达</li>
<li>心跳消息: 客户端心跳, 服务端心跳</li>
<li>API 消息: 令牌认证, 退出等</li>
<li>通知消息: 新联系人, kickout, 多端登录等</li>
</ul>
</li>
<li>
<p>聊天内容消息类型</p>
<ul>
<li>图片</li>
<li>文本</li>
</ul>
</li>
</ul>
<p>消息类型由客户端定义及处理, 二进制消息例如语音, 图片则上传到服务器再发送 URL. 例如红包这种互动型消息, 一样可以使用这种方法.</p>
<p>客户端之间定义约定消息类型即方便了后期添加消息类型, 也方便了后端维护, 后端并不需要知道消息内容的类型.</p>
<h3>3.2 送达机制</h3>
<p>虽说 TCP 是可靠传输, 但在消息传递过程并不是万无一失的, 例如, 接受者在线但网络不好, 客户端在重连, 则消息可能不能及时送达接受者, 设计一个送达机制提高送达率是必要的. GlideIM 采用了单条消息两次确认(服务端和接收者)的送达机制.</p>
<p>A 发送一条消息给 B, 如果 B 在线, 服务端则回复 A 一条服务端确认收到消息告诉 A 服务端已收到, 已经入库保存了, 然后服务端发送给 B, B 收到则发送一条确认收到消息给服务端, 服务端收到后再发送一条确认送达消息给 A, 若 B 不在线则直接发送给 A 确认送达,  A 此时就知道这条消息一定被 B 收到了, 在此过程中 A 如果没有收到 B 确认收到则多次重试.</p>
<p>在客户端做重发避免了服务端逻辑复杂化, 而客户端做则大大简化了逻辑. 有了这个送达机制, 不管是消息丢了还是网络环境不好的时候, 都能提高送达率和消息及时率, 再者若我们使用 UDP, 有了这个机制也可以确保消息的送达率.</p>
<p>GlideIM 消息 ACK 机制几种消息丢失情况下的时序图如下:</p>
<p><img alt="Message ACK" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://github.com/Glide-IM/Glide-IM/blob/master/doc/img/message_ack.png?raw=true"/></p>
<p>以上只是 GlideIM 保障送达的一部分, 实际上还有接收端根据 Seq 判断是否消息缺失等其他措施.</p>
<h3>3.3 消息路由</h3>
<p>在分布式环境下, 用户连接到不同的网关上, 我们必须知道用户所在的网关才能准确的投递消息, 因此, 必须在用户连接到网关的时候缓存所在网关信息, 在投递消息的时候才能准确地投递到用户所在网关.</p>
<p>GlideIM 的设计是在用户登录时在 Redis 中缓存网关信息, 我们当然不能每次发消息都查询 Redis, 可以在内存中缓存一份, 内存中没有则查询 Redis. 用户登录聊天服务后根据联系人列表所在不同网关, 通知网关更新自己的路由信息.</p>
<p>为了避免客户端频繁切换网关, 客户端接入网关由服务端在用户登录时返回, 这样做还可以为制定负载均衡策略, 多端登录连接同网关等做考虑.</p>
<h3>3.4 保活机制</h3>
<p>TCP 虽有 KeepAlive, 但其默认时间太长, 且不能判断服务是否可用或客户端是否可用, KeepAlive 仅仅保证 TCP 处于连接状态, 如果应用层发生错误, 服务端连接却依旧通畅明显是不行的.</p>
<p>心跳分为服务端心跳和客户端心跳, 大部分情况是客户端侧网络不通畅, 例如进电梯, 息屏省电模式, 而服务端一般只会在宕机的情况才会网络不通畅, 因此 GlideIM 在客户端进行主动心跳, 若在指定时间内服务端未收到心跳则服务端开始发送心跳包, 指定次数没有收到客户端心跳则断开连接.</p>
<p>客户端心跳为 30s, 但并不是每隔 30s 都发心跳, 而是 30s 内客户端没有主动发送任何消息, 则进行一次心跳, 服务端也是根据这个规则判断, 这样减少了心跳的次数的同时也能确保存活.</p>
<h3>3.5 消息协议</h3>
<p>消息协议需要考虑到消息编码后的大小, 可读性, 编码速度, 支持的语言等. 可以选择二进制协议和文本协议两种, 二进制例如 Protobuff, 或者自定义, 文本协议例如 JSON, XML.</p>
<p>GlideIM 同时实现了 Protobuff 和 JSON 两种消息协议. 客户端可以自由选择使用哪种协议, 在测试结果中显示 Protobuff 比 JSON 至少快 10 倍, 在使用 JSON 时整个流程中, 消息解析占用了很大一部分时间.</p>
<h3>3.6 消息去重和排序</h3>
<p>GlideIM 的消息去重依靠全局消息 ID, 消息 ID 暂时使用 Redis Incr, 后面会使用美团 Leaf, 在 GlideIM 中替换消息 ID 生成策略非常简单, 消息 ID 由客户端发送消息时获取, 发送时附带该 ID 以实现去重, 和发送方消息的排序.</p>
<p>在一对一单聊的情况, GlideIM 只保障发送方有序, 而一个会话内的所有消息是不必保障顺序的, 相对其付出的代价和带来的收益. 而群聊则是保障所有消息有序的, 群消息下发会附带当前群的连续递增 Seq, 收到群消息根据 Seq 排序, 若发现不连续则拉取不连续部分的消息.</p>
<h2>四. 性能测试</h2>
<p>GlideIM 消息面对高并发吞吐量压力测试:</p>
<p><img alt="P" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://raw.githubusercontent.com/Glide-IM/Glide-IM/master/_art/msg_io_no_db.png"/></p>
<h3>4.1 测试结果</h3>
<p>单实例部署模式下, 4H8G, 100Mbps 宽带理论上支持 20w 活跃用户在线同时聊天, 此时带宽是性能的瓶颈.</p>
<h3>4.2 测试过程</h3>
<p>服务端配置</p>
<pre><code>Windows 10
AMD R5 3600 6 核 12 线程 
16GB 内存
100Mbps 网卡
</code></pre>
<h4>案例 1 测试过程</h4>
<p>A 机器运行服务端, B 模拟客户端连接登录发消息的过程, 并运行数据库</p>
<p>同时模拟 2000 客户端, 每间隔 60ms-200ms 发送一条消息, 每个客户端发送 600 条消息, 共计 1200_000 条消息.</p>
<p>网卡负载平均 90% (100Mbps), 每秒约 30_000 条消息吞吐量, 每秒上下行各 15k 条, 送达率 100%, 所有消息延时&lt;=20ms, 参考结果 1 图.</p>
<p>测试情况:</p>
<pre><code>网络 100%
2000 连接
5-20 条消息 /秒 /连接
30k 消息 /tps
送达率 100%
</code></pre>
<h4>案例 2 测试过程</h4>
<p>这个案例只为了测试程序在高并发情况下的运行情况, 参考价值也仅限于程序本身的短板和代码逻辑极限, 在实际情况中我们无法忽略网络速率等因素的影响.</p>
<p>由于需要去除网卡速率限制, 服务和模拟客户端都在同一台设备上运行则不受网络因素影响, 模拟 10000 个链接, 每个连接 50ms-100ms 发送一条消息, 总共发送 800 条.</p>
<p>此案例消息吞吐量极限为 28w, 此时已达到 cpu 性能极限, 占用率约 98%, 客户端模拟 cpu 占用率高于服务端, 但无关紧要.</p>
<p>测试案例 pprof CPU 使用情况分析数据: <a href="https://github.com/Glide-IM/Glide-IM/raw/master/_art/cpu_pprof_msg_io_no_db.out" rel="nofollow">cpu.out</a></p>
<p>测试情况:</p>
<pre><code>CPU 98 %
内存约 3 GB
10000 连接峰值, 每 10ms 开始一个连接
10-20 条消息 /秒 /连接, 累计发送 800 条
280k 消息 /tps 峰值
送达率 100%
</code></pre>
<h4>测试环境限制</h4>
<p>由于测试只有两台电脑, 存在端口数限制(部署到服务器, 用户连接不存在这个限制), 为了提高 MySQL 连接池的大小提高并发, 必须尽量用更少的连接数和每个连接更密集的发送消息来进行测试</p>
<p>百兆网卡上限速率只有 12.5MB/s, 一条消息包含 20 个汉字则至少需要 40B, 再加上报头其他占用, 假设 100B, 则实际百兆网卡最大的消息并发是 12.5 x 1024 x 1024 / 100 = 13w 条, 而去除
ACK, 再上下行消息数量对半, 实际可能就 6w/s 消息就是 GlideIM 在 100Mbps 环境下的理论极限.</p>
<h4>测试代码</h4>
<p>单机性能测试</p>
<p>测试代码路径: <a href="https://github.com/Glide-IM/Glide-IM/tree/master/cmd/performance_test" rel="nofollow">/cmd/performance_test/</a></p>
<p>1.启动服务器</p>
<pre><code class="language-shell">go test -v -run=TestServerPerf
</code></pre>
<p>2.开始用户模拟</p>
<pre><code class="language-shell">go test -v -run=TestRunClient
</code></pre>
<h3>4.3 性能参考指标说明</h3>
<h4>连接数</h4>
<p>很多 IM 项目喜欢用类似于 "百万连接" 之类的字眼, 很多人可能是受常规 HTTP 服务 "百万并发" 的影响, 认为百万连接与百万并发具有一致的性能参考价值, 开发者为了吸引眼球使用百万连接的字眼, 也确实支持百万链接.</p>
<p>事实上, TCP(或 WS) 连接数的限制并不在于程序本身, 系统最大可打开 文件描述符 和 内存 限制了最大连接数, 一个 TCP 连接大约需要占用 4-10KB 内存, 一台 16GB 的服务器理论上最大支持约 16 * 1024 *
1024 / 5 ≈ 335w 连接.</p>
<p>活跃用户数则比单纯的连接数更有参考价值, 例如支持 100w 活跃连接, 每个活跃连接 10s 发送一条消息.</p>
<h4>消息吞吐量</h4>
<p>相比连接数, 消息吞吐量更具有参考价值, 消息吞吐量需要结合网络速率做参考. 消息吞吐量受限点主要有一下几个:</p>
<ol>
<li>消息送达保障机制的性能(即保障送达又不冗余)</li>
<li>消息数据传输协议的性能(单条消息尽可能减小体积)</li>
<li>非用户消息的数据包数量控制(例如心跳包, 内容同步包等)</li>
<li>网络速率和质量(外部因素)</li>
<li>程序本身消息下发设计缺陷</li>
</ol>
<h4>其他指标</h4>
<p>考量一款 IM 的性能的意义大部分可能只在于揭示它自身的性能短板, 横向对比其他项目在大部分情况都无法得出正确的对比结果, 单项指标也不能完全衡量整个项目的优劣, 我们应该结合其业务逻辑, 设计思想, 学习其优点才能有所收获.</p>
<ol>
<li>消息送达率</li>
<li>消息延迟和消息顺序的准确性</li>
<li>链接保活和去死链(心跳)</li>
</ol>
<h3>4.4 性能指标估算</h3>
<p>1.连接数</p>
<p>假设设内存为 M GB</p>
<pre><code class="language-text">理论连接数  = M * 1024m * 1024k / (4k/tcp)

保守估算连接数 = M * 1024m * 1024k / (10k/tcp)
</code></pre>
<p>2.消息吞吐量估算</p>
<p>设网卡速率为 S Mbps, 平均每条消息为 K 字节(写入 TCP 连接时的总大小).</p>
<pre><code class="language-text">消息吞吐量 = S / 8 * 1024k * 1024b / K
</code></pre>
<p>3.活跃用户数估算</p>
<p>设吞吐量 T, 设平均每个用户每 N 秒发送一条消息.</p>
<ul>
<li>在确认送达机制下 (每条消息的发送, 假设收发双方读在线, 服务端客户都需 ACK, 共需要 5 条消息上下行)</li>
</ul>
<pre><code class="language-text">活跃用户数 = T / 5 * N
</code></pre>
<ul>
<li>仅确认送达服务端</li>
</ul>
<pre><code class="language-text">活跃用户数 = T / 3 * N
</code></pre>

	]]></content>
</entry><entry>
	<title>[MacBook Pro] 新款 MBP 屏幕次亮时 A 面明显发热</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847967#reply4" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847967</id>
	<published>2022-04-19T11:16:21Z</published>
	<updated>2022-04-19T12:29:26Z</updated>
	<author>
		<name>MrSheng</name>
		<uri>https://www.v2ex.com/member/MrSheng</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>大家有感觉么，摸起来温暖极了，比机器本身还热。在调低一点亮度就完全不热了。</p>

	]]></content>
</entry><entry>
	<title>[程序员] 请问有人了解 IDEA 编辑中文时如何根据中文分词进行光标移动控制吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847966#reply2" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847966</id>
	<published>2022-04-19T11:15:15Z</published>
	<updated>2022-04-19T11:21:48Z</updated>
	<author>
		<name>lix7</name>
		<uri>https://www.v2ex.com/member/lix7</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>比如对于「本项目旨在改进如上这些问题，通过绞杀的方法逐渐替代原有服务，对应调整如下：」</p>
<p>从左到右移动光标，光标会出现在如下下划线位置：</p>
<p>「_本项目旨在改进如上这些问题_，_通过绞杀的方法逐渐替代原有服务_，_对应调整如下_」</p>
<p>但实际上根据中文习惯，光标应该分别出现在这些位置：</p>
<p>「_本_项目_旨在_改进_如上_这些_问题_，_通过_绞杀_的_方法_逐渐_替代_原有_服务_，_对应_调整_如下_」</p>
<p>本质上是没有对 cjk 字符做分词处理导致的，VS Code 也有类似问题，但是有老哥儿写了<a href="https://marketplace.visualstudio.com/items?itemName=SharzyL.cjk-word-handler" rel="nofollow">插件</a>解决了这个问题，想请问下 IDEA 是否有类似能力或插件？没有的话准备自己搞一个了，但是又担心重复造轮子</p>
<p>我看 v 站上很多人都用 IDEA 处理文本，没有遇到类似问题的吗？</p>

	]]></content>
</entry><entry>
	<title>[MacBook Pro] [咨询] m1 涂层脱落现在可以免费更换吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847965#reply10" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847965</id>
	<published>2022-04-19T11:11:41Z</published>
	<updated>2022-04-19T16:03:39Z</updated>
	<author>
		<name>gesse</name>
		<uri>https://www.v2ex.com/member/gesse</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>m1 涂层脱落现在可以免费更换吗？ 有更换过的老铁吗？</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 自己动手实现脚本语言</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847964#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847964</id>
	<published>2022-04-19T11:03:41Z</published>
	<updated>2022-04-19T07:01:41Z</updated>
	<author>
		<name>monkeyNik</name>
		<uri>https://www.v2ex.com/member/monkeyNik</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>本文使用 C 语言+Melon 库实现一个简易脚本语言解析器。</p>
<p>为了便于阅读和理解，解析器不会生成抽象语法树结构，只是对脚本文件的语法进行解析。</p>
<h3>第三方库</h3>
<p>Melon 是一个 C 语言库，其中提供了一个用宏封装好的脚本解释器相关的套件，如词法分析器和语法解析器生成器。使用非常简单，最简单的使用仅需非常简短的代码即可。</p>
<p>安装如下：</p>
<pre><code class="language-shell">$ git clone https://github.com/Water-Melon/Melon.git
$ cd Melon
$ ./configure [--prefix=....]
$ make &amp;&amp; make install
</code></pre>
<h3>解释器程序</h3>
<p>下面直接上代码，这里我对代码进行了完全注释。</p>
<pre><code class="language-c">//test.c
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include "mln_core.h"
#include "mln_log.h"
#include "mln_lex.h"
#include "mln_alloc.h"
#include "mln_parser_generator.h"

//声明语法解析器生成器，函数作用域为 static ，函数与结构体名称前缀为 test ，词素前缀为 TEST 。本例没有自定义词素。
MLN_DECLARE_PARSER_GENERATOR(static, test, TEST);
//定义语法解析器生成器，函数作用域为 static ，函数与结构体名称前缀为 test ，词素前缀为 TEST 。本例没有自定义词素。
MLN_DEFINE_PARSER_GENERATOR(static, test, TEST);

//产生式表，产生式的原理与代数非常相似，就是将同名的部分代入展开。start 为所有语法的启始，xxx_TK_EOF 表示语言读取完毕处
//本例中 stm 表示语句（ statement ），exp 表示表达式（ expression ），addsub 表示加减法表达式。
//TEST_TK_SEMIC 为分号（;），TEST_TK_ID 为变量名（以下划线字母起始，后续自符有字母数字下划线组成），TEST_TK_DEC 为整数。
//这里使用了词法分析器的默认词素切分规则生成的词素，开发者可根据自己需求对关键字、特殊运算符进行扩展。
//
//每一个产生式结构的第二个参数为一个处理函数，该函数会在本产生式冒号（:）右侧所有词素（确切的叫终结符与非终结符）都获取到时被调用。
//我们可以在这些回调函数中生成抽象语法树结构。
static mln_production_t prod_tbl[] = {
{"start: stm TEST_TK_EOF", NULL},
{"stm: exp TEST_TK_SEMIC stm", NULL},
{"stm: ", NULL},
{"exp: TEST_TK_ID addsub", NULL},
{"exp: TEST_TK_DEC addsub", NULL},
{"addsub: TEST_TK_PLUS exp", NULL},
{"addsub: TEST_TK_SUB exp", NULL},
{"addsub: ", NULL},
};

int main(int argc, char *argv[])
{
    struct mln_core_attr cattr;
    mln_lex_t *lex = NULL;
    struct mln_lex_attr lattr;
    mln_alloc_t *pool;
    mln_string_t path;
    struct mln_parse_attr pattr;
    mln_u8ptr_t ptr, ast;
    mln_lex_hooks_t hooks;

    //框架初始化
    cattr.argc = argc;
    cattr.argv = argv;
    cattr.global_init = NULL;
    cattr.worker_process = NULL;
    if (mln_core_init(&amp;cattr) &lt; 0) {
       fprintf(stderr, "Melon init failed.\n");
       return -1;
    }

    //设置自定义语言文本文件路径
    mln_string_set(&amp;path, argv[1]);

    //创建内存池，用于语法分析过程中使用，使用后可进行释放。这里需要注意，生成的抽象语法树结构尽量不要使用该内存池，
    //开发者可能会习惯性按本示例一样在解析后进行释放。则在后续处理抽象语法树时就会发生越界访问。
    if ((pool = mln_alloc_init()) == NULL) {
        mln_log(error, "init memory pool failed.\n");
        return -1;
    }

    //设置词法分析器内存池
    lattr.pool = pool;
    //本例没有自定义关键字
    lattr.keywords = NULL;
    //本例没有对运算符进行扩展
    memset(&amp;hooks, 0, sizeof(hooks));
    lattr.hooks = &amp;hooks;
    //启用预编译机制，启用后，自定义语言中可使用#include 、#def 、#endif 等预编译宏
    lattr.preprocess = 1;
    //设置为文件路径名类型。待解析内容可以直接给出字符串内容，也可以是文本路径，可参考词法分析器中的定义。
    lattr.type = M_INPUT_T_FILE;
    //若 type 为 M_INPUT_T_FILE ，则 data 为文件路径，否则为自定义语言字符串。
    lattr.data = &amp;path;
    //初始化词法分析器
    mln_lex_init_with_hooks(test, lex, &amp;lattr);
    if (lex == NULL) {
        mln_log(error, "init lexer failed.\n");
        return -1;
    }

    //生成状态转换表
    ptr = test_parser_generate(prod_tbl, sizeof(prod_tbl)/sizeof(mln_production_t));
    if (ptr == NULL) {
        mln_log(error, "generate state shift table failed.\n");
        return -1;
    }

    //设置语法解析器内存池
    pattr.pool = pool;
    //设置产生式
    pattr.prod_tbl = prod_tbl;
    //设置词法解析器，待解析的语言由词法分析器拆解后交由本解析器处理
    pattr.lex = lex;
    //设置状态转换表
    pattr.pg_data = ptr;
    //本例没有自定义数据
    pattr.udata = NULL;
    //执行解析
    ast = test_parse(&amp;pattr);
  
    //...对自定义的抽象语法树结构进行处理，本例中没有定义相关结构，因此会保持为 NULL
  
    //销毁词法分析器
    mln_lex_destroy(lex);
    //释放内存池
    mln_alloc_destroy(pool);

    return 0;
}
</code></pre>
<p>下面对程序进行编译</p>
<pre><code class="language-shell">$ cc -o test test,c -I /path/to/melon/include -L /path/to/melon/lib -lmelon -lpthread
</code></pre>
<p>然后我们编辑一个文本<code>a.test</code>，其中包含我们的脚本语言：</p>
<pre><code>a + 1;
1 + 1;
_b + a;
</code></pre>
<p>然后用我们的脚本解释器来对脚本文件进行解析：</p>
<pre><code class="language-shell">$ ./test a.test
</code></pre>
<p>这时可以看到什么都没有输出，这代表语法通过了检查。</p>
<p>下面我们对<code>a.test</code>进行修改，故意将其改为违反语法规则的文本：</p>
<pre><code>a * 1;
b + a;
c - b;
</code></pre>
<p>在此运行程序去解析脚本文件，可得到如下输出：</p>
<pre><code>a.test:1: Parse Error: Illegal token nearby '*'.
</code></pre>
<h3>结语</h3>
<p>这个例子只是简单的展示了一个可以解析语法规则的解析器，对该内容感兴趣的读者可以自行对其扩展实现更多语法和抽象语法树等内容。</p>
<p>感谢阅读！</p>

	]]></content>
</entry><entry>
	<title>[酷工作] [苏州 - 可远程] 招 Android 开发</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847963#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847963</id>
	<published>2022-04-19T10:57:10Z</published>
	<updated>2022-04-19T10:57:10Z</updated>
	<author>
		<name>fromzero</name>
		<uri>https://www.v2ex.com/member/fromzero</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>帮朋友公司招一位 Android ，产品十分优秀。不打卡，WLB ，专心做产品的。薪资大概 20-30k ，具体要面谈。很适合江浙沪想回老家的，很舒服。作为早期核心成员加入会有相应回报。最好是江苏 /上海附近的。</p>
<p>官网： <a href="https://cubox.pro/" rel="nofollow">https://cubox.pro/</a></p>
<p>ODD LAB （苏州怪奇信息科技有限公司）是一个创意与技术引领的年轻团队。我们聚焦于为人类大脑创造数字工具，让每个人能更高效、愉悦地使用互联网。欢迎有自我驱动力、有创意、理性、富有团队精神的优秀人才加入我们，共同打造 Cubox 。</p>
<p>工作地点：苏州优先，可远程</p>
<p>职责</p>
<p>主导 Cubox Android 客户端开发；
持续学习 Android 新技术，并调研和应用到 Cubox 中；
参与 Cubox 产品设计与改进，从技术角度提供建议；
配合市场、运营等其他人员，提供相关技术支持。
要求</p>
<ul>
<li>计算机及相关专业本科及以上学历；</li>
<li>良好的 Java 技术功底，三年以上 Android 平台应用开发经验；</li>
<li>熟悉 Kotlin ；</li>
<li>熟悉 Android 下网络通信机制，对 Socket 通信有经验；</li>
<li>熟悉安卓设计规范和原理、常用布局、基本动画特效；</li>
<li>熟悉数据结构、数据解析、文件存储、算法分析；</li>
<li>对 Android 系统应用管理、进程管理、内存管理、Active 管理机制有理解；</li>
<li>了解 Jetpack Compose 加分；</li>
<li>有较强的英语阅读、文档编写能力；</li>
<li>参与过开源项目者优先；</li>
<li>有个人技术 Blog 者优先；</li>
<li>Github ，Stackoverflow 活跃者优先；</li>
<li>熟练使用 Git/SVN ；</li>
<li>对移动产品有浓厚兴趣。</li>
</ul>
<p>请将简历、作品集发送至 <a href="mailto:hi@cubox.pro">hi@cubox.pro</a> 并在邮件标题中写明投递岗位。我们会仔细查看每一份邮件。💌</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 大家说说你们的宽带后缀是什么</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847962#reply13" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847962</id>
	<published>2022-04-19T10:56:01Z</published>
	<updated>2022-04-19T15:53:46Z</updated>
	<author>
		<name>liliass</name>
		<uri>https://www.v2ex.com/member/liliass</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我是上海联通的 加了后缀可以拿到公网 IP 。XXXXXX@wsw</p>

	]]></content>
</entry><entry>
	<title>[Python] [深圳/西安][10K-20K*16] 细分行业领头羊平台寻找 Python 开发大咖/自驱者可远程</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847961#reply1" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847961</id>
	<published>2022-04-19T10:43:04Z</published>
	<updated>2022-04-19T10:59:13Z</updated>
	<author>
		<name>bluehawk</name>
		<uri>https://www.v2ex.com/member/bluehawk</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h2>关于我们</h2>
<p>数拓科技，聚焦线下门店的数字化营销需求，研发基于商显屏幕的 PaaS 系统。根据客户数字化营销的不同阶段，数拓智能化阶梯化的智屏内容营销和互动系统。</p>
<p>数拓商业 OS 具备开放性，可快速对接线上线下的业务数据，实现屏幕基于业务数据的即时性营销。
基于客户的场景诉求，数拓提供集商显硬件、屏幕系统、内容服务、大屏感知套件的一体化方案。并与全球前五的屏幕供应链的上游硬件大厂已建立战略合作伙伴。同时在区块链 /NFT 等全新数字化资产赋能实体产业的维度，我们始终在试错最新的 TOP 行业案例。</p>
<p>至今，数拓服务已覆盖 10w+门店，覆盖餐饮、零售、院线、金融等多个行业，日活过千万用户。积累了海底捞、万达、老乡鸡、茶百道、平安银行、中国移动等多个细分行业 TOP3 客户全案覆盖案例。
数字化持续衍生，商业智屏无处不在，将会是 PC ，手机之后的下一代商业人机交互入口。</p>
<p>与数拓同行，打开线下流量未来～</p>
<ul>
<li>官方网站： <a href="https://www.shutuo.tv/" rel="nofollow">https://www.shutuo.tv/</a></li>
<li>媒体报道： <a href="https://www.shutuo.tv/Information" rel="nofollow">https://www.shutuo.tv/Information</a></li>
<li>公司规模：100~150 人</li>
<li>公司地址：深圳市南山区振业国际商务中心同创汇
西安市高新区锦业一路西安软件园 C 座</li>
</ul>
<h2>职位描述 /工作职责</h2>
<ul>
<li>负责公司现有系统平台的维护和迭代研发；</li>
<li>参与产品新项目的架构设计和迭代研发；</li>
<li>有机会参与自有云计算容器框架的研究，设计和实现、关键可行性试错等工作；</li>
<li>有机会参与新一代行业产品标准的探讨与交流；</li>
</ul>
<h2>职位要求</h2>
<h3>基本要求</h3>
<ul>
<li>热爱计算机技术与云端虚拟化实现；</li>
<li>熟练掌握 Python 实践方法，运用 MySQL/PostgreSQL/MongoDB, Redis 和消息队列等常用的技术栈工具的使用经验；</li>
<li>熟练掌握 MVC 框架如：Django ，Google AppEngine ，Fastapi 等；</li>
<li>具备大型网站服务器 / 数据库 / 部署 / 架构能力，对消息队列、任务调度、负载均衡、并发控制有实操商业项目经验与深入理解，</li>
<li>对微服务架构有一定理解，熟悉常用中间件，如：kafka ，zk 等；</li>
<li>熟悉 Linux 开发环境，熟悉 Git ，熟悉 Https 协议，gRPC/RESTful 规范，有良好的编码习惯；</li>
<li>良好的技术嗅觉，良好的协作能力，良好的自驱力和责任心；</li>
</ul>
<h3>加分项</h3>
<ul>
<li>喜欢从 0 到 1 的事物分析与实操构建；</li>
<li>有大数据应用平台项目经验者优先；</li>
<li>有使用 Docker 、Kubernetes 、K8S 经验；</li>
<li>希望深度参与公司 IPO 驱动的核心增长逻辑；</li>
</ul>
<h2>薪资及其他待遇</h2>
<ul>
<li>薪资税前 10k-25k*16 ，（其中包含 2-3 薪的项目奖金）；</li>
<li>大咖福利；高平台、高成长；</li>
<li>开放进取的创业文化氛围与快速晋升通道；</li>
<li>公司已获行业巨头的 B 轮投资；</li>
<li>丰厚的员工期权激励制度；</li>
<li>双休，加班有合理的调休机制，不经常、不鼓励无效加班，超过 10 天年假；</li>
</ul>
<h2>其他信息</h2>
<h2>联系方式</h2>
<ul>
<li>Email(base64)：ZGV2LmhyQHNodXR1by50dg==</li>
</ul>

	]]></content>
</entry><entry>
	<title>[问与答] 打开一个页面，怎么知道它是 react 写的还是 vue 写的？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847960#reply4" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847960</id>
	<published>2022-04-19T10:37:40Z</published>
	<updated>2022-04-19T11:54:25Z</updated>
	<author>
		<name>Jafee</name>
		<uri>https://www.v2ex.com/member/Jafee</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有没有类似的插件，可以直接分辨出来。</p>

	]]></content>
</entry><entry>
	<title>[健康] 《史记》记载扁鹊会透视？这是不是有点妖孽了？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847959#reply18" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847959</id>
	<published>2022-04-19T10:36:39Z</published>
	<updated>2022-04-19T12:07:29Z</updated>
	<author>
		<name>lovepplforever</name>
		<uri>https://www.v2ex.com/member/lovepplforever</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<blockquote>
<p>视见垣一方人。以此视病，尽见五藏症结<br/><br/>我相信司马迁是不会瞎说的。<br/><br/><br/>出处在此：(大概意思是长桑君给了扁鹊吃一种奇怪的药，然后就具备了透视五脏六腑的能力)<br/><br/>《史记》卷一百五之“扁鹊仓公列传”（中华书局版《史记》 2785 ～ 2794 页）记载：“扁鹊者，勃海郡郑人也，姓秦氏，名越人。少时为人舍长。舍客长桑君过，扁鹊独奇之，常谨遇之。长桑君亦知扁鹊非常人也。出入十余年，乃呼扁鹊私坐，闲与语曰：“我有禁方，年老，欲传与公，公毋泄。”扁鹊曰：“敬诺。”乃出其怀中药予扁鹊：“饮是以上池之水，三十日当知物矣。”乃悉取其禁方书尽与扁鹊。忽然不见，殆非人也。扁鹊以其言饮药三十日，视见垣一方人。以此视病，尽见五藏症结，特以诊脉为名耳。为医或在齐，或在赵。在赵者名扁鹊。”<br/><br/><br/></p>
</blockquote>

	]]></content>
</entry><entry>
	<title>[分享创造] 有次去杭州，看了一个很贵也很好看的钟，于是自己写了个小程序</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847958#reply2" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847958</id>
	<published>2022-04-19T10:35:13Z</published>
	<updated>2022-04-19T14:31:25Z</updated>
	<author>
		<name>bmwh123</name>
		<uri>https://www.v2ex.com/member/bmwh123</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有次去杭州，看了一个很贵也很好看的钟，于是自己写了个小程序</p>
<p>不过很久都没有维护了，因为想不出什么新的功能啥的，一开始也完全就是自娱自乐。<a href="https://github.com/Alfxjx/qlock" rel="nofollow">项目地址</a>，欢迎大家提点需求</p>
<p>#小程序://石板时钟 /石板时钟 /jVeeTGnJ4b36SzJ</p>
<p><img alt="qrcode" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.328888.xyz/2022/04/19/rsub4.jpg"/></p>

	]]></content>
</entry><entry>
	<title>[全球工单系统] 用腾讯会议教老妈用网商银行，然后被封号了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847957#reply37" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847957</id>
	<published>2022-04-19T10:29:49Z</published>
	<updated>2022-04-19T16:25:28Z</updated>
	<author>
		<name>pupboss</name>
		<uri>https://www.v2ex.com/member/pupboss</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>客服给的理由是“由于您的账号被多人举报违规，导致账号被永久封禁”</p>
<p>然而我这辈子只用腾讯会议跟我老妈打过两次电话</p>

	]]></content>
</entry><entry>
	<title>[问与答] 谁知道这个字符是什么字符</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847956#reply4" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847956</id>
	<published>2022-04-19T10:27:00Z</published>
	<updated>2022-04-19T11:53:22Z</updated>
	<author>
		<name>hakr</name>
		<uri>https://www.v2ex.com/member/hakr</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	base64 编码: YcKgYQ<br /><br />解码之后两个 a 之间的那个字符
	]]></content>
</entry><entry>
	<title>[GitHub] github 这个 Assignees 是干嘛的？我一点然后把自己移除了，好尴尬！</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847955#reply0" />
	<id>tag:www.v2ex.com,2022-04-19:/t/847955</id>
	<published>2022-04-19T10:24:49Z</published>
	<updated>2022-04-19T00:23:49Z</updated>
	<author>
		<name>KouShuiYu</name>
		<uri>https://www.v2ex.com/member/KouShuiYu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://s1.ax1x.com/2022/04/19/LBsNYF.png" rel="nofollow">https://s1.ax1x.com/2022/04/19/LBsNYF.png</a></p>

	]]></content>
</entry>
</feed>