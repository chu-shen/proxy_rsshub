<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title>V2EX</title>
<subtitle>way to explore</subtitle>


<link rel="alternate" type="text/html" href="https://www.v2ex.com/" />
<link rel="self" type="application/atom+xml" href="https://www.v2ex.com/index.xml" />
<id>https://www.v2ex.com/</id>

<updated>2022-03-26T16:18:55Z</updated>

<rights>Copyright © 2010-2018, V2EX</rights>
<entry>
	<title>[Go 编程语言] SDB 2.0.0 发布，增加了主从架构</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843115#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843115</id>
	<published>2022-03-26T16:18:55Z</published>
	<updated>2022-03-26T16:18:55Z</updated>
	<author>
		<name>Aidenboss</name>
		<uri>https://www.v2ex.com/member/Aidenboss</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>一直在迭代自己的 <a href="https://github.com/yemingfeng/sdb/" rel="nofollow">SDB</a>。</p>
<p>1.x 版本发布后，SDB 已经是一个可靠的数据库了。并在 2022.03.10 增加了 cli 功能，提供 SDB 的易用性。之后我们便开始思考如何为 SDB 增加分布式的能力。</p>
<p>参考 redis 的实现，SDB 优先实现了主从架构，也在 v2.0.0 正式发布。</p>
<p>实现的过程比较曲折，golang 语言下可靠的 raft 库并不多，只找到了两种候选方案，并对候选方案做了以下结论：</p>
<ul>
<li>
<a href="https://github.com/hashicorp/raft" rel="nofollow">hashicorp raft</a><ul>
<li>使用在 etcd 中，拥有广泛的使用者。然而接入下来发现，写入性能并不高。查阅了该项目的官方文档，他们只要提供的是可靠性，而不是性能。</li>
</ul>
</li>
<li>
<a href="https://github.com/lni/dragonboat" rel="nofollow">dragonboat raft</a><ul>
<li>由国人所写，号称是最快的 multi raft 库。</li>
</ul>
</li>
</ul>
<p>为了支持国人项目，SDB 选择了 dragonboat raft ，写入的 QPS 从 12k 下降到了 5k ，但读能力是不受影响的，而且也可以水平扩展读能力，收益还是大于损耗的。</p>
<p>架构图如下：
<img alt="architecture" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://github.com/yemingfeng/sdb/raw/master/docs/architecture.png"/></p>
<ul>
<li>SDB 集群中同时只有一个 master 节点，提供写入和读取的能力。以及 N 个 slave 节点提供读取能力。</li>
<li>当有读取请求的时候，可以请求集群中的任意节点，该节点会直接返回存储于该节点的数据。在主从节点数据同步的过程中，会因为同步时延带来数据的不一致。</li>
<li>当有写入请求的时候，可以请求阶段中的任意节点。如果请求的节点是主节点，则直接发起提案。若请求的节点是从节点，则该节点会将写入请求转发到主节点中，由主节点发提案。</li>
<li><strong>当需要使用读写分离的时候，可以创建多个 sdb grpc client ，连接对应的节点即可实现。</strong></li>
</ul>

	]]></content>
</entry><entry>
	<title>[问与答] 甲癌跳槽体检有办法过吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843114#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843114</id>
	<published>2022-03-26T16:13:47Z</published>
	<updated>2022-03-26T16:12:47Z</updated>
	<author>
		<name>kugua233</name>
		<uri>https://www.v2ex.com/member/kugua233</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	问问各位彦祖，甲癌跳槽的话是不是体检都过不了呀，19 年 8 月手术后一直没转移，医生说临床治愈水平，想跳槽又担心体检都过不了。目前在银行做后台，觉得工作氛围很没劲每天摆烂不怎么加班，可能领导也发觉我总是摆烂，项目提名整个小组唯独没有我，所以想跳槽换个环境看看机会，在这边没啥技术提升氛围也不是自己喜欢的，好但又担心跳槽体检不过啊，有没人生解答大师给点意见。坐标深圳，待了快 3 年了，加上年终奖到手差不多 20W 吧。
	]]></content>
</entry><entry>
	<title>[C++] headless virtualbox VM 有熟悉的吗，想做一个类似雷电这样的客户端</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843113#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843113</id>
	<published>2022-03-26T16:09:44Z</published>
	<updated>2022-03-26T16:08:44Z</updated>
	<author>
		<name>hackfly</name>
		<uri>https://www.v2ex.com/member/hackfly</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>自己通过 adb 截屏的，显示老是有延迟，卡顿，tcp/udp 传输的更卡；大概看下 Scrcpy 这些，应该也是 adb 做的，不知道为什么没有延迟；有没有做过的 V 友指点下技术方向！谢谢</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 广东联通 AppStore 下载速度慢。cdn 问题吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843112#reply2" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843112</id>
	<published>2022-03-26T16:04:03Z</published>
	<updated>2022-03-26T00:02:03Z</updated>
	<author>
		<name>a413128</name>
		<uri>https://www.v2ex.com/member/a413128</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	下载只有 1-2 兆 /s ，挂梯跑 18 兆 /s ，有其他人和我一样吗
	]]></content>
</entry><entry>
	<title>[程序员] 有没有自建 Sentry 或者 Rollbar 这类应用的方法？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843111#reply1" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843111</id>
	<published>2022-03-26T15:17:57Z</published>
	<updated>2022-03-26T15:29:26Z</updated>
	<author>
		<name>Hanggi</name>
		<uri>https://www.v2ex.com/member/Hanggi</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>服务挺好用的，就是请求次数不够用。
经常有一些无关痛痒的报错，但是被用户大量反复触发，导致请求次数快速耗尽。</p>
<p>单纯的日志收集的话并没有 Sentry 来的好用，
一是没有结构化非常好的客户端 SDK （跨平台、多语言）
二是没有那么友好的用户界面</p>
<p>大家一般用什么收集处理错误日志？
（ ELK 或 EFK 也可以是一种解决方法，就是有点吃资源）</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 猫挂了……1000m 带宽跑 6m…</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843110#reply2" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843110</id>
	<published>2022-03-26T15:10:50Z</published>
	<updated>2022-03-26T15:54:22Z</updated>
	<author>
		<name>Fantasia1993</name>
		<uri>https://www.v2ex.com/member/Fantasia1993</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>也连不上光猫 web 界面了…我该怎么办？弄个猫棒？重新买个猫？</p>

	]]></content>
</entry><entry>
	<title>[奇思妙想] 一个不成熟的区块链祭组思路</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843109#reply4" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843109</id>
	<published>2022-03-26T14:41:25Z</published>
	<updated>2022-03-26T15:59:41Z</updated>
	<author>
		<name>aceseo</name>
		<uri>https://www.v2ex.com/member/aceseo</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h3>目录</h3>
<ul>
<li>
<p>1.0 数字祭拜</p>
</li>
<li>
<p>2.0 祠堂社交</p>
</li>
<li>
<p>3.0 先祖再现</p>
</li>
<li>
<p>补充</p>
</li>
</ul>
<hr/>
<p><strong>JB Only-1(唯一祭拜) ：帮助远方的人儿解决思念</strong></p>
<p>清明将近，突发奇想！！！</p>
<p>国内大环境不好，很多人润了，背离乡土。疫情防控常态化，近在家门却不能恶意返乡</p>
<p>灯油火蜡、心意绵绵、均无法寄托</p>
<h4>1.0 数字祭拜</h4>
<p>依托区块链及 NFT 生成祭品，用户消耗数字货币解锁盲盒祭品，但有保底 SSR ，账本依照姓氏宗族划分区域排名，同时分别拥有祠堂元，用户认证后可以参与共建祠堂，编写起源。</p>
<h4>2.0 祠堂再现</h4>
<p>祠堂间可以进行联谊、数据互通，溢出内容可以通过祠堂投票进行分发或依据旧有机制奖励积极参与共建者，曰：”太公分猪肉“。</p>
<p>所有基于祭拜的社交行为均可产生心意值，根据祠堂建设阶段奖励早期参与者。</p>
<h4>3.0 先祖再现</h4>
<p>根据用户祭拜，共建祠堂产生的先祖思念、期待、缅怀...等人类回忆情感构建的庞大数据网络，按比例消耗祭品池中合约资源，生成先祖数字人，数字人知识储备来源于社区共建，优先庇护（服务）早期参与者。</p>
<h4>补充</h4>
<p>至此，基本完成元先祖计划，下一步用户将在百年大限之际进入祠堂文明，花费不等额的祭品消耗，进行元先祖人格补全及记忆融合，或新建子先祖裂变对象。</p>

	]]></content>
</entry><entry>
	<title>[MacBook Pro] 14 的 M1 用 xattr 清不了扩展权限</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843108#reply3" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843108</id>
	<published>2022-03-26T14:41:01Z</published>
	<updated>2022-03-26T16:18:23Z</updated>
	<author>
		<name>jsrgqinbin</name>
		<uri>https://www.v2ex.com/member/jsrgqinbin</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>以前从 TimeMachine 里 Copy 东西出来，权限都会如下，带 @</p>
<p>drwxr-xr-x@</p>
<p>以前直接</p>
<p>sudo xattr -rc xx 就可以清除扩展的权限</p>
<p>14 的 M1 到了，用原来的方法，xattr 后权限多了个+</p>
<p>drwxr-xr-x+</p>
<p>用 ls -laeO@查看一直有扩展权限存在，如下</p>
<p>drwxr-xr-x+ 11 Ben  admin  -  352  2  5 20:53 sites-available
0: group:everyone deny add_file,delete,add_subdirectory,delete_child,writeattr,writeextattr,chown</p>
<p>有人遇到过吗？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 请教有没有批量移动命名最底层文件夹的方便一点的方法</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843107#reply1" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843107</id>
	<published>2022-03-26T14:34:10Z</published>
	<updated>2022-03-26T15:56:55Z</updated>
	<author>
		<name>wandero</name>
		<uri>https://www.v2ex.com/member/wandero</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	原始结构类似 A1/B1/C1/D1/E1/、A2/B2/C2/D2/、A3/B3/C3/……（层级不等、路径不一）<br />希望处理为 E1D1C1B1A1/、D2C2B2A2/、C3B3A3/……<br /><br />相当于不断地把最底层的文件夹上移并以原上层文件夹名称为后缀<br />有点类似于 TotalCMD 中先开分支视图（ Ctrl+B) 再批量重命名再移动，但是 TC 的分支视图<br />是针对文件的<br /><br />谢谢
	]]></content>
</entry><entry>
	<title>[分享发现] win11 出了这么久，音量管理这么明显的 bug 还不修复</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843106#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843106</id>
	<published>2022-03-26T14:31:58Z</published>
	<updated>2022-03-26T14:31:58Z</updated>
	<author>
		<name>voidless</name>
		<uri>https://www.v2ex.com/member/voidless</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	调节了不同应用不同的音量会失效，经常会重置成 100%音量，带着耳机要爆炸
	]]></content>
</entry><entry>
	<title>[问与答] 求音响推荐</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843105#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843105</id>
	<published>2022-03-26T14:26:24Z</published>
	<updated>2022-03-16T14:23:24Z</updated>
	<author>
		<name>wikiwiki6</name>
		<uri>https://www.v2ex.com/member/wikiwiki6</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	最好能控制在几百块钱（越低越好）那种参数不一定要太好，但是要比较震撼的（鄙人曾经在 HP 的笔记本上体验过 Bang &amp; Olufsen 的音响，效果确实不一样）
	]]></content>
</entry><entry>
	<title>[游戏] 阿尔托的奥德赛</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843104#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843104</id>
	<published>2022-03-26T14:19:47Z</published>
	<updated>2022-03-26T14:19:47Z</updated>
	<author>
		<name>Biwood</name>
		<uri>https://www.v2ex.com/member/Biwood</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>今天写代码遇到点问题，搞得情绪有点烦躁，后来索性放弃了,想说先休息休息。顺手就打开了前几天安装的这个《阿尔托的奥德赛》，不得不说，跑酷游戏有种神奇的疗愈作用，玩一会情绪就好多了。这款游戏的一个特点就是让人感觉很舒缓，很平滑。滑板与沙子摩擦的沙沙声、雨声、鸟叫声，都让人感到安心。画面背景中的山脉、不同色调的太阳、星空、雨点，玩着玩着有种亲近大自然的感觉。配乐也选的很用心，不像别的游戏那样为了迎合低龄人群而刻意弄得很浮躁，看得出来是精细挑选和制作的。</p>
<p>这款游戏风格类似《风之旅人》，不知为何，手机上玩这类游戏的临场感比大屏幕的效果还好。回想起以前玩过的手机游戏里，能够带给我情绪波动并且印象深刻的游戏是《粘粘世界》和《 Florance 》。粘粘世界的配乐 OST 我曾经循环播放过很多次，那首《大桥颂歌》的悲壮感依然印象深刻。Florance 主要是画面和故事走心，玩法也比较创新。</p>
<p>很喜欢这类制作精良的小游戏，如果有类似的游戏也欢迎大家推荐。</p>

	]]></content>
</entry><entry>
	<title>[Google] 我看 b 站上有人用谷歌云企业版国内直连，真的可以吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843103#reply3" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843103</id>
	<published>2022-03-26T14:11:31Z</published>
	<updated>2022-03-26T14:56:41Z</updated>
	<author>
		<name>sakurazhen</name>
		<uri>https://www.v2ex.com/member/sakurazhen</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>视频链接 <a href="https://www.bilibili.com/video/BV1bu411q73D" rel="nofollow">https://www.bilibili.com/video/BV1bu411q73D</a>
直连解释
googleapis 有可用的 endpoint ，企业用户可以直接问客服。你买企业套餐，api 通信都是走虚拟 VPC 内网的。
有人尝试过吗，如果能行我就准备买土区的 Enterprise Standard 了。</p>

	]]></content>
</entry><entry>
	<title>[教育] 墨干编辑器 V1.0.1，内置十张高考数学试卷</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843102#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843102</id>
	<published>2022-03-26T14:10:42Z</published>
	<updated>2022-03-26T14:10:42Z</updated>
	<author>
		<name>sadhen</name>
		<uri>https://www.v2ex.com/member/sadhen</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>什么是 GNU TeXmacs ，请看: <a href="https://www.bilibili.com/video/BV19741167ik" rel="nofollow"> [科技]  GNU TeXmacs：一个科技编辑平台_哔哩哔哩_bilibili </a></p>
<h2>马上下载</h2>
<p><a href="https://gitee.com/XmacsLabs/mogan/releases/v1.0.1" rel="nofollow">https://gitee.com/XmacsLabs/mogan/releases/v1.0.1</a></p>
<h2>主要变更</h2>
<ul>
<li>支持 GNU/Linux （移植了 Philippe Joyez 修复的严重 bug ）</li>
<li>Debian 平台安装包制作脚本 (<code>cmake/<a href="http://build_deb.sh" rel="nofollow">build_deb.sh</a></code>)</li>
<li>输入①②③...⑩的快捷键 ，例如输入<code>1@</code>就可以得到①（仅在中文文档中有效）</li>
<li>新增大量示例文档：2021 年的十张高考数学试卷和三首诗</li>
</ul>
<h2>致谢</h2>
<p>感谢来自湖南的高中数学老师张志雄帮忙制作了五份高考数学试卷，并提供了另外五份试卷的 DOC 文档。</p>
<h2>示例文档清单</h2>
<p>示例文档可以在<code>Help -&gt; Mogan</code>中找到。文档清单罗列如下：</p>
<ul>
<li>《威尼斯》</li>
<li>《十二月十九夜》</li>
<li>《诗八章》</li>
<li><a href="https://www.slidestalk.com/u282/2019A39734" rel="nofollow">2019 年全国高中数学联合竞赛一试试题 A 卷</a></li>
<li>2021 年高考全国甲卷数学文科试题</li>
<li>2021 年高考全国乙卷数学文科试题</li>
<li>2021 年高考全国甲卷数学理科试题</li>
<li>2021 年高考全国乙卷数学理科试题</li>
<li>2021 年全国新高考Ⅰ卷数学试题</li>
<li>2021 年全国新高考 II 卷数学试题</li>
<li>2021 年北京市高考数学试题</li>
<li>2021 年上海市高考数学试题</li>
<li>2021 年天津市高考数学试题</li>
<li><a href="https://www.slidestalk.com/u282/zjmath202182681" rel="nofollow">2021 年浙江省高考数学试题</a></li>
</ul>

	]]></content>
</entry><entry>
	<title>[Android] 请教各位如何学习安卓开发？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843101#reply3" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843101</id>
	<published>2022-03-26T14:02:26Z</published>
	<updated>2022-03-26T16:14:36Z</updated>
	<author>
		<name>shawnwang340</name>
		<uri>https://www.v2ex.com/member/shawnwang340</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>目前在看第一行代码第三版
B 站里的教程要么不全，要么太老
各位有推荐的吗</p>
<p>官网也在看，还没深入看</p>

	]]></content>
</entry><entry>
	<title>[Python] 分享一个自用的 timeit 给代码计时的奇技淫巧</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843100#reply2" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843100</id>
	<published>2022-03-26T14:00:23Z</published>
	<updated>2022-03-26T15:38:23Z</updated>
	<author>
		<name>LeeReamond</name>
		<uri>https://www.v2ex.com/member/LeeReamond</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，联动一下自己去年发的帖吧。</p>
<p>Python 因为本身比较慢，我觉得应该大多数程序员，跟我一样，写东西时都有最优化实现的需求。典型场景比如生产环境遇到连接两个大的字节流，用那种实现比较快？随便一想就有很多种写法，比如</p>
<pre><code class="language-python">ret = b'1'+b'2'
# 或
ret = bytearray();ret += b'1';ret += b'2'
# 或
ret = ''.join([b'1', b'2'])
</code></pre>
<p>再比如生成一个静态元组时是使用列表更快还是元组更快。等等等等不一而足，总之生产环境写码时是避免不了各种测试的，大概也是 py 独一份的问题了。</p>
<p>大家都知道 python 自带有 timeit 模块用来计时足以应付上述场景。但是我一直觉得 timeit 很不好用。首先需要引入包，然后把需要测试的部分单独封装起来，最后还要重载入才能得到结果，尤其在面对小型测试时很麻烦，所以我往常通常在类似测试时更喜欢自己封装一个上下文管理器做替代。由于 python 的上下文管理器生成新的 block 但不生成独立 scope ，不需要进行剥离封装，也不需要担心对原功能产生任何影响，总之不用动用任何脑细胞，非常哈皮。</p>
<p>也就是大概变成这样:</p>
<pre><code class="language-python">&gt;&gt;&gt; foo = [b'1'] * 100
&gt;&gt;&gt; with timeit():
&gt;&gt;&gt;     for _ in range(1000000):
&gt;&gt;&gt;         bar = ''.join(foo)
[line 1] time cost: 0.013489246368408203
</code></pre>
<p>唯一一点不太爽的是，测试时需要自己写 for 循环，多打一行不短的代码，在深度思考场或者大量测试的场合下会让人非常烦躁。</p>
<p>所以去年发了个帖子，问问有没有大佬知道奇技淫巧，可以以 hook 的方式提前下个钩子把管理的内容提取出来，这样就不用写烦人的 for _ in range 了，可惜当时讨论了一下大家都没有思路。昨天周末摸鱼时间突然开窍，按照 hack 进字节码解释器在 python 里实现 goto 的思路摸索了一下，写了一会搞了个雏形。应该还是有不少坑，欢迎大家测试：</p>
<pre><code>pip install git+https://github.com/GoodManWEN/pipeit.git@test_install
</code></pre>
<p>大体思路是通过 py 的高动态特性和反射功能，可以抽取当前 scope 的状态流然后动态生成一份字节码，再然后再反过来实例化，这样就达到了提取出上下文管理器中间部分的目的。实现上到也说不上是很优雅，但是因为依赖的都是久经测试的 bil ，所以同样也说不是上是很肮脏。</p>
<p>目前的 demo 可以做到以下的用法：</p>
<pre><code class="language-python">&gt;&gt;&gt; # 前两年在 v2 很多人讨论的用魔术方法重载运算符，达到解放传统 py 函数式痛苦的反写体验的功能
&gt;&gt;&gt; # 但由于涉及到对象和方法调用，理所当然会比原生慢一些，假设我们现在想知道具体慢多少
&gt;&gt;&gt; from pipeit import *
&gt;&gt;&gt; 
&gt;&gt;&gt; foo = list(range(50))
&gt;&gt;&gt; with timeit(1e6): # 循环百万次，自动转换结果到单轮时间
&gt;&gt;&gt;     bar = foo | Filter(lambda x: x%3==0) | Map(lambda x: x*10) | Reduce(lambda x, y:x+y) | int

[line 6] time cost per loop: 8.272400856018066μs
&gt;&gt;&gt; bar

4080
&gt;&gt;&gt; with timeit(1e6):
&gt;&gt;&gt;     bar = reduce(lambda x,y:x+y, map(lambda x:x*10, filter(lambda x:x%3 == 0, foo)))

[line 10] time cost per loop: 5.8983259201049805μs
&gt;&gt;&gt; bar 

4080
</code></pre>
<p>也就是直接 with timeit(循环次数):再加 tab 键就可以对单独行进行测速了。
在我的机器上跑的结果来看原生是比封装版快了 30%左右，不过考虑到本身也是 1 微秒级的差距，我通常开发中还是喜欢使用修改后的写法。</p>
<p>使用场景：</p>
<ul>
<li>对少量代码进行定性类的，非严肃执行时间比较。</li>
<li>由于中间块是直接由字节码生成，理论上只多出了函数栈调用的时间，存在一定误差，但也可以忽略不计，所以其实感觉上做严肃比较也没啥问题。。</li>
</ul>
<p>目前的问题：</p>
<ul>
<li>执行上有一个不优雅的问题是固定会多执行一次，比如以 timeit(100)创建 block ，实际上 block 会被执行 101 次，因为解释器本身按照 with 逻辑执行 block 内部内容没办法把它拦截掉。</li>
<li>由于将 block 行为转化成了 scope 行为（实际上定义了函数），代码实质功能有所变化。为了准备相同的上下文环境，会在触发上下文管理器时所有的 scope 里将原 scope 内容重新执行一遍，给人一种很肮脏的感觉。考虑过另一种实现方式是将 locals 全部转化为 globals 再实例化，不过想了想感觉似乎问题更多。有待论坛老哥提供更好的解决方案。</li>
<li>目前的实现方案中存在一个严重问题是依赖于 python 动态分析生成字节码的能力。但转化为字节码后显然就丢失了原代码信息，比如你很难定位字节码的 xx 位置对应代码里的第 yy 行，这导致在同一个 scope 内多次执行计数时他们的对应关系会消失，实际上只能执行最初遇到的 timeit 块。所以上文中 demo 里的内容实际上无法实现，我实际操作时每次只能执行一种情况。感觉挺硬伤的，不知有无老哥提建议改善。当然分置于不同 scope 的话是互相不会影响的，不过如果要定义 scope 的话也需要写代码，又绕回去了。</li>
<li>由于目前的实现方式并未对栈进行规范，（因使用上通常是以 from import * 的形式来解放双手，但同时希望模块尽可能的轻量，占用可以忽略不计的内存），所以只是单纯对字节码进行裁剪，不支持嵌套使用。虽然感觉计时这种东西嵌套并无意义。。也许有用，等待老哥补充。</li>
<li>字节码不是大佬，照着标准书实现了一圈，可能在复杂环境下会产生各种奇怪 bug ，欢迎各种测试。</li>
<li>开发时使用的是 win 平台，多平台字节码解释器实现有没有坑我不知道，版本上有没有坑我也不知道。。由于 py 部分 api 变动，比如 CodeType 接收参数从 py3.6 的 str 变成了 3.7 的 bytes 。理论上应该是有做支持，具体能不能跑我不知道</li>
</ul>
<p>总之还是有很多问题，权当抛砖引玉吧。希望以后 v 友遇到测速都能少写几行代码</p>

	]]></content>
</entry><entry>
	<title>[问与答] WeChat 太卡了吧，视频发不出去</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843099#reply2" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843099</id>
	<published>2022-03-26T13:47:46Z</published>
	<updated>2022-03-26T14:10:17Z</updated>
	<author>
		<name>dejavv</name>
		<uri>https://www.v2ex.com/member/dejavv</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>同一部手机，同一个视频，一个 WeChat 视频发不出去，PC 端也是发不出去（绑定 Google Voice ）。
另一个微信绑定国内手机号，可以发送，大家有遇到吗？</p>

	]]></content>
</entry><entry>
	<title>[程序员] 兄弟萌 群晖 7.0.1 好用吗？体验怎么样？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843097#reply1" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843097</id>
	<published>2022-03-26T13:31:02Z</published>
	<updated>2022-03-26T13:28:02Z</updated>
	<author>
		<name>qiubangzhu</name>
		<uri>https://www.v2ex.com/member/qiubangzhu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>跟 6 版本有什么区别？就是变好看了吗？</p>
<p>比如磁盘（硬盘）性能有提升吗？ 虚拟机性能有提升吗？ 实际体验怎么样？现在已经是非常稳定了吗？ 有什么坑吗？</p>
<p>我想装个黑裙玩玩，但是我是 e5-2680v3 没有核显，是不是不能调用转码？ nvdia 显卡可以用吗？</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 写了一个开源的基于 gRPC 构建的 Android 设备通信工具</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843096#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843096</id>
	<published>2022-03-26T13:13:05Z</published>
	<updated>2022-03-26T13:10:05Z</updated>
	<author>
		<name>josephxrays</name>
		<uri>https://www.v2ex.com/member/josephxrays</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>来 V2EX 挺久了，第一次发帖😂，发这个帖子的目的是想分享一下个人写的一个项目，灵感来源 airdroid</p>
<p>该项目使用 Go 开发 gRPC 客户端、Java 开发 Android gRPC 服务器，并使用 protobuf 序列化数据。
客户端目前可作为 Web 后端提供 API 服务，返回 JSON 数据给前端（由于能力有限，前端那部分没有实现），返回的数据可以在项目文件夹 godroidcs/godroidcli/android/api/json 下查看。（另外说一句就是目前文档还没有完善🐶）</p>
<p>比如</p>
<pre><code class="language-json">{
    "code": 100,
    "data": {
        "abi": "arm64-v8a",
        "display": "CDY-AN20 2.0.0.221(C00E210R6P6)",
        "host": "cn-central-hcd-2a-8c1f026d41643102084224-68c7f4b776-pw4fn",
        "kernel_release": "4.14.116",
        "kernel_version": "#1 SMP PREEMPT Tue Jan 25 19:15:39 CST 2022",
        "language": "zh",
        "mcc": 460,
        "mnc": 65535,
        "release_version": "10",
        "sdk": 29,
        "uptime": "367988465",
        "user": "test"
    },
    "error": "",
    "message": "success"
}
</code></pre>
<p>GitHub 地址： <a href="https://github.com/josexy/godroidcs" rel="nofollow">https://github.com/josexy/godroidcs</a></p>
<p>使用截图</p>
<p><a href="https://imgur.com/Fhy7Qw2" rel="nofollow">https://imgur.com/Fhy7Qw2</a></p>
<p><a href="https://imgur.com/IIhxKcQ" rel="nofollow">https://imgur.com/IIhxKcQ</a></p>
<p>最后，欢迎各位提意见和 Issue 哈 😛</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 求一个能试用的土耳其节点</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843095#reply1" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843095</id>
	<published>2022-03-26T13:11:11Z</published>
	<updated>2022-03-26T14:58:16Z</updated>
	<author>
		<name>idblife</name>
		<uri>https://www.v2ex.com/member/idblife</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	想订阅便宜的 google one ，但是支付方式里有美区的不能关闭。。。<br />想用土耳其节点试试看能不能切换到土耳其区
	]]></content>
</entry><entry>
	<title>[Python] pycharm 中 vim 模式使用 zt 命令代码无法置顶</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843093#reply7" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843093</id>
	<published>2022-03-26T13:01:15Z</published>
	<updated>2022-03-26T14:04:13Z</updated>
	<author>
		<name>n2l</name>
		<uri>https://www.v2ex.com/member/n2l</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>RT ，请问有解决办法吗，和这个问题一样。
<a href="https://v2ex.com/t/294293#reply4" rel="nofollow">https://v2ex.com/t/294293#reply4</a></p>

	]]></content>
</entry><entry>
	<title>[问与答] 总有人发帖自称南方人，这到底是怎样的一个迷惑定义？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843092#reply30" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843092</id>
	<published>2022-03-26T12:59:27Z</published>
	<updated>2022-03-26T15:47:42Z</updated>
	<author>
		<name>FreshOldMan</name>
		<uri>https://www.v2ex.com/member/FreshOldMan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	上海人(南方)<br />武汉人(南方)<br />广东人(南方)<br />广西人(南方)<br />云南人(南方)<br />等等<br />可以说南方人的定义非常宽泛了，完全无法给自己打 tag ，为什么还有喜欢给自己使用南方人的 tag?,完全没有共性吧？
	]]></content>
</entry><entry>
	<title>[程序员] 为什么 spring 源码中类的关系那么复杂?</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843091#reply7" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843091</id>
	<published>2022-03-26T12:49:25Z</published>
	<updated>2022-03-26T15:25:24Z</updated>
	<author>
		<name>BlackZhu</name>
		<uri>https://www.v2ex.com/member/BlackZhu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	最近在读 spring 源码,发现其中的类关系真让人头大,一层一层的继承实现太繁杂了,比如一个抽象方法往往要往下走好几层才会有具体的实现!<br />	这是 spring 本身的设计理念,还是随着项目的发展迭代出来的结果?
	]]></content>
</entry><entry>
	<title>[酷工作] 安卓高级开发工程师(数名)[ 8k-12k]</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843090#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843090</id>
	<published>2022-03-26T12:41:56Z</published>
	<updated>2022-03-26T12:40:56Z</updated>
	<author>
		<name>snowlyg</name>
		<uri>https://www.v2ex.com/member/snowlyg</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h4>薪资待遇：8k-12k</h4>
<h3>工作时间</h3>
<ul>
<li>5 天 8 小时</li>
<li>早上 8 点-12 点；下午 14 点-18 点；午休 2 小时</li>
<li>公司包住宿</li>
<li>公司提供午餐和晚餐</li>
</ul>
<h4>职责描述：</h4>
<ul>
<li>负责 Android 终端系统相关开发</li>
<li>参与项目需求分析，进行底层软件相关的设计、开发等</li>
<li>学习和研究新技术，参与新需求新功能的架构分析、设计、评审和实现。</li>
</ul>
<h4>任职要求：</h4>
<ul>
<li>专科以上学历，计算机相关专业，2 年以上工作经验</li>
<li>良好的 java 、C/C++编程开发能力和调试技能；</li>
<li>熟练掌握 Android SDK ，Android 四大组件，熟悉 UI 绘制以及渲染，事件传递机制，设备适配；</li>
<li>熟练使用 Android Studio 及相关调试工具；开发过完整项目或整个模块者优先；</li>
<li>基于瑞芯微 RK3399 、RK3288 系列有开发经验优先；</li>
<li>有智能硬件集成开发经验优先。</li>
</ul>
<p>公司地址：东莞松山湖
公司网站 ：<a href="http://www.chindeo.com/" rel="nofollow"> http://www.chindeo.com</a></p>
<p>简历投递到: NTY5NjE2MjI2QHFxLmNvbQ==</p>

	]]></content>
</entry><entry>
	<title>[问与答] 请教关于后台管理系统的问题</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843089#reply2" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843089</id>
	<published>2022-03-26T12:28:11Z</published>
	<updated>2022-03-26T13:08:53Z</updated>
	<author>
		<name>threeEggs123</name>
		<uri>https://www.v2ex.com/member/threeEggs123</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	接了一个私活，需要后台管理一些配置文件，功能就是 CRUD 那些配置。目前想到的是直接放在公网，加一个登录页面，登录生成 token ，然后每次请求后台验证 token 是否过期，没有过期就可以正常请求，有过期就返回到登录页面。但是觉得不安全，虽然管理后台网站也不是什么盈利网站，黑客也盯不上。想着能不能把管理后台放在内网，VPC 内，然后客户通过 VPN 连接到 VPC 网络，这样也不需要登录页面。但是这样 VPN -&gt; VPC 该怎么做，目前不是很清楚。或者各位彦祖爸爸们有什么好的方案吗？
	]]></content>
</entry><entry>
	<title>[酷工作] chromium 二次开发项目寻工程师，预算 10 万内</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843087#reply6" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843087</id>
	<published>2022-03-26T12:13:03Z</published>
	<updated>2022-03-26T15:56:58Z</updated>
	<author>
		<name>sskyy</name>
		<uri>https://www.v2ex.com/member/sskyy</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我们已经有一个基于 chromium 开发了一些功能，还有一些这些工作需要做：</p>
<ul>
<li>1 更新到和当前 chrome 相同的稳定版本。</li>
<li>2 移除 google 相关功能。列出所有相关的替换</li>
<li>3 制作用户身份与登录界面。用户要先登录才能打开全部功能。</li>
<li>4 崩溃上报。网页崩溃和应用崩溃都需要上报信息到相应的地址。</li>
<li>5 自动升级方案。类似想在 chrome 升级的效果。</li>
<li>6 扩展商店方案。需要帮助设计方案，具体实施之后再看。</li>
</ul>
<p>我们可以接受按项目整体付费或者时薪的方式付费。项目会持续比较长时间，如果可能的话希望能长期合作。</p>
<p>联系方式(base64 encode)：d2VpeGluICAxODI2ODAyODAyNg==</p>

	]]></content>
</entry><entry>
	<title>[Docker] 问一个 docker mariadb 数据库 镜像升级，保留参数又不泄漏密码的方式</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843086#reply8" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843086</id>
	<published>2022-03-26T11:59:58Z</published>
	<updated>2022-03-26T15:38:04Z</updated>
	<author>
		<name>jacyl4</name>
		<uri>https://www.v2ex.com/member/jacyl4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>第一次 docker run 的时候，参数内除了端口与映射挂载路径，还设置了 root 密码，创建了个新数库，并为该库建了普通用户与密码的。</p>
<p>那以后升级的升级镜像的时候，原容器删掉，岂不是要重新把第一次的所有参数再用上一遍么。如果考虑长久持续更新的话，docker run 参数肯定就保存在机器内了。</p>
<p>但是这样，岂不是明文保存了数据库的 密码用户库名等等么。有没有什么方式，能避开这种敏感呢？</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 开启 ipv6 之后，仍然想优先用 ipv4 的 dns 怎么办？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843085#reply9" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843085</id>
	<published>2022-03-26T11:59:17Z</published>
	<updated>2022-03-26T13:23:54Z</updated>
	<author>
		<name>phpfpm</name>
		<uri>https://www.v2ex.com/member/phpfpm</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h1>网络拓扑 /ipv6 开启方式：</h1>
<ol>
<li>TL-R483G ，选择复用 ipv4 拨号，开启前缀授权；</li>
<li>LAN 侧，用 SLAAC 的 DHCP 方式分发 DHCPIP</li>
<li>客户端：macos 15 ，在 test-ipv6 网站上 10 分满分通过</li>
<li>ipv4 的 lan 侧，设置旁路网关（ DNS 和 gateway 都是 192.168.0.2 ）</li>
<li>在旁路网关上有一些自定义解析(类似 <a href="http://test.com" rel="nofollow">test.com</a>)</li>
</ol>
<h1>遇到的问题</h1>
<p>在成功获取 ipv6 ip 的机器上执行 dig</p>
<pre><code>$ dig test.com
;; SERVER: 2409:8a00:
...
(反正是没结果）

$dig -4 test.com
;; SERVER: 192.168.0.2#53(192.168.0.2)
结果正常
</code></pre>
<h1>想问的问题</h1>
<ol>
<li>ipv4 和 ipv6dns 选路的问题，我该在哪层处理？</li>
</ol>
<p>A 操作系统：修改配置</p>
<p>B 网关层：好像也干不了啥</p>
<p>C 路由器层（提供 DHCP 服务的）</p>

	]]></content>
</entry><entry>
	<title>[程序员] C++ Qt 有没有像 Web 前端的 Bootstrap 这样的组件库可以快速构建出好看的 UI？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843084#reply5" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843084</id>
	<published>2022-03-26T11:31:11Z</published>
	<updated>2022-03-26T12:04:52Z</updated>
	<author>
		<name>theklf4</name>
		<uri>https://www.v2ex.com/member/theklf4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>不太喜欢系统原生的样式</p>

	]]></content>
</entry><entry>
	<title>[奇思妙想] 短视频, 延时(季/年)影像, 教育</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843083#reply2" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843083</id>
	<published>2022-03-26T11:22:25Z</published>
	<updated>2022-03-26T11:49:37Z</updated>
	<author>
		<name>iugo</name>
		<uri>https://www.v2ex.com/member/iugo</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在课本中, 我们应该都看到过人从猿一步步进化的过程图片, 这就是把 human evolution ( <a href="https://www.google.com/search?q=human+evolution&amp;newwindow=1&amp;sxsrf=APq-WBv9NrnD8oZcZ_xQmU4D3tBVuLUqNw:1648293189325&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ved=2ahUKEwjJ5aPQ0uP2AhU5DkQIHZ8ZC68Q_AUoAnoECAEQBA&amp;biw=1440&amp;bih=704&amp;dpr=2" rel="nofollow">https://www.google.com/search?q=human+evolution&amp;newwindow=1&amp;sxsrf=APq-WBv9NrnD8oZcZ_xQmU4D3tBVuLUqNw:1648293189325&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ved=2ahUKEwjJ5aPQ0uP2AhU5DkQIHZ8ZC68Q_AUoAnoECAEQBA&amp;biw=1440&amp;bih=704&amp;dpr=2</a>) 作为延时影像. 不过这个影像只能是绘画, 无法是摄影.</p>
<p>在一些纪录片中, 我们能看到一个地区的变化. 沧海桑田. 但主要记录的是地区.</p>
<p>或许我们可以利用这一点, 做一些教育相关的事情. 比如, 如果我家种桃子, 就每天拍两张桃树的变化, 然后每个季度将此制作为短视频, 让更多人在现在流行的短视频中, 获得自然知识.</p>
<p>我非常缺乏自然知识, 很羡慕做绿植, 花卉生意的朋友, 他们熟知植物的习性, 知道其规律, 了解生命的变化. 我在网上找过类似的知识, 但几乎找不到. 我觉得把 小桃子 如何长成 大桃子 这件事拍成视频, 是一百年都不过时的, 这样的知识, 应该非常有价值.</p>

	]]></content>
</entry><entry>
	<title>[问与答] 有一个想法，各位 V 友有没有好的解决方案？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843082#reply4" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843082</id>
	<published>2022-03-26T11:17:44Z</published>
	<updated>2022-03-26T11:50:46Z</updated>
	<author>
		<name>runninghipp</name>
		<uri>https://www.v2ex.com/member/runninghipp</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>目前有两个终端，需要办公，没有即时通讯软件可以使用；
两台终端都可以连外网，目前有一台阿里云服务器；
想实现一个功能，比如 A 终端打开一个网页，可以直接上传文件，
B 终端打开网页，可以直接看到目前文件清单，直接 download ，就是很极简的那种；
方便两个终端快速传递文件，有没有这样式的应用；</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 关于双软路由方案</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843081#reply14" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843081</id>
	<published>2022-03-26T11:16:01Z</published>
	<updated>2022-03-26T15:18:19Z</updated>
	<author>
		<name>JLTHU</name>
		<uri>https://www.v2ex.com/member/JLTHU</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>看到网络上的软路由 /AIO 的配置方案，很多都是 iKuai + OpenWRT 一主一旁的架构，想听大家讲讲这种有什么优势？因为感觉对家庭网络而言，直接一个 OpenWRT 足够了，特别是对于 AIO ，毕竟硬件 All in one 也就意味着 all in boom ，所谓“旁路由挂了不影响网络”这种说法似乎也并不成立。</p>

	]]></content>
</entry><entry>
	<title>[CSS] 在自定义 Logseq 主题时遇到的一些关于 CSS 的疑问</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843080#reply1" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843080</id>
	<published>2022-03-26T11:04:35Z</published>
	<updated>2022-03-26T13:59:13Z</updated>
	<author>
		<name>jaredyam</name>
		<uri>https://www.v2ex.com/member/jaredyam</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><strong>custom.css:</strong></p>
<pre><code class="language-css">.dark-theme,
html[data-theme="dark"] {
    --ls-block-bullet-active-color: rgb(217, 255, 0);
    --ls-block-bullet-threading-width: 1px;
}

.block-content-wrapper {
    position: relative;
}

.bullet-container {
    height: 14px !important;
    width: 14px !important;
    position: relative;
    transform: translate(1px, -1px);
}

.ls-block div.items-center {
    position: relative;
    height: 26px !important;
}

.ls-block .ls-block&gt;div&gt;div.items-center::before {
    content: "";
    left: -1px;
    right: 6px;
    top: calc(-50% + var(--ls-block-bullet-threading-width) * 0.5 - 1px);
    bottom: 50%;
    position: absolute;
    border-left: var(--ls-block-bullet-threading-width) solid transparent;
    border-bottom: var(--ls-block-bullet-threading-width) solid transparent;
    border-bottom-left-radius: 10px;
}

.ls-block .block-children&gt;.ls-block::before {
    content: "";
    top: -1rem;
    bottom: 0;
    border-left: var(--ls-block-bullet-threading-width) solid transparent;
    left: -1px;
    position: absolute;
}

.ls-block[haschild="true"]&gt;div&gt;.block-content-wrapper::before {
    pointer-events: none;
    content: "";
    top: 12px;
    bottom: 0;
    left: -15px;
    position: absolute;
    border-left: var(--ls-block-bullet-threading-width) solid transparent;
}

.ls-block[haschild="true"]:focus-within&gt;div&gt;.block-content-wrapper::before {
    border-color: var(--ls-block-bullet-active-color);
    --ls-block-bullet-threading-width: 3px;
}

.ls-block .ls-block:focus-within&gt;div&gt;div.items-center::before {
    border-color: var(--ls-block-bullet-active-color);
    --ls-block-bullet-threading-width: 3px;
}

.ls-block .block-children:focus-within&gt;.ls-block:not(:focus-within)::before {
    border-color: var(--ls-block-bullet-active-color);
    --ls-block-bullet-threading-width: 3px;
}

.ls-block .block-children:focus-within&gt;.ls-block:focus-within~.ls-block::before {
    border-color: transparent;
}
</code></pre>
<p>以上代码可以作为 Logseq 的 <code>custom.css</code> 自定义主题，在光标 <code>focus-within</code> 一个 block 时会高亮当前 block 的嵌套路径。如下图加粗绿线：</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/8G2Mz01.png"/></p>
<p><strong>我现在有如下疑问：</strong></p>
<p>上述代码如何从监听 <code>focus-within</code> 事件切换到 <code>hover</code> 事件时仍然奏效？有没有办法同时高亮 <code>focus-within</code> 和 <code>hover</code> 事件时对应的 block 路径？
从目前的尝试来看，如果直接将所有 <code>:focus-within</code> 替换为 <code>:hover</code> 后会出现：</p>
<ol>
<li>如果没有发生 <code>focus-within</code> 事件，<code>hover</code> 事件大致可以正常工作，但是和 <code>focus-within</code> 下的行为不太一致</li>
<li><code>focus-within</code> 事件仍然会被监听，干扰 <code>hover</code> 时的行为</li>
</ol>
<p>有没有比较懂 CSS 又在用 Logseq 的大佬看看上面代码怎么改可以支持 <code>hover</code> 时高亮或者两者同时高亮[please]</p>

	]]></content>
</entry><entry>
	<title>[Linux] Web 服务的程序放在 /opt /var /etc /app /web 哪个好？ Web 服务的数据呢？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843079#reply24" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843079</id>
	<published>2022-03-26T10:51:51Z</published>
	<updated>2022-03-26T15:40:43Z</updated>
	<author>
		<name>theklf4</name>
		<uri>https://www.v2ex.com/member/theklf4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>每种情况的人我都见过，google 查了很久说什么的都有，没有结论</p>

	]]></content>
</entry><entry>
	<title>[Instagram] 现在在国内还有办法添加新位置么？在脸书 app 上添加的办法似乎已经失效了。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843078#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843078</id>
	<published>2022-03-26T10:41:00Z</published>
	<updated>2022-03-26T10:41:00Z</updated>
	<author>
		<name>Trigold</name>
		<uri>https://www.v2ex.com/member/Trigold</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	如题。
	]]></content>
</entry><entry>
	<title>[Apple] 新 MPB 状态栏大部分都看不到了，怎么解决哟</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843077#reply10" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843077</id>
	<published>2022-03-26T10:37:24Z</published>
	<updated>2022-03-26T15:41:55Z</updated>
	<author>
		<name>Kamiimeteor</name>
		<uri>https://www.v2ex.com/member/Kamiimeteor</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>已经用了 hidden bar ，但被刘海挡住了，展开之后只能看到 2-3 个😓</p>
<p>很多需要拖拽到状态栏操作的都无法用了
比如 iPic 图床</p>
<p>其它体验都很好，屏幕 键盘 新充电口 电池时间，就这个真的让我有点抓狂了😫</p>
<p><a href="https://imgtu.com/i/qdGPpV" rel="nofollow"><img alt="qdGPpV.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/03/26/qdGPpV.png"/></a></p>

	]]></content>
</entry><entry>
	<title>[宠物] 大家养猫狗都用什么口腔清洁产品</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843075#reply3" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843075</id>
	<published>2022-03-26T10:31:59Z</published>
	<updated>2022-03-26T14:08:19Z</updated>
	<author>
		<name>ponder</name>
		<uri>https://www.v2ex.com/member/ponder</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>去年刚领养回来的时候，它双排牙导致口臭，牙龈有红肿。</p>
<p>医生说，喂软食物会好一些。于是就搞了好十几公斤鸡胸肉回来。每天煮了喂。没有切很细，都是相对大块的，慢慢 10 多天后，它的双排牙掉了一颗，后面有两颗松了，让我拔了一颗，另一颗可能是被它自己吞到肚子里了</p>
<p>这期间因为双排牙，有食物残留在牙缝间，猫咪的口腔有异味，还不小。于是在网上找一些口腔护理的产品。</p>
<p>看了好多产品，要么是宣传自己天然提取物去口臭，但是仔细看还有添加香精（看国外的文章说过，有部分商品生产者会用香精来掩盖口臭），就不敢买； </p>
<p>还有的是明明国外官网写着有洗必泰的成分，一到国内的商城，详情页和产品成分表就只写主要成分等，而没有列出其他成分（其实对应的商品，国外出售的时候，成分都很详细）也担心化学杀菌对猫咪不好 </p>
<p>有使用过家宠乐的口腔护理精华，那时候产品还在测试中，用的过程中，正好猫咪的双排牙只剩一颗了，第五天的时候，明显感到卖萌的猫咪口气减轻了许多，一周后，猫咪喝水渐多的同时，口臭少了很多（也不知道是不是双排牙快掉完的缘故呢）。</p>
<p>口臭是没有了，但是现在猫咪口腔还是有一个问题，就是牙龈红肿着，特别是门牙那两小排牙；</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/i1ddwjd.png"/></p>
<p>目前但是没影响它的生活。大家的宠物有遇到过类似的情况吗</p>

	]]></content>
</entry><entry>
	<title>[程序员] 有什么好用的第三方 github 移动端吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843074#reply12" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843074</id>
	<published>2022-03-26T10:14:50Z</published>
	<updated>2022-03-26T15:18:29Z</updated>
	<author>
		<name>nojsja</name>
		<uri>https://www.v2ex.com/member/nojsja</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	，
	]]></content>
</entry><entry>
	<title>[程序员] 博客改版，有没有极简风的博客主题推荐参考？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843073#reply47" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843073</id>
	<published>2022-03-26T10:10:53Z</published>
	<updated>2022-03-26T16:05:05Z</updated>
	<author>
		<name>chuanqirenwu</name>
		<uri>https://www.v2ex.com/member/chuanqirenwu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[Apple] 求 新 MPB 拓展坞推荐</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843071#reply12" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843071</id>
	<published>2022-03-26T09:57:53Z</published>
	<updated>2022-03-26T16:19:26Z</updated>
	<author>
		<name>Kamiimeteor</name>
		<uri>https://www.v2ex.com/member/Kamiimeteor</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>原来买的是俩 typc-c 口直接贴边 MBP ，何奈新 MBP 回归吸附式充电🔋了
（还是很喜欢的，特别是新款电源线的编制风格）</p>
<p>但这样原来的拓展坞就会完全挡住充电口，虽然 type-c 应该也能充电，但还是想保留现在的充电口和充电方式</p>
<p>所以想把这个老款出了，入一个新的</p>
<p>需求：至少两个 USB 口，至少一个 type-c 口，一个千兆网口</p>
<p>下图为原来的拓展坞，如果有需要的 v 友，低价出了～
<a href="https://imgtu.com/i/qd8tzT" rel="nofollow"><img alt="qd8tzT.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/03/26/qd8tzT.jpg"/></a></p>
<p><a href="https://imgtu.com/i/qd80eJ" rel="nofollow"><img alt="qd80eJ.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/03/26/qd80eJ.png"/></a></p>

	]]></content>
</entry><entry>
	<title>[iPhone] 航旅纵横和飞常准，你们选择哪个？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843070#reply20" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843070</id>
	<published>2022-03-26T09:53:50Z</published>
	<updated>2022-03-26T15:28:23Z</updated>
	<author>
		<name>Apple2023</name>
		<uri>https://www.v2ex.com/member/Apple2023</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>哪个 app 航班动态提示的最好？求推荐</p>

	]]></content>
</entry><entry>
	<title>[程序员] 浏览器为什么选择了如今的同源策略</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843069#reply42" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843069</id>
	<published>2022-03-26T09:48:16Z</published>
	<updated>2022-03-26T15:17:18Z</updated>
	<author>
		<name>wheelg</name>
		<uri>https://www.v2ex.com/member/wheelg</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>浏览器会禁止下面的类似操作</p>
<p><code><a href="http://a.com" rel="nofollow">a.com</a></code>中的 js 向<code><a href="http://b.com/api" rel="nofollow">b.com/api</a></code>发送了请求，根据同源策略，这样的跨域请求会向<code><a href="http://b.com" rel="nofollow">b.com</a></code> 发送一个 OPTIONS 预检请求，如果服务器返回的 Access-Allow-Origins 中不包含<code><a href="http://a.com" rel="nofollow">a.com</a> </code>，那么此次请求会被浏览器拒绝，<code><a href="http://a.com" rel="nofollow">a.com</a></code>中的 js 拿不到请求返回的数据。</p>
<p>这样的行为如果发生在本地应用程序例如 postman 中时，是可以拿到正常的请求数据的，因为 postman 没有同源策略，不会限制发送任何请求，那么为什么浏览器要对此做出限制？</p>
<p>网上的大部分解释是，浏览器在向某个域名发起请求时，会携带上对应的网站 cookie ，如果用户登录了<code><a href="http://b.com" rel="nofollow">b.com</a></code>，又打开了<code><a href="http://a.com" rel="nofollow">a.com</a></code>，<code><a href="http://a.com" rel="nofollow">a.com</a></code>向<code><a href="http://b.com/api" rel="nofollow">b.com/api</a></code>发送的请求会带上<code><a href="http://b.com" rel="nofollow">b.com</a></code>的 cookie ，会让<code><a href="http://b.com" rel="nofollow">b.com</a></code>服务器认为是用户本人在操作，导致恶意攻击的发生。</p>
<p>那么为什么浏览器不能分辨是哪个网站发起的请求呢？为什么浏览器不能在检测到是<code><a href="http://a.com" rel="nofollow">a.com</a></code>发出的请求时，不携带<code><a href="http://b.com" rel="nofollow">b.com</a></code>网站保存的 cookie 呢？这样不就能同样规避此类攻击吗？就如同在浏览器直接输入 api 网址那样拿到返回结果不行吗？</p>
<p>我的理解是，浏览器厂商不能这样做，因为许多广告厂商需要在网站中嵌入第三方 cookie ，这样才能通过第三方 cookie 来确定同一用户，方便广告投放，但是这个说法也显然站不住脚，因为如今许多浏览器厂商都在主动禁止第三方 cookie ，那么这个同源策略到底保护的是什么呢？</p>

	]]></content>
</entry><entry>
	<title>[问与答] fb 登录游戏异常</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843068#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843068</id>
	<published>2022-03-26T09:47:20Z</published>
	<updated>2022-03-26T09:46:20Z</updated>
	<author>
		<name>eumenides88</name>
		<uri>https://www.v2ex.com/member/eumenides88</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	之前一直用 fb 登录玩的一个小游戏，一段时间没有玩，今天登录 fb 突然显示这样 一段文字<br /><br /><br /><br />“应用未设置应用仍处于开发模式，你没有访问权限。请切换为己注册的模拟用户，或向应用管理员申请访问权限。”<br /><br /><br /><br />怎么回事啊这个，好突然，求助<br /><br /><br /><br />不会发图片，大家就这样凑合看😄
	]]></content>
</entry><entry>
	<title>[程序员] 有多少人是用纯 Linux 做 NAS 系统的？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843067#reply29" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843067</id>
	<published>2022-03-26T09:44:02Z</published>
	<updated>2022-03-26T16:21:01Z</updated>
	<author>
		<name>qiubangzhu</name>
		<uri>https://www.v2ex.com/member/qiubangzhu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>感觉熟悉 Linux 的人来说，直接用 debian 或者 ubuntu 做 nas 可能会更好，安装个 smb 就可以用了，dcoker 啥的也都比较方便，甚至可以在 Linux 里面在装虚拟机。但是有个疑问，组软 raid 好组吗？</p>
<p>有哪些坑吗？跟成品 nas 系统对比有什么优缺点</p>

	]]></content>
</entry><entry>
	<title>[Java] 关系型数据库 10 亿级别数据迁移到 neo4j 图数据库</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843065#reply3" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843065</id>
	<published>2022-03-26T09:40:33Z</published>
	<updated>2022-03-26T09:52:31Z</updated>
	<author>
		<name>liangkang1436</name>
		<uri>https://www.v2ex.com/member/liangkang1436</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h2>现在有一个需求，需要将 Oracle 数据库中的 10 亿级别的数据迁移到 neo4j 数据库中，每天定时同步</h2>
<h3>我的做法</h3>
<p>查了 neo4j 的数据导入相关的官方文档，发现首先需要数据编写成 CSV 文件的格式，然后再用 LOAD CSV 命令导入到 neo4j 中，于是我用 Spring 写了个服务，先用多线程同时分页读数据库，将数据库中的数据存成 csv 文件，然后用 Java 驱动建立和 neo4j 数据的链接，然后用 LOAD CSV 命令插入数据，先跑一遍全量，然后每天定时跑增量，性能勉强可以接受。</p>
<h3>我的疑问</h3>
<ul>
<li>又没有专门的 neo4j 数据库数据导入工具？比如封装好的 Java 类库？</li>
<li>如果没有这样的类库，还有没有其他更好的方案？</li>
<li>我也是 neo4j 的新手，大佬勿喷</li>
</ul>

	]]></content>
</entry><entry>
	<title>[酷工作] 加入蔚来，回应这个时代</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843064#reply9" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843064</id>
	<published>2022-03-26T09:37:23Z</published>
	<updated>2022-03-26T16:06:28Z</updated>
	<author>
		<name>woodyguo77</name>
		<uri>https://www.v2ex.com/member/woodyguo77</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	海量职位，可以自行投递： <a target="_blank" href="https://nio.jobs.feishu.cn/s/Nmgra4H" rel="nofollow noopener">https://nio.jobs.feishu.cn/s/Nmgra4H</a><br />也可联系我内推。
	]]></content>
</entry><entry>
	<title>[深圳] 初来深圳，现在在 5 号线留仙洞上班，有推荐的租房地点么</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843063#reply7" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843063</id>
	<published>2022-03-26T09:35:24Z</published>
	<updated>2022-03-26T16:20:40Z</updated>
	<author>
		<name>5bb864e1fc775087</name>
		<uri>https://www.v2ex.com/member/5bb864e1fc775087</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	希望通勤时间 40 分钟内<br /><br />或者有没有招合租室友的
	]]></content>
</entry><entry>
	<title>[问与答] 网友能分享一个可以看意林的软件或者网站吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843062#reply1" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843062</id>
	<published>2022-03-26T09:26:29Z</published>
	<updated>2022-03-26T10:19:07Z</updated>
	<author>
		<name>ha2ha</name>
		<uri>https://www.v2ex.com/member/ha2ha</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<ul>
<li>主要是免费的奥，</li>
<li>感谢分享！</li>
</ul>

	]]></content>
</entry><entry>
	<title>[全球工单系统] 阿里小号的 iOS APP 短信内容无法复制</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843061#reply7" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843061</id>
	<published>2022-03-26T09:22:21Z</published>
	<updated>2022-03-25T17:49:34Z</updated>
	<author>
		<name>0o0O0o0O0o</name>
		<uri>https://www.v2ex.com/member/0o0O0o0O0o</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>106 短信不会发到绑定的手机号上，但阿里小号 APP 有点简陋</p>

	]]></content>
</entry><entry>
	<title>[问与答] zoom 充值太贵了，有什么优惠的付款方式吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/843060#reply0" />
	<id>tag:www.v2ex.com,2022-03-26:/t/843060</id>
	<published>2022-03-26T09:06:16Z</published>
	<updated>2022-03-26T09:04:16Z</updated>
	<author>
		<name>PrilgrimLi</name>
		<uri>https://www.v2ex.com/member/PrilgrimLi</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>之前用腾讯会议和钉钉，但是总有些不方便，所以想换成 zoom ，但是免费的只能最长 40 分钟会议，付费可以接受，但是一年要小一千块。有没有什么优惠的方式？例如换区支付之类的？？</p>

	]]></content>
</entry>
</feed>