<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title>V2EX</title>
<subtitle>way to explore</subtitle>


<link rel="alternate" type="text/html" href="https://www.v2ex.com/" />
<link rel="self" type="application/atom+xml" href="https://www.v2ex.com/index.xml" />
<id>https://www.v2ex.com/</id>

<updated>2022-12-10T16:14:31Z</updated>

<rights>Copyright © 2010-2018, V2EX</rights>
<entry>
	<title>[宽带症候群] 爱快设置 VLAN 后 CPU 占用突增</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901635#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901635</id>
	<published>2022-12-10T16:14:31Z</published>
	<updated>2022-12-10T16:14:31Z</updated>
	<author>
		<name>YongXMan</name>
		<uri>https://www.v2ex.com/member/YongXMan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在爱快软路由上配置了一下 VLAN ，然后把两个设备迁移过去，总上传流量基本上维持在 10-20MB/s 。</p>
<p>软路由 cpu 占用从未配置 VLAN 的 15%突增到 70%，启用 VLAN 为什么这么消耗 cpu ，看了一下 VLAN 数据帧格式，比普通的数据帧只多了 4 个字节，理论上不应该有这么大的资源占用抖动。</p>
<p>有大佬折腾过 VLAN 遇到过类似问题或者了解具体原因吗？</p>

	]]></content>
</entry><entry>
	<title>[Java] [chatGpt 在回复问题上与百度谷歌的区别]</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901634#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901634</id>
	<published>2022-12-10T16:13:50Z</published>
	<updated>2022-12-10T16:12:50Z</updated>
	<author>
		<name>RedBeanIce</name>
		<uri>https://www.v2ex.com/member/RedBeanIce</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://imgse.com/i/zfsvdS" rel="nofollow">https://imgse.com/i/zfsvdS</a></p>
<p>如图所示，在解答问题的时候，已经可以定位出一些问题了</p>
<p>之前是直接百度或者谷歌，感觉现在可以先 Ai</p>
<p>(如果帖子违规，请提醒我)</p>

	]]></content>
</entry><entry>
	<title>[iPhone] 有苹果开发者账号的车队吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901633#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901633</id>
	<published>2022-12-10T16:09:14Z</published>
	<updated>2022-12-10T12:09:14Z</updated>
	<author>
		<name>Zz1</name>
		<uri>https://www.v2ex.com/member/Zz1</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有苹果开发者账号的车队吗，我加个车队</p>

	]]></content>
</entry><entry>
	<title>[问与答] 最近想吃玉米，求推荐品牌，多个选择</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901632#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901632</id>
	<published>2022-12-10T15:56:20Z</published>
	<updated>2022-12-10T15:59:04Z</updated>
	<author>
		<name>moon7wimd</name>
		<uri>https://www.v2ex.com/member/moon7wimd</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>就知道个东北农嫂和北纬 47 ，有其他什么好吃不贵的牌子吗？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 朋友圈的可见范围，是不是可以随着所选择标签的更新而更新了？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901629#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901629</id>
	<published>2022-12-10T15:36:34Z</published>
	<updated>2022-12-10T15:48:06Z</updated>
	<author>
		<name>fengleiyidao</name>
		<uri>https://www.v2ex.com/member/fengleiyidao</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[宽带症候群] 肉翻后在网络世界里最想做的事？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901626#reply18" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901626</id>
	<published>2022-12-10T15:29:41Z</published>
	<updated>2022-12-10T16:17:36Z</updated>
	<author>
		<name>zshstc</name>
		<uri>https://www.v2ex.com/member/zshstc</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	一直折腾科学上网，软路由，各种数字难民流媒体....<br /><br />请教下各位同学，如果肉翻后，最想在网络世界做的事是什么？<br /><br />我先抛砖引玉一下：<br /><br />每天开着奈飞 /D+/YT 看到睡着。
	]]></content>
</entry><entry>
	<title>[问与答] 向日葵内存占用的问题是不是已经很久了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901625#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901625</id>
	<published>2022-12-10T15:29:12Z</published>
	<updated>2022-12-10T15:29:12Z</updated>
	<author>
		<name>Lighfer</name>
		<uri>https://www.v2ex.com/member/Lighfer</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>刚装上不到 10 分钟就吃了 12G ，印象中很久很久很久很久 x100 以前也在坛子里听别人说过这个问题？</p>
<p><a href="https://imgur.com/a/1Q38XGa" rel="nofollow">https://imgur.com/a/1Q38XGa</a></p>

	]]></content>
</entry><entry>
	<title>[iCloud] 如何删除 iCloud 备份的备忘录，而保留 iPhone</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901623#reply4" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901623</id>
	<published>2022-12-10T15:22:14Z</published>
	<updated>2022-12-10T15:36:12Z</updated>
	<author>
		<name>random1221</name>
		<uri>https://www.v2ex.com/member/random1221</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>需求是删除 iCloud 的所有备忘录内容，但是 iPhone 上想保留不动不删除</p>
<p>需求举例:iCloud 备忘录有我前女友 luo 照，我想一个人看，不想传到 iCloud 上</p>
<p>查了一下，没看到有可行的方案，似乎所有的逻辑，都是以 iCloud 上的文件为主</p>
<p><a href="https://discussions.apple.com/thread/251549258" rel="nofollow">https://discussions.apple.com/thread/251549258</a></p>

	]]></content>
</entry><entry>
	<title>[iOS] 有人知道 mac catalyst 15.0 是对应哪个版本吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901621#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901621</id>
	<published>2022-12-10T15:08:15Z</published>
	<updated>2022-12-10T15:08:15Z</updated>
	<author>
		<name>pheyer</name>
		<uri>https://www.v2ex.com/member/pheyer</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	下载了 github 上一个开源 swiftUI 项目，想直接在 Mac 上运行，结果报错，提示信息是：error build: 'data(for:delegate:)' is only available in Mac Catalyst 15.0 or newer<br /><br />用的 Mac 系统是 macOS Monterey 12.6.1 ，Xcode 版本是 14.0<br /><br />根据 so 上的搜索结果，Catalyst 和 macOS 的对应关系如下<br />macCatalyst 13.0 = macOS 10.15<br />macCatalyst 13.4 = macOS 10.15.4<br />macCatalyst 14.0 = macOS 11.0<br />macCatalyst 14.7 = macOS 11.6<br />macCatalyst 15.0 = macOS 12.0<br />macCatalyst 15.3 = macOS 12.2 and 12.2.1<br />macCatalyst 15.4 = macOS 12.3<br />macCatalyst 15.5 = macOS 12.4<br />macCatalyst 15.6 = macOS 12.5<br /><br />按这个列表，我用的 12.6.1 系统应该是没问题，有点挺奇怪<br /><br />我运行的开源代码是这个： <a target="_blank" href="https://github.com/37iOS/iChatGPT" rel="nofollow noopener">https://github.com/37iOS/iChatGPT</a>
	]]></content>
</entry><entry>
	<title>[天黑以后] 20221210 午夜俱乐部</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901620#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901620</id>
	<published>2022-12-10T15:06:31Z</published>
	<updated>2022-12-10T15:26:22Z</updated>
	<author>
		<name>samohyes</name>
		<uri>https://www.v2ex.com/member/samohyes</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>当个好人生活也不一定会对你友好啊。好运什么时候可以来到我身边呢？哎。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 各位帮我判断一下，他们是真把数据丢了还是客服不想帮我找回敷衍我？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901619#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901619</id>
	<published>2022-12-10T15:05:20Z</published>
	<updated>2022-12-10T15:05:20Z</updated>
	<author>
		<name>815979670</name>
		<uri>https://www.v2ex.com/member/815979670</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>事件经过：</p>
<ul>
<li>因升级最新款 app 后心率带连接失败，尝试退出账号后重新登录试试。</li>
<li>重新登录时与上次登录一样选择微信登陆，登录之后是一个新账户，数据全没了。</li>
<li>怀疑是不是老版本与新版本因为某些未知原因数据不互通，所以找了个历史版本登录试试。</li>
<li>老版本使用微信登录提示: "与开放平台上提供的签名不对"，所以我猜测他们是在升级版本中删除了之前微信开发者的 appid ，然后申请了一个新的 appid ，用于新版本的微信登录。但因为 appid 不同所以登陆后拿到的 openid 也不同，无法关联到之前的账户，于是创建了一个新的账户。</li>
<li>与客服沟通后得到的答复是："服务器被黑，数据丢失，抱歉。"。但其实本人对这个说法是不相信的，因为在升级 app 前不久的时间，我还通过 app 查看了很多年之前的骑行轨迹，如果服务器被黑，按理来说这个数据也应该是看不到的（因为今年才换了手机，不可能是很多年前的本地缓存）。</li>
<li>所以我更相信是不同的 appid 导致拿到了不同的 openid 登录了不同的账号，而不是服务器被黑导致的数据丢失。</li>
</ul>
<p>然后目前有三个可能：</p>
<ol>
<li>服务器真的被黑了，大家数据都丢了，我看到的记录确实是缓存（或许人家在登录后把这个用户的所有数据都缓存到了本地）</li>
<li>客服怕找技术沟通麻烦 所以敷衍我说数据丢了。</li>
<li>技术没办法把之前的 openid 和 新的 openid 对应起来，觉得处理起来麻烦，所以告诉客服说 "数据丢了,找不回来了"，然后客服也对外这么说。</li>
</ol>
<p>ps:使用他们 app 的前提是花了一千多买他们家的骑行硬件（码表、心率带、踏频器、尾灯），所有我觉得我也算是付费用户，不存在所谓的 "免费用，丢了数据怪谁" 这样的问题。</p>
<p>最后附上与客服沟通记录：
<img alt="zf0N7Q.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/12/10/zf0N7Q.jpg"/></p>
<p>还有老版本登录时的提示
<img alt="zf0YnS.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/12/10/zf0YnS.jpg"/></p>

	]]></content>
</entry><entry>
	<title>[NAS] 请教大佬一个白群 docker clash 的问题，感谢</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901618#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901618</id>
	<published>2022-12-10T14:56:08Z</published>
	<updated>2022-12-10T14:56:08Z</updated>
	<author>
		<name>acrosstbplanet</name>
		<uri>https://www.v2ex.com/member/acrosstbplanet</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>白群 DS220+/DSM7.1.1
为了同步 dropbox ，装了 clash premium docker 和 yacd ，
配置文件大概是这样</p>
<pre><code>port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
allow-lan: true
mode: rule
log-level: info
external-controller: 0.0.0.0:9090
ipv6: true
dns:
  enable: true
  ipv6: true
  listen: 0.0.0.0:53
  default-nameserver: [119.29.29.29]
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16 # Fake IP addresses pool CIDR
  use-hosts: true
  nameserver:
    - 'https://doh.pub/dns-query'
  fallback:
    - tcp://1.1.1.1

proxies:

proxy-providers:
  nexitally: {......}

proxy-groups:
  - {name: Proxy, type: select, use: [nexitally]}

rules:
  # dropbox sync
  - DOMAIN-SUFFIX,dropbox.com,Proxy
  - DOMAIN-SUFFIX,dropboxapi.com,Proxy
  - DOMAIN-SUFFIX,dropboxusercontent.com,Proxy
  - DOMAIN-SUFFIX,db.tt,Proxy
  - DOMAIN-SUFFIX,dropbox-dns.com,Proxy
  - DOMAIN-SUFFIX,dropbox.tech,Proxy
  - DOMAIN-SUFFIX,dropbox.zendesk.com,Proxy
  - DOMAIN-SUFFIX,dropboxbusiness.com,Proxy
  - DOMAIN-SUFFIX,dropboxcaptcha.com,Proxy
  - DOMAIN-SUFFIX,dropboxforum.com,Proxy
  - DOMAIN-SUFFIX,dropboxforums.com,Proxy
  - DOMAIN-SUFFIX,dropboxinsiders.com,Proxy
  - DOMAIN-SUFFIX,dropboxmail.com,Proxy
  - DOMAIN-SUFFIX,dropboxpartners.com,Proxy
  - DOMAIN-SUFFIX,dropboxstatic.com,Proxy
  - DOMAIN-SUFFIX,getdropbox.com,Proxy
  - DOMAIN-SUFFIX,paper-attachments.s3.amazonaws.com,Proxy
  # all others direct
  - MATCH,DIRECT
</code></pre>
<p>然后设置群晖使用 clash docker 的代理，192.168.a.b:7890</p>
<p>docker 端口映射看起来正常，clash 运行正常，yacd 连接、显示、控制正常</p>
<p>另外的 win10 设置使用该代理正常，Cloud Sync 设置同步 dropbox 也正常</p>
<p>但是 Cloud Sync 中设置的百度云同步出现问题，能够检测到云盘新增文件和目录，会在 nas 同步目录中新建目录，但同步文件的时候完全没有速度、也不显示进展。</p>
<p>现在的情况是：设置群晖不使用代理，百度云同步就正常，无法同步 dropbox ；设置使用代理，dropbox 正常，百度云就不正常了。</p>
<p>麻烦大佬帮忙看看，可能是哪里的问题？感谢</p>

	]]></content>
</entry><entry>
	<title>[问与答] 为什么 Chome 会在一小时后停止 setTimeout</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901617#reply4" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901617</id>
	<published>2022-12-10T14:54:20Z</published>
	<updated>2022-12-08T16:19:40Z</updated>
	<author>
		<name>christin</name>
		<uri>https://www.v2ex.com/member/christin</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我有个接口需要 10 秒钟调用一次，但是根据业务反馈一个多小时后接口就请求不到数据了。我查了日志，发现一个多小时之后就没有再调这个接口了。<br/>
查了谷歌，找到了一个 Chrome 88+ 会在页面隐藏 5 分钟后将计时器限制为 1 分钟一次，我自己测试也确实看到了这种情况。但是没有找到 1 小时后停止的相关信息。<br/>
问了 chatGPT ，他给我了一个因为性能考虑会在一小时后做限制，但是没有信源也不知道该不该相信他。<br/>
另外，这种情况要怎么解决呢？限制为 1 分钟一次我查到可以通过播放声音来取消限制，但是停止就不知道了。</p>

	]]></content>
</entry><entry>
	<title>[程序员] 用户重复注册分析-多线程事务中加锁引发的 bug</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901616#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901616</id>
	<published>2022-12-10T14:52:57Z</published>
	<updated>2022-12-10T10:52:57Z</updated>
	<author>
		<name>wayn111</name>
		<uri>https://www.v2ex.com/member/wayn111</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>本文记录博主线上项目一次用户重复注册问题的分析过程与解决方案</p>
<h1>一 复现过程</h1>
<p>线上客户端用户使用微信扫码登陆时需要再绑定一个手机号，在绑定手机后，用户购买客户端商品下线再登录，发现用户账号 ID 被变更，已经不是用户刚绑定手机号时自动登录的用户账号 ID ，查询线上数据库，发现同一个手机生成了多个账号 id ，至此问题复现</p>
<h1>二 分析过程</h1>
<p>发现数据库中一个手机号生成了多个用户账号，第一反应是用户在绑定手机号过程中，多次点击绑定按钮，导致绑定接口被调用多次，造成多线程并发调用用户注册接口，进而生成多个账号。为了验证我们的猜想，直接查看绑定手机后的用户注册方法</p>
<pre><code class="language-java">/**
 * 根据用户手机号进行注册操作
 */
// 启动 @Transactional 事务注解
@Transactional(rollbackFor = Exception.class)
public boolean userRegister(LoginReqBody body, BaseReqHeader header, BaseResp&lt;BaseRespHeader, LoginRespBody&gt; resp) {
    RedisLock redisLock = redisCache.getRedisLock(RedisNameEnum.USER_REGISTER_LOCK.get(""), 10);
    boolean lock;
    try {
        lock = redisLock.lock();
        // 使用 redis 分布式锁
        if (lock) {
            // 查询数据库该用户手机号是否插入成功，已存在则退出操作
            MemberDO member = mapper.findByMobile(body.getAccount(), body.getRegRes());
            if (Objects.nonNull(member)) {
                resp.setResultFail(ReturnCodeEnum.USER_EXIST);
                return false;
            }
            // 执行用户注册操作，包含插入用户表、订单表、是否被邀请
            ...
        }
    } catch (Exception e) {
        log.error("用户注册失败：", e);
        throw new Exception("用户注册失败");
    } finally {
        redisLock.unLock();
    }
    // 添加注册日志，上报到数据分析平台...
    return true;
}
</code></pre>
<p>初看代码，在分布式环境中，先加分布式锁保证同时只能被一个线程执行，然后判断数据库中是否存在用户手机信息，已存在则退出，不存在则执行用户注册操作，咋以为逻辑上没有问题，但是线上环境确实就是出现了相同手机号重复注册的问题，首先代码被 <code>@Transactional</code> 注解包含，就是在自动事务中执行注册逻辑</p>
<p>现在博主带大家回忆一下，<code>MySQL</code> 事务的隔离级别有 4 个</p>
<ul>
<li>Read uncommitted：读取未提交，其他事务只要修改了数据，即使未提交，本事务也能看到修改后的数据值。</li>
<li>Read committed：读取已提交，其他事务提交了对数据的修改后，本事务就能读取到修改后的数据值。</li>
<li>Repeatable read：可重复读，无论其他事务是否修改并提交了数据，在这个事务中看到的数据值始终不受其他事务影响。</li>
<li>Serializable：串行化，一个事务一个事务的执行。  </li>
<li>MySQL 数据库默认使用可重复读（ Repeatable read ）。</li>
</ul>
<p>隔离级别越高，越能保证数据的完整性和一致性，但是对并发性能的影响也越大，MySQL 的默认隔离级别是读可重复读。在上述场景里，也就是说，无论其他线程事务是否提交了数据，当前线程所在事务中看到的数据值始终不受其他事务影响</p>
<p>说人话(划重点)：就是在 <code>MySQL</code> 中一个线程所在事务是读不到另一个线程事务未提交的数据的</p>
<p>下面结合上述代码给出分析过程：上述注册逻辑都包含在 <code>Spring</code> 提供的自动事务中，整个方法都在事务中。而加锁也在事务中执行。最终导致我们注册 <code>线程 B</code> 在当前事物中查询不到另一个注册 <code>线程 A</code> 所在事物未提交的数据， 举个例子</p>
<p>eg：</p>
<ol>
<li>当用户执行注册操作，重复点击注册按钮时，假设线程 A 和 B 同时执行到 <code>redisLock.lock()</code>时，假设线程 A 获取到锁，线程 B 进入自旋等待，线程 A 执行<code>mapper.findByMobile(body.getAccount(), body.getRegRes())</code>操作，发现用户手机不存在数据库中，进行注册操作（添加用户信息入库等），执行完毕，释放锁。执行后续添加注册日志，上报到数据分析平台操作，注意此时事务还未提交。</li>
</ol>
<ol>
<li>线程 B 终于获取到锁，执行<code>mapper.findByMobile(body.getAccount(), body.getRegRes())</code>操作，在我们一开始的假设中，以为这里会返回用户已存在，但是实际执行结果并不是这样的。原因就是线程 A 的事务还未提交，线程 B 读不到线程 A 未提交事务的数据也就是说查不到用户已注册信息，至此，我们知道了用户重复注册的原因。</li>
</ol>
<h1>三 解决方案：</h1>
<p>给出三种解决方案</p>
<h2>3.1 修改事务范围，将事务的操作代码最小化，保证在加锁结束前完成事务提交，代码如下开启手动事务，这样其他线程在加锁代码块中就能看到最新数据</h2>
<pre><code>@Autowired
private PlatformTransactionManager platformTransactionManager;

@Autowired
private TransactionDefinition transactionDefinition;

private boolean userRegister(LoginReqBody body, BaseReqHeader header, BaseResp&lt;BaseRespHeader, LoginRespBody&gt; resp) {
    RedisLock redisLock = redisCache.getRedisLock(RedisNameEnum.USER_REGISTER_LOCK.get(""), 10);
    boolean lock;
    TransactionStatus transaction = null;
    try {
        lock = redisLock.lock();
        // 使用 redis 分布式锁
        if (lock) {
            // 查询数据库该用户手机号是否插入成功，已存在则退出操作
            MemberDO member = mapper.findByMobile(body.getAccount(), body.getRegRes());
            if (Objects.nonNull(member)) {
                resp.setResultFail(ReturnCodeEnum.USER_EXIST);
                return false;
            }
            // 手动开启事务
            transaction = platformTransactionManager.getTransaction(transactionDefinition);
            // 执行用户注册操作，包含插入用户表、订单表、是否被邀请
            ...
            // 手动提交事务
            platformTransactionManager.commit(transaction);
            ...
        }
    } catch (Exception e) {
        log.error("用户注册失败：", e);
        if (transaction != null) {
            platformTransactionManager.rollback(transaction);
        }
        return false;
    } finally {
        redisLock.unLock();
    }
    // 添加注册日志，上报到数据分析平台...
    return true;
}
</code></pre>
<h2>3.2 在用户注册时针对注册接口添加防重复提交处理</h2>
<p>下面给出一个基于 <code>AOP</code> 切面 + 注解实现的限流逻辑</p>
<pre><code class="language-java">/**
 * 限流枚举
 */
public enum LimitType {
    // 默认
    CUSTOMER,
    //  by ip addr
    IP
}

/**
 * 自定义接口限流
 *
 * @author jacky
 */
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface Limit {
    boolean useAccount() default true;
    String name() default "";
    String key() default "";
    String prefix() default "";
    int period();
    int count();
    LimitType limitType() default LimitType.CUSTOMER;
}

/**
 * 限制器切面
 */
@Slf4j
@Aspect
@Component
public class LimitAspect {

    @Autowired
    private StringRedisTemplate stringRedisTemplate;

    @Pointcut("@annotation(com.dogame.dragon.sparrow.framework.common.annotation.Limit)")
    public void pointcut() {
    }

    @Around("pointcut()")
    public Object around(ProceedingJoinPoint joinPoint) throws Throwable {
        ServletRequestAttributes attrs = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
        HttpServletRequest request = attrs.getRequest();
        MethodSignature signature = (MethodSignature) joinPoint.getSignature();
        Method signatureMethod = signature.getMethod();
        Limit limit = signatureMethod.getAnnotation(Limit.class);
        boolean useAccount = limit.useAccount();
        LimitType limitType = limit.limitType();
        String key = limit.key();
        if (StringUtils.isEmpty(key)) {
            if (limitType == LimitType.IP) {
                key = IpUtils.getIpAddress(request);
            } else {
                key = signatureMethod.getName();
            }
        }
        if (useAccount) {
            LoginMember loginMember = LocalContext.getLoginMember();
            if (loginMember != null) {
                key = key + "_" + loginMember.getAccount();
            }
        }
        String join = StringUtils.join(limit.prefix(), key, "_", request.getRequestURI().replaceAll("/", "_"));
        List&lt;String&gt; strings = Collections.singletonList(join);

        String luaScript = buildLuaScript();
        RedisScript&lt;Long&gt; redisScript = new DefaultRedisScript&lt;&gt;(luaScript, Long.class);
        Long count = stringRedisTemplate.execute(redisScript, strings, limit.count() + "", limit.period() + "");
        if (null != count &amp;&amp; count.intValue() &lt;= limit.count()) {
            log.info("第{}次访问 key 为 {}，描述为 [{}] 的接口", count, strings, limit.name());
            return joinPoint.proceed();
        } else {
            throw new DragonSparrowException("短时间内访问次数受限制");
        }
    }

    /**
     * 限流脚本
     */
    private String buildLuaScript() {
        return "local c" +
                "\nc = redis.call('get',KEYS[1])" +
                "\nif c and tonumber(c) &gt; tonumber(ARGV[1]) then" +
                "\nreturn c;" +
                "\nend" +
                "\nc = redis.call('incr',KEYS[1])" +
                "\nif tonumber(c) == 1 then" +
                "\nredis.call('expire',KEYS[1],ARGV[2])" +
                "\nend" +
                "\nreturn c;";
    }
}
</code></pre>
<h2>3.3 前端针对绑定手机按钮添加防止连点处理</h2>
<h1>四 总结</h1>
<p>线上项目对于 <code>Spring</code> 提供的自动事务注解使用要多加思考，尽可能减少事务影响范围，针对注册等按钮要在前后端添加防重复点击处理</p>
<ul>
<li>博主 github 地址: <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwayn111" rel="nofollow" title="https://github.com/wayn111">github.com/wayn111</a></li>
</ul>

	]]></content>
</entry><entry>
	<title>[全球工单系统] 各位 Gmail 此时收发正常吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901615#reply8" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901615</id>
	<published>2022-12-10T14:52:30Z</published>
	<updated>2022-12-10T15:33:53Z</updated>
	<author>
		<name>ob</name>
		<uri>https://www.v2ex.com/member/ob</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	刚尝试从其他邮箱发送到 Gmail 的邮件，怎么刷新都没有新邮件，然后试着 Gmail 发送给其他邮箱，也是间隔很久才能收到，各位的 Gmail 此时正常吗？方便的话帮忙测试下，感觉影响很大，很多验证码收不了了。
	]]></content>
</entry><entry>
	<title>[生活] 要是阳了，各地需要上报吗？假如不上报，这些数据的流失是不是太可惜了？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901614#reply18" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901614</id>
	<published>2022-12-10T14:37:46Z</published>
	<updated>2022-12-10T16:10:20Z</updated>
	<author>
		<name>piaochen0</name>
		<uri>https://www.v2ex.com/member/piaochen0</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>这两天一直在想，要是阳了，各地需要上报吗？<br/>
昨天吃饭，两个同事为此还争论了起来。<br/>
一个同事家属是医护人员，且在方舱上班，坚持认为现在还是要上报的，而且阳了，当地目前实际执行的政策还是送方舱。<br/>
另外一个同事说他刷 douyin 说现在不需要送方舱了，核酸都不查了，谁知道你阳了？？？<br/>
我看社区对此也没有任何新的通知。     </p>
<p>假如完全不统计，这些感染数据是不是白白流失掉了？<br/>
核算不查，哪怕基于抗原检测的，是不是也要搞个上报的机制呢。<br/>
这些宝贵的数据，对以后医疗资源的建设，还有疫情的发展，当前 ZF 下一步如何应对，是不是有所帮助呢？<br/>
这样的数据来源，基本上百年都可能难得。<br/>
不知道各地具体情况如何，以及各位在海外的朋友，不知道海外其他国家或者地区是怎么做的呢？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 求推荐高颜值的笔记本</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901613#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901613</id>
	<published>2022-12-10T14:34:27Z</published>
	<updated>2022-12-10T16:02:10Z</updated>
	<author>
		<name>aapeli</name>
		<uri>https://www.v2ex.com/member/aapeli</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>求各位 V 友推荐下笔记本，女孩子 美工 /PS 重度用户. 最好笔记本颜值高些。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 个人网站被 Chrome 和 Safari 标记成危险网站了 不知道为什么</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901612#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901612</id>
	<published>2022-12-10T14:30:33Z</published>
	<updated>2022-12-10T15:26:02Z</updated>
	<author>
		<name>alexkuang</name>
		<uri>https://www.v2ex.com/member/alexkuang</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有人有类似经历吗</p>
<p>我的网站基本都放在 cloudflare 后面，除了 nginx proxy manager 放在二级子域名没法用 cf ，其他服务器面板比如 portainer cockpit 什么的都放在 cloudflare access 后面。感觉只有 nginx proxy manager 是弱点。。但我登录上去也没发现什么异常</p>

	]]></content>
</entry><entry>
	<title>[Apple] 闲鱼上 300 多的 AirPods 3 靠谱么？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901611#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901611</id>
	<published>2022-12-10T14:30:20Z</published>
	<updated>2022-12-10T16:13:13Z</updated>
	<author>
		<name>nonozone</name>
		<uri>https://www.v2ex.com/member/nonozone</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>RT
有时候剪视频的时候不想吵到别人，然后又不太喜欢入耳式，想搞个 AirPods 3 试试</p>

	]]></content>
</entry><entry>
	<title>[中州韻] 请问大佬们，为什么鼠须管自定义标点不成功？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901610#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901610</id>
	<published>2022-12-10T14:26:06Z</published>
	<updated>2022-12-10T10:23:06Z</updated>
	<author>
		<name>Ophianth</name>
		<uri>https://www.v2ex.com/member/Ophianth</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>使用的是小鹤双拼方案</p>
<p>这个方案默认的设置是：
单引号 ‘ 会打出直角引号「 和 」
双引号 “ 就是双引号 ”
Shift + 方括号 []  会打出空心的直角引号『』</p>
<p>我希望改成类似 Mac 默认输入法那样，单双引号直接就打出单双引号，用方括号键来输入实心和空心的直角引号</p>
<p>已经把 Rime 目录下的：default.custom.yaml 、double_pinyin_flypy.custom.yaml 、double_pinyin_flypy.schema.yaml 、punctuation.custom.yaml ，还有 Rime/build 目录下的：double_pinyin_flypy.schema.yaml 这几个文件轮流修改过一遍了，当然也重新部署甚至登出登入过了，还是不行</p>
<p>有什么办法能够修改成功吗？</p>

	]]></content>
</entry><entry>
	<title>[OpenAI] ChatGPT 官网的 Demo 回复太慢</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901609#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901609</id>
	<published>2022-12-10T14:18:52Z</published>
	<updated>2022-12-10T14:18:52Z</updated>
	<author>
		<name>pheyer</name>
		<uri>https://www.v2ex.com/member/pheyer</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>搜了一下开源的相关 ChatGPT 项目，不少好像是使用 ChatGPT 官网的 Demo 的非官方 API 实现的，问题是 Demo 回复太慢了，感觉官方故意的，其实界面还不错，能不能将里面的逻辑替换成 ChatGPT api 发请求得到快速回复，前提是先设置自己账号的 API Key</p>
<p>我这边也是想自用，感觉是不是可以做一个油猴脚本把官网 Demo 的逻辑替换成用 API 实现快速回复，再也不用慢慢腾腾地等文字一段一段地出现</p>
<p>或者有没有这样的开源实现，就是一个本地的网页实现了 ChatGPT 官网 Demo 界面，里面可以集成自有账号的 API Key 实现快速回复</p>

	]]></content>
</entry><entry>
	<title>[OpenAI] 之前试过 copilot，还以为 chatGPT 也差不多，没想到远远超过了我的想象</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901607#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901607</id>
	<published>2022-12-10T14:09:20Z</published>
	<updated>2022-12-10T06:09:20Z</updated>
	<author>
		<name>winglight2016</name>
		<uri>https://www.v2ex.com/member/winglight2016</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>先说结论：让程序员失业不至于，但是的确能解决从系统设计到代码实现 70-80%的工作，剩下的只需要把代码调通，集成到系统里。</p>
<p>我试了几个工作上刚好碰到，而且比较麻烦的事情，比如：设计一个 API 网关，实现 http 转 grpc 的路由，基于 go 或者 python ，直接回答了如何设计的思路和实例代码。</p>
<p>但是，如果问题比较宽泛，回答就会很粗略，甚至仅仅是伪代码（不能说完全没价值，只能说有一丁点参考价值），所以，这个问题的构造也是一个技术活。比如：能够实现 XXX 功能的开源库最佳选择。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 为什么有担心机场不安全的问题？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901606#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901606</id>
	<published>2022-12-10T14:06:45Z</published>
	<updated>2022-12-10T15:05:08Z</updated>
	<author>
		<name>mingtdlb</name>
		<uri>https://www.v2ex.com/member/mingtdlb</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>机场把数据全公开分享，让别人去研究？</p>
<p>用户信息很有价值，足以让别人花时间去研究？</p>
<p>机场作为服务端，劫持钓鱼，比如登入 jd ，机场可以劫持东哥的证书？</p>
<p>正常不是都已经有 tls 加密了嘛，数据给他们，不是也只能看到 sni 的信息嘛？</p>
<p>理论上也许有漏洞，可以实现，但会很容易嘛，大家都有这个能力？</p>
<p>还请彦祖们赐教，小弟长长见识。</p>

	]]></content>
</entry><entry>
	<title>[分享发现] 华为一个蛮恶心的操作，浏览器收集用户数据</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901605#reply8" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901605</id>
	<published>2022-12-10T14:05:12Z</published>
	<updated>2022-12-10T14:26:36Z</updated>
	<author>
		<name>thetbw</name>
		<uri>https://www.v2ex.com/member/thetbw</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>刚买的一个 matebook e go ,使用了半天了。使用浏览器搜索的时候，总感觉闪了两下，仔细一个，有个华为的域名，我想这个 edge 浏览器和华为又有什么关系。</p>
<p>打开浏览器设置一看，好家伙，默认的浏览器搜索引擎是华为的地址，然后华为再跳到百度，这不就明白着搜集用户数据吗。</p>
<p><img alt="835daff9c2cbd01a1485b1c11ca7a75.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s2.loli.net/2022/12/10/2N6RolOaFVmgDpW.png"/></p>
<p>跳转的网址是 <a href="https://browser.cloud.huawei.com.cn/pc?mt=0ed79745&amp;mid=4a479942-a0e3-4601-8a53-a7bbb25ee67e&amp;type=search_engine&amp;keyword=%s" rel="nofollow">https://browser.cloud.huawei.com.cn/pc?mt=0ed79745&amp;mid=4a479942-a0e3-4601-8a53-a7bbb25ee67e&amp;type=search_engine&amp;keyword=%s</a></p>
<p>后面的 mt 和 mid 不知道什么鬼，反正我也发出来了，不知道华为的人是不是就能追溯到我的个人信息了🤨。</p>
<p>最后说会这个电脑，我还是满喜欢的，上午到的时候充了一会电，用到现在了，后面再写个长的体验文章吧。买这个主要是为了我远程值班用，还有下班写点文章啥的，之前我就一个笔记本，也没台式机，天天背着太不方便了。</p>

	]]></content>
</entry><entry>
	<title>[职场话题] 公司前段时间搞 996，又开始搞绩效改进计划。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901604#reply5" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901604</id>
	<published>2022-12-10T14:01:51Z</published>
	<updated>2022-12-10T15:18:10Z</updated>
	<author>
		<name>unregister</name>
		<uri>https://www.v2ex.com/member/unregister</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>前几天公司所有员工签的 pip,都不知道是啥，刚刚网上去查了一下绩效改进计划，发现很有可能是裁员的节奏。再次考核的时间是 1 月初左右，也许过年之前就要失业了，虽然我不想在 996 的公司呆了，但被裁员感觉不是很好。这气氛有些不对。</p>

	]]></content>
</entry><entry>
	<title>[职场话题] 团队中我又被安排了新的工种</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901603#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901603</id>
	<published>2022-12-10T14:01:41Z</published>
	<updated>2022-12-10T14:01:41Z</updated>
	<author>
		<name>jiaming1992</name>
		<uri>https://www.v2ex.com/member/jiaming1992</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在目前团队干了快 4 年了，也算比较稳定，从最初的安卓开发到 PC 软件开发，到 Flutter 开发，反正这几年就是在这几端中来来去去，今天 leader 找聊天，说希望来年可以再往 iOS 端拓展一下，iOS 也有点缺人，拒绝是不太可能行，想想我真的快成前端全栈了，不过想想其他同事都是在一个 app 上维护了四五年也挺没意思的，这几年也算是学了点新玩意，不过干的太杂也没了意思，越来越接近程序猿嫌弃年级，前路一团迷雾啊。。</p>

	]]></content>
</entry><entry>
	<title>[前端开发] 有没有靠谱的网页游戏团队，有个前端整体外包</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901601#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901601</id>
	<published>2022-12-10T13:55:45Z</published>
	<updated>2022-12-10T14:57:07Z</updated>
	<author>
		<name>wangzhe998</name>
		<uri>https://www.v2ex.com/member/wangzhe998</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我有完整的后端源代码，后端是 java ，前端丢失，需要重写前端，有目标案例作参考，1 比 1 复刻
任务要求：用 cocos 或者其他技术都行，做网页游戏前端，我后端代码完整。
素材都有，全套。
能来我这边驻场更好，待遇吃喝住都好。网上线上合作也行，来个靠谱的小团队或者个人都行。
真诚寻找，请靠谱的个人或者团队联系我。
扣我 ：585 666 07</p>

	]]></content>
</entry><entry>
	<title>[全球工单系统] 淘宝订单广发信用卡支付未按提示满 20 减 5</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901599#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901599</id>
	<published>2022-12-10T13:34:08Z</published>
	<updated>2022-12-10T11:34:08Z</updated>
	<author>
		<name>feng0vx</name>
		<uri>https://www.v2ex.com/member/feng0vx</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>商品优惠明细里写有广发信用卡实付满 20 减 5 ，支付时没有减</p>

	]]></content>
</entry><entry>
	<title>[Linux] 现在公司的生产系统主要用什么版本的 Linux 比较多？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901598#reply12" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901598</id>
	<published>2022-12-10T13:25:39Z</published>
	<updated>2022-12-10T15:31:44Z</updated>
	<author>
		<name>vinckdu997</name>
		<uri>https://www.v2ex.com/member/vinckdu997</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	centos8 过期了，是不是比较少了？主要是 centos7 了吗？
	]]></content>
</entry><entry>
	<title>[优惠信息] 红米 ax6000 路由器又上了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901597#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901597</id>
	<published>2022-12-10T13:18:13Z</published>
	<updated>2022-12-09T21:16:13Z</updated>
	<author>
		<name>songai</name>
		<uri>https://www.v2ex.com/member/songai</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://imgloc.com/i/fQ8PL" rel="nofollow">https://imgloc.com/i/fQ8PL</a></p>

	]]></content>
</entry><entry>
	<title>[Apple] 升级了 iOS16.2RC 和 HomePod16.2RC，为什么 Home 仍然不能升级</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901596#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901596</id>
	<published>2022-12-10T12:59:22Z</published>
	<updated>2022-12-10T12:59:22Z</updated>
	<author>
		<name>Socrazy</name>
		<uri>https://www.v2ex.com/member/Socrazy</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	看到提示有个可用家庭升级，但升级的时候仍提示需要升级 HomePod
	]]></content>
</entry><entry>
	<title>[电动汽车] 潮州特斯拉肯定是 bug</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901595#reply33" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901595</id>
	<published>2022-12-10T12:48:33Z</published>
	<updated>2022-12-10T16:02:40Z</updated>
	<author>
		<name>ysc85</name>
		<uri>https://www.v2ex.com/member/ysc85</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	时速 192 失控 2.6 公里。算了一下要 8 分钟走完这 2.6 公里。作为一个常开车的人，我是不相信这 8 分钟还分不清楚哪个是油门，哪个是刹车。而且操控方向盘走 2.6 公里说明头脑清醒的。
	]]></content>
</entry><entry>
	<title>[问与答] 38 度了, 是不是中招了?</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901594#reply17" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901594</id>
	<published>2022-12-10T12:40:30Z</published>
	<updated>2022-12-10T15:47:54Z</updated>
	<author>
		<name>asanelder</name>
		<uri>https://www.v2ex.com/member/asanelder</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	今天开始的, 症状俺感觉和感冒发烧差不多, 手里只有莲花清温. 目前还不确定是不是.<br />怎么办? 有没有铁子告诉俺, 下一步做什么?<br /><br />俺今晚准备好好睡一觉, 明天看情况
	]]></content>
</entry><entry>
	<title>[全球工单系统] 有宝塔面板的官方人员么？？你们的 demo 被黑了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901593#reply4" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901593</id>
	<published>2022-12-10T12:40:14Z</published>
	<updated>2022-12-10T14:02:13Z</updated>
	<author>
		<name>yanwen</name>
		<uri>https://www.v2ex.com/member/yanwen</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>之前就看论坛说宝塔面板被黑。。然而官方一直不承认。
直到今天看到官方 demo 被黑了。。然后宝塔回复说：demo 没做防护，黑个 demo 很简单，已经把 demo 关闭。
啊这……</p>
<p>宝塔 demo 被黑网友截图
<a href="https://www.52yahuan.com/fuck-bt-2.html" rel="nofollow">https://www.52yahuan.com/fuck-bt-2.html</a></p>
<p>顺带问问大家用的是啥面板？？求个分享。</p>

	]]></content>
</entry><entry>
	<title>[Apple] 求助: 转运四方 海淘 美国亚马逊的苹果 macbook air m1，快递已签收却未入库，工单无回应</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901592#reply11" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901592</id>
	<published>2022-12-10T12:35:18Z</published>
	<updated>2022-12-10T15:37:22Z</updated>
	<author>
		<name>squalia</name>
		<uri>https://www.v2ex.com/member/squalia</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>感恩节在美国亚马逊买的 macbook air m1 ，寄到转运四方美国俄勒冈仓库。
美国国内的 ups 显示 12 月 6 日已签收， 转运四方仓库却至今显示未入库，8 号开了转运四方的工单，至今没有回复。 也找不到任何其他的人工客服。</p>
<p>转运四方这是跑路了吗？ 我还有办法找回我的 macbook 吗？
谁遇到过这种情况吗？ 求助！谢谢</p>

	]]></content>
</entry><entry>
	<title>[分享发现] 应戴尽戴！浙江一地发布“全民戴口罩”通知</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901590#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901590</id>
	<published>2022-12-10T12:24:57Z</published>
	<updated>2022-12-09T20:24:57Z</updated>
	<author>
		<name>bclerdx</name>
		<uri>https://www.v2ex.com/member/bclerdx</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<a target="_blank" href="https://zx.sina.cn/n/2022-12-10/zx-imxweuhm5159414.d.html?sxsj=27&amp;HTTPS=1&amp;wm=3049_0128&amp;gz_n=news_man_6_20221210" rel="nofollow noopener">https://zx.sina.cn/n/2022-12-10/zx-imxweuhm5159414.d.html?sxsj=27&amp;HTTPS=1&amp;wm=3049_0128&amp;gz_n=news_man_6_20221210</a>
	]]></content>
</entry><entry>
	<title>[问与答] Python 的线程，没有调用 start 为什么也执行了？ 请教下</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901589#reply3" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901589</id>
	<published>2022-12-10T12:15:01Z</published>
	<updated>2022-12-10T12:19:34Z</updated>
	<author>
		<name>xiaoyanbot</name>
		<uri>https://www.v2ex.com/member/xiaoyanbot</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如下代码， 无论有没有 main ，使用 threading.Thread 没有 start ， 为什么运行都执行了。</p>
<p>Python 3.8+ ，  Win 和 Mac 表现都是在这个样子，请教下怎么回事，谢谢</p>
<p>代码片段一 [有 main 的] ：</p>
<pre><code>import time
import threading


def print_one():
    while True:
        print(time.time())
        time.sleep(2)


if __name__ == '__main__':
    t1 = threading.Thread(target=print_one())
    # t1.start()
    print(threading.enumerate())
    
</code></pre>
<p>代码片段二   [没有 main 的] </p>
<pre><code>import time
import threading


def print_one():
    while True:
        print(time.time())
        time.sleep(2)


t1 = threading.Thread(target=print_one())
# t1.start()
print(threading.enumerate())

</code></pre>

	]]></content>
</entry><entry>
	<title>[分享创造] 🤖 用 Pake 打包了个不要登录的 ChatGPT</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901588#reply10" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901588</id>
	<published>2022-12-10T12:08:36Z</published>
	<updated>2022-12-10T14:56:29Z</updated>
	<author>
		<name>tw93</name>
		<uri>https://www.v2ex.com/member/tw93</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>最近 OpenAi 的 ChatGPT 火得一塌糊涂，由于注册需要国外梯子加国外手机号，应该只有部分的人成功了。
周末用 Pake 打包了一个代理无需登录的桌面 APP ，不到 3M ，支持 Mac/Windows/Linux 系统，稍微定制了下 UI 更美观些。可以去下面 Pake 的 Github 找到 ChatGPT 下载即可。</p>
<h4><a href="https://github.com/tw93/Pake" rel="nofollow">https://github.com/tw93/Pake</a></h4>
<h2>一些效果</h2>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://cdn.fliggy.com/upic/DAvWM0.png"/>
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://cdn.fliggy.com/upic/mpK0Fo.png"/>
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://cdn.fliggy.com/upic/x6iIh2.png"/>
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://cdn.fliggy.com/upic/BLjn4a.png"/></p>
<h2>Pake 区别</h2>
<p>Pake 比较特别的是，相比传统的 Electron 套壳打包，大小要小将近 40 倍，一般 2M 左右，此外由于底层使用的，Rust Tauri 框架，性能体验较 JS 框架要轻快不少，内存小很多；此外实现了通用快捷键的透传、容器通信、样式改写注入、沉浸式的窗口、拖动、简化使用流程优化等功能，有一点点可玩性，你可以自己打包喜欢的。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 电脑连接不同路由器出现奇怪的网卡消失现象，求分析。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901586#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901586</id>
	<published>2022-12-10T12:03:38Z</published>
	<updated>2022-12-10T12:03:38Z</updated>
	<author>
		<name>2232588429</name>
		<uri>https://www.v2ex.com/member/2232588429</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>笔记本电脑，win11 系统。家里两台路由器，分别是热点 A 和热点 B 。</p>
<p>设置自动连接热点 A ，让电脑进入休眠状态，再开机，这时候右下角有信号，但用不多时就变成圆球，打开一看，无线网络这个选项不见了，只剩蓝牙了，再等了一会，才重新出现并自动连接到热点 A 。</p>
<p>设置成自动连接热点 B （另一台路由）则没这个现象。</p>
<p>是否是路由端无线设置问题？什么样的无线设置会导致网卡短暂消失？</p>
<p>求分析，多谢！</p>

	]]></content>
</entry><entry>
	<title>[问与答] 一刀切这种形式会有一天结束吗？清零一刀切，放开一刀切，课外补课一刀切，计划生育一刀切</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901584#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901584</id>
	<published>2022-12-10T11:48:05Z</published>
	<updated>2022-12-09T19:16:49Z</updated>
	<author>
		<name>Ediacaran</name>
		<uri>https://www.v2ex.com/member/Ediacaran</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[游戏] 有没有适合过年和家人一起玩的游戏？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901583#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901583</id>
	<published>2022-12-10T11:47:07Z</published>
	<updated>2022-12-10T03:47:07Z</updated>
	<author>
		<name>sun1993</name>
		<uri>https://www.v2ex.com/member/sun1993</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，最好在 steam 上可以买到，益智类 /冒险类为佳，画风要够有诚意，机制不要太难（游戏本身可以有难度，但机制要简单，举个例子，某些塔防游戏，如 kr 的难度并不低，但机制就是建塔防御敌人进攻，机制很简单，对于没怎么玩过游戏的人来说，简单的游戏机制似乎更重要），欢迎推荐，感恩~</p>

	]]></content>
</entry><entry>
	<title>[上海] 想收一辆高尔夫 6 1.4T/1.6L 手动</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901582#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901582</id>
	<published>2022-12-10T11:41:38Z</published>
	<updated>2022-12-10T11:40:38Z</updated>
	<author>
		<name>SgtPepper</name>
		<uri>https://www.v2ex.com/member/SgtPepper</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	迫于上下班时间，收一辆高尔夫 6 1.4T/1.6L 手动<br />希望是 10 万公里以下、无重大事故水泡（剐蹭可以接受）、白色、3.5 ~4 万左右吧。<br />有出的吗，有意的可以联系我 THX~
	]]></content>
</entry><entry>
	<title>[问与答] TG 虚拟号值得买吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901581#reply43" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901581</id>
	<published>2022-12-10T11:28:34Z</published>
	<updated>2022-12-10T16:03:20Z</updated>
	<author>
		<name>yuimoa</name>
		<uri>https://www.v2ex.com/member/yuimoa</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>TG 官方的虚拟号出来也有段时间了，这个月<strong>13 号中午 12 点</strong>就开始涨价，涨到<strong>99Ton</strong>便停止售卖，不知道各位大佬是已经入手了还是仍在观望中<img alt="quicker_f35d7520-0559-4660-bc13-e22d0d30bb3b.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://vip2.loli.io/2022/12/10/LdWQUsDOqVn9kyH.png"/></p>
<p>不知道囤几个售价 9Ton 的随机号有没有升值空间<img alt="quicker_a6f1b775-2542-4528-8c96-e6f0d46a071c.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://vip2.loli.io/2022/12/10/VktgOULansZzfWp.png"/></p>

	]]></content>
</entry><entry>
	<title>[Linux] 如何在 Bash 中将把输出直接写入/dev/tty 的应用的输出导出/重定向到其他地方</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901580#reply5" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901580</id>
	<published>2022-12-10T11:27:33Z</published>
	<updated>2022-12-10T15:26:52Z</updated>
	<author>
		<name>varius</name>
		<uri>https://www.v2ex.com/member/varius</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	RT 。<br />最近发现有些程序的输出不是输出只 stdout ，而是直接输出到 /dev/tty 中。所以无论是 TEE 还是重定向都无法将其输出内容导出到其他地方。<br />向各位大佬请教一下，这种情况中如何处理才能将此应用的输出转移到别的地方。
	]]></content>
</entry><entry>
	<title>[程序员] 怎么检测远程图片（大量）存不存在？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901578#reply8" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901578</id>
	<published>2022-12-10T10:55:32Z</published>
	<updated>2022-12-10T15:34:26Z</updated>
	<author>
		<name>tellmeworld</name>
		<uri>https://www.v2ex.com/member/tellmeworld</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>网站里面大量引用了微博的图片，但是有些图片不断失效，导致图片无法显示；</p>
<p>用 curl （ PHP ）抓取远程内容或者响应代码，抓不到；</p>
<p>想全部下载到本地，然后比对数据库和没有下载成功的图片，然后删掉，于是用了：</p>
<p>用浏览器图片下载插件，下载个一两万个之后全部错误；</p>
<p>甚至用迅雷批量下载也是，下载个几千个之后卡死。</p>
<p>还有啥办法？</p>

	]]></content>
</entry><entry>
	<title>[YouTube] 油管取消阿根廷自动续费，想换印度和土耳其都失败</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901576#reply9" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901576</id>
	<published>2022-12-10T10:30:14Z</published>
	<updated>2022-12-10T12:37:53Z</updated>
	<author>
		<name>estk</name>
		<uri>https://www.v2ex.com/member/estk</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	现在想再以阿根廷的方式继续续费也失败了<br />都上不了车了？<br />还是说要换个新账号上车才行？
	]]></content>
</entry><entry>
	<title>[iCloud] 国区 iCloud2T+Apple Music 家庭车</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901575#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901575</id>
	<published>2022-12-10T10:28:06Z</published>
	<updated>2022-12-10T10:27:06Z</updated>
	<author>
		<name>SEVLT</name>
		<uri>https://www.v2ex.com/member/SEVLT</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	12.18 开始新的周期，提前招车友，长期稳定车，季付 45<br />base64:dGhlU2V2bHQ=（备注 v2ex
	]]></content>
</entry><entry>
	<title>[MacBook Pro] MBP 的屏幕是不是没救了？怎么都擦不干净</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901572#reply16" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901572</id>
	<published>2022-12-10T10:17:59Z</published>
	<updated>2022-12-10T15:45:19Z</updated>
	<author>
		<name>lisonfan</name>
		<uri>https://www.v2ex.com/member/lisonfan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>用了 WHOOSH! 和蔡司手机清洁湿巾，都擦不干净</p>
<p>各位有啥解决方案吗？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 小米手机的账号与同步到底是同步了什么</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901569#reply3" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901569</id>
	<published>2022-12-10T10:12:03Z</published>
	<updated>2022-12-10T12:28:42Z</updated>
	<author>
		<name>Uzuki</name>
		<uri>https://www.v2ex.com/member/Uzuki</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>请问小米的账号与同步到底同步了哪些内容</p>
<p>偶然打开手机发现手机一直是开启了“自动同步个人账户手机”</p>
<p>里面的账户包括但不限于海外的软件 Google telegram Twitter Facebook 和国内的软件抖音 微博......</p>

	]]></content>
</entry><entry>
	<title>[硬件] DIY 的香橙派 5 外壳</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901568#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901568</id>
	<published>2022-12-10T10:09:07Z</published>
	<updated>2022-12-10T10:11:16Z</updated>
	<author>
		<name>vicalloy</name>
		<uri>https://www.v2ex.com/member/vicalloy</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>首批预定的香橙派 5 。用尼龙立柱和硬纸板做了个简单的外壳。</p>
<p>香橙派 5 应当是现在能买到的最便宜的 rk3588s 设备了。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://tva1.sinaimg.cn/large/68065ff3gy1h8yvgft9woj20hs0dcjsb.jpg"/>
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://tva1.sinaimg.cn/large/68065ff3gy1h8yvh3wq6qj20hs0dc758.jpg"/></p>

	]]></content>
</entry>
</feed>