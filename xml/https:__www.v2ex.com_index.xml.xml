<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title>V2EX</title>
<subtitle>way to explore</subtitle>


<link rel="alternate" type="text/html" href="https://www.v2ex.com/" />
<link rel="self" type="application/atom+xml" href="https://www.v2ex.com/index.xml" />
<id>https://www.v2ex.com/</id>

<updated>2022-04-16T16:18:38Z</updated>

<rights>Copyright © 2010-2018, V2EX</rights>
<entry>
	<title>[问与答] 8100 的 U 怎么样呢</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847416#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847416</id>
	<published>2022-04-16T16:21:38Z</published>
	<updated>2022-04-16T16:18:38Z</updated>
	<author>
		<name>addou</name>
		<uri>https://www.v2ex.com/member/addou</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>近期一些手机厂商上市了一些采用联发科 8100 和 9000 的 U ，目前看上了两款手机，一个是采用高通 870 的，一个是联发科 8100 的，犹豫抉择中。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 为什么房顶上会掉鱼</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847415#reply2" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847415</id>
	<published>2022-04-16T16:09:23Z</published>
	<updated>2022-04-16T16:14:55Z</updated>
	<author>
		<name>salor</name>
		<uri>https://www.v2ex.com/member/salor</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	小时住南方农村瓦房，那天下大雨，盯着屋檐下接雨水的桶发呆。然后从房顶掉下了一条 5 公分左右大小的鲫鱼，捡起来看了看鳞片完好也没有出血。<br /><br />想过很多可能的原因，台风吹不到可以排除。鸟捕食掉落的可能性最大，但鱼身上没有一点伤痕，那么大的雨鸟也飞不起来。别人扔到我家房顶也太可能，路离房子有一些距离，扔的话鱼会有伤。<br /><br />疑惑至今。
	]]></content>
</entry><entry>
	<title>[宽带症候群] 深圳电信链路聚合突破千兆</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847414#reply4" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847414</id>
	<published>2022-04-16T15:43:35Z</published>
	<updated>2022-04-16T16:20:52Z</updated>
	<author>
		<name>acerest</name>
		<uri>https://www.v2ex.com/member/acerest</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>深圳电信链路聚合突破千兆，没搞定。。</p>
<p>背景：
没有需求创造需求，本来原有设备完全满足，一路折腾到现在。
全网第一个了吧？组了一个 12 代的 All in Boom
i3-12100F+MSI B660M+传家宝 RX580+白马甲 16*2+SN7301T+HDD 若干+i350T2+i350T4 本来几百块工控机解决的事情，被我干到 5k+</p>
<p>使用：
ESXi+iKuai+Clash&amp;SmartDNS based Ubuntu+HAos+黑裙  功能都实现得七七八八</p>
<p>问题：
办了深圳电信小区 1000M 套餐，师傅换了一个 SCTY 的 10G 光猫，光猫桥接，双线直通 iKuai 拨号 链路聚合突破千兆失败。怎么搞都不行。还是只有 950Mb/s ，也不知道问题出在哪里。。。看到 OpenWRT 走网卡 bonding 解决问题的，但是我想用 iKuai ，请问有搞定的小伙伴吗？谢谢。</p>

	]]></content>
</entry><entry>
	<title>[分享发现] 有生之年系列了！用了好久的 Listary6.0beta 版刚刚更新了。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847412#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847412</id>
	<published>2022-04-16T15:36:07Z</published>
	<updated>2022-04-16T15:45:33Z</updated>
	<author>
		<name>lynnyl6969</name>
		<uri>https://www.v2ex.com/member/lynnyl6969</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://tuchuang-1257888816.cos.ap-nanjing.myqcloud.com/202204162335913.png"/></p>
<p>我还以为作者彻底放弃了呢。。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 除了支付宝 微信还有哪些国际主流 app 有小程序这个概念呢？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847410#reply3" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847410</id>
	<published>2022-04-16T15:20:52Z</published>
	<updated>2022-04-16T15:26:03Z</updated>
	<author>
		<name>Davids</name>
		<uri>https://www.v2ex.com/member/Davids</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	最近写了个天气预报的微信小程序，想写在英文简历里。担心其它地方的人不知道什么支付宝 微信，想问下还有什么国际主流 app 也有小程序或者类似的概念呢？
	]]></content>
</entry><entry>
	<title>[Apple] Xcode lldb po 时候如果输入法中文直接卡死</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847409#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847409</id>
	<published>2022-04-16T15:15:54Z</published>
	<updated>2022-04-16T11:14:54Z</updated>
	<author>
		<name>Bananana</name>
		<uri>https://www.v2ex.com/member/Bananana</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	Xcode13.x 都这样，打断点时候在 console 里 po ，如果此时输入法是系统中文输入法（不确定三方输入法有没有这个问题），Xcode 直接转菊花卡死。
	]]></content>
</entry><entry>
	<title>[macOS] macOS 下如何设置 Python 脚本为 magnet link 的打开方式？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847407#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847407</id>
	<published>2022-04-16T15:15:11Z</published>
	<updated>2022-04-16T16:05:00Z</updated>
	<author>
		<name>Diphia</name>
		<uri>https://www.v2ex.com/member/Diphia</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在浏览器中点击一个 magnet link 时，会使用一个设置的默认程序去打开，比如如果本地装了 qbittorrent ，会直接传给 qbittorrent 去处理。</p>
<p>我现在写了一个 Python 脚本 <a href="http://magnet-handler.py" rel="nofollow">magnet-handler.py</a> ，传入参数是一个 magnet link ，然后会 POST 给一台服务器上的 qbittorrent 的 API ，进行下载。</p>
<p>但是我要如何在 macOS 中设置这个 Python 脚本为默认启动程序呢？直接指定是不行的，是一定要通过一层 Apple Script 之类的吗？甚至是变成一个 .app ？</p>

	]]></content>
</entry><entry>
	<title>[信息安全] 有可能禁用 iOS 每 3 天左右强制要求输入一次密码的功能吗？ （！请！先！看！完！帖！子！内！容！再！回！复！）</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847406#reply8" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847406</id>
	<published>2022-04-16T15:05:20Z</published>
	<updated>2022-04-16T16:01:29Z</updated>
	<author>
		<name>theklf4</name>
		<uri>https://www.v2ex.com/member/theklf4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>虽然我能理解这是为了防止用户忘记密码，我手上的三星 OneUI 也有这个设计，但这真的非常不安全，经常在公共场合因为这个功能必须输入 PIN 才能解锁。</p>
<h1>我知道 PIN 只在此设备上有效，其它人必须要接触设备才能使用 PIN 获得控制权限。</h1>
<p>但输入 PIN 的 10 数字键盘（我知道可以用数字字母的）真的很容易被偷窥（或被公共场合的[低清]摄像头有意或无意拍到），6~12 位 PIN 非常容易被人记住。而且能够看到 PIN 的人基本上都是身边的人，因此这是一个很严重的安全隐患，因为一旦你的设备不在身上，他们（通常是同事 / 同学 / 家人）就能通过你的 PIN 解锁你的设备。<strong>我相信大部分人应该不希望别人乱翻你的聊天记录或账号密码吧，即使是家人。</strong></p>
<p>除此之外，iOS 上的密码管理器在 Face ID(或 Touch ID)无法通过的情况下只能通过主密码或管理器的 PIN 解锁，不能通过系统 PIN （即锁屏密码）解锁，但 Windows 上的可以（我测试了 Bitwarden 和 1Password ，他们在开启生物识别解锁的情况下调的都是凭据管理器的 Windows Hello ，无法区分 PIN 和生物识别（物理 Key 貌似可以））。虽然 Windows 没有 x 天必须输入一次锁屏密码的设计，但我相信相当大部分用户（尤其是 PIN 中不含易于获取的个人资料或纯随机 PIN 的）所有个人设备使用的都是系统的 PIN 。而大部分 Windows 设备显然无法随身携带，能够被别有用心的人轻易解锁并导出保存密码，甚至直接安装远控马，而桌面系统排查起来显然非常复杂。</p>
<p>再说说我认为的好设计。聊天软件 Signal 每隔一段时间会提示你确认 PIN ，你可以自己选择任意时间和场合来确认。我觉得 iOS 也可以这样做，或者至少提供一个选项让希望这样做的，对隐私有一定追求的用户这样做。但我没有注意到一个手机厂商提供这个功能。</p>
<hr/>
<p>因为我发现 90% V 友都不读帖子内容就回复，没想到更好的方法，只能在标题加一堆<code>！</code>并在帖子内容滥用一级标题。我在任何帖子下都不需要和我帖子完全无关的回复，我认为这也和 V 站所宣扬的发表高信息量内容理念不符，看不惯的欢迎 Block<strong>（不需要在回复中告诉我，谢谢！）</strong></p>

	]]></content>
</entry><entry>
	<title>[Apple] Airpods Pro 的占用， Mac 抢不过 iPhone</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847405#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847405</id>
	<published>2022-04-16T15:02:02Z</published>
	<updated>2022-04-16T15:00:02Z</updated>
	<author>
		<name>YoungKing6</name>
		<uri>https://www.v2ex.com/member/YoungKing6</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[问与答] 家用机柜如何选择</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847404#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847404</id>
	<published>2022-04-16T14:47:23Z</published>
	<updated>2022-04-16T14:44:23Z</updated>
	<author>
		<name>muhahaha</name>
		<uri>https://www.v2ex.com/member/muhahaha</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	目前有两个 NAS 、一个 2U 机箱的服务器、两个 ATX 主板主机、一个软路由，想把这些东西放在机柜里，请问大家有推荐的尺寸吗？或者品牌？谢谢各位！
	]]></content>
</entry><entry>
	<title>[互联网] k8s 官网竟然有备案，他不是谷歌的东西吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847403#reply3" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847403</id>
	<published>2022-04-16T14:46:09Z</published>
	<updated>2022-04-16T15:00:43Z</updated>
	<author>
		<name>richangfan</name>
		<uri>https://www.v2ex.com/member/richangfan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>备案号是 ICP license: 京 ICP 备 17074266 号-3</p>

	]]></content>
</entry><entry>
	<title>[Python] Django 部署上线——踩坑 3 天</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847401#reply10" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847401</id>
	<published>2022-04-16T14:33:33Z</published>
	<updated>2022-04-16T15:36:22Z</updated>
	<author>
		<name>maloneleo88</name>
		<uri>https://www.v2ex.com/member/maloneleo88</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	第一步，服务器上安装和配置数据库<br />第二步，上传项目到服务器<br />第三步，用 uWSGI 替代 runserver 启动服务器<br />第四步，配置 Nginx 反向代理服务器<br /><br />安装 MySQL8	<br />sudo apt-get update<br />sudo apt-get install mysql-server<br />开机启动<br />systemctl status mysql<br />查看随机密码<br />sudo cat /etc/mysql/debian.cnf<br />登录<br />mysql -u root -p<br />设置密码<br />ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '你的密码'; <br />启动<br />sudo service mysql start<br />创建数据库<br />create database '你的数据库名' DEFAULT CHARSET utf8 COLLATE utf8_general_ci;<br /><br />mysqlclient 装不上的话安装依赖<br />sudo apt-get install libmysqlclient-dev<br />输出开发环境需要的依赖库<br />pip3 freeze &gt; requirement.txt<br />上传到服务器,使用如下命令安装依赖包<br />pip3 install -r requirement.txt<br /><br />（ win 的话用 WinSCP 上传，PuTTY 连接 Shell ）<br /><br /><br />安装 uwsgi<br />sudo pip3 install uwsgi<br />配置 uWSGI.ini 启动文件<br />[uwsgi]<br />http=0.0.0.0:8000          #他妈的用 127 就是启不起来，也没有报错，怎么也找不到原因，最后改成四个零可以了<br />socket=127.0.0.1:8001      #后面配 NGINX 时候再改用 socket<br />chdir=/home/ubuntu/zrhd_bj #直接 pwd 看绝对路径，指向项目根目录<br />wsgi-file=zrhd_bj/<a target="_blank" href="http://wsgi.py" rel="nofollow noopener">wsgi.py</a>  #指向同名目录下 django 生成的 wsgi 文件<br />process=2<br />threads=2<br />pidfile=uwsgi.pid<br />daemonize=uwsgi.log<br />master=ture<br />static-map = /static=/home/ubuntu/zrhd_bj/static #管理后台静态文件丢了的最终解决办法，网上全是 coppy 的垃圾<br />buffer-size = 32768 #提交表单就报 502 ，给个参数才好<br />settings 要从开发环境改生产环境<br />DEBUG='Fales'<br /><br /><br /><br />安装 nginx<br />sudo apt-get nginx<br />nginx 配置要去 /etc/nginx/sites-enabled 安装目录 vim 修改，因为权限问题<br />	location / {<br />		# First attempt to serve request as file, then<br />		# as directory, then fall back to displaying a 404.<br />		#try_files $uri $uri/ =404;<br />		uwsgi_pass 127.0.0.1:8001;<br />		include /etc/nginx/uwsgi_params;<br />	}<br />上传文件继续 403 ，找个地方加上附件大小限制，默认好像就 1MB or 2MB ，静态文件夹 nginx 没设置没发现问题<br />	client_max_body_size 20m;<br /><br /><br /><br /><br />#------------------------------------------------------------------------------------------<br /><br />创建虚拟环境（在项目目录下运行）<br />	python -m venv tutorial-env<br />激活虚拟环境<br />	activate<br />	source activate<br />关闭虚拟环境<br />	deactivate<br />	<br />pip 更新 linux 用 python3 命令<br />	python -m pip install --upgrade pip<br />pip 安装软件<br />	pip install django==2.2.7 -i <a target="_blank" href="https://pypi.tuna.tsinghua.edu.cn/simple" rel="nofollow noopener">https://pypi.tuna.tsinghua.edu.cn/simple</a><br /><br />新建 django 项目<br />	django-admin startproject<br /><br /><br />超级用户<br />	<a target="_blank" href="http://manage.py" rel="nofollow noopener">manage.py</a> createsuperuser<br /><br />数据迁移<br />	<a target="_blank" href="http://manage.py" rel="nofollow noopener">manage.py</a> makemigrations<br />	<a target="_blank" href="http://manage.py" rel="nofollow noopener">manage.py</a> migrate <br /><br /><br /><br /><br /><br />启动、停止、看状态<br />uwsgi --ini uwsgi.ini<br />uwsgi --stop uwsgi.pid<br />ps aux|grep 'uWSGI'<br /><br />杀端口<br />sudo kill -9 '+pid'<br />看端口<br />sudo lsof -i:8001<br /><br />nginx 开始 停止 重启 <br />sudo /etc/init.d/nginx start|stop|restart|status<br /><br /><br /><br />ubuntu 环境变量有些没指定，不是这个运行不了就是那个运行不了，看着加。  修改 etc/profile 追加<br />set PATH so it includes user's private ~/.local/bin if it exists 中文搜不到方法？？？<br />if [ -d "$HOME/.local/bin" ] ; then<br />    PATH="$HOME/.local/bin:$PATH"<br />fi<br /><br />ubuntu 装 python3 和依赖<br />sudo apt-get install python3-dev<br />sudo apt-get install python3-pip <br /><br /><br /><br />破 b 玩意，浪费时间学，专业的事交给专业的做，php 是最好的语言！（一键部署）<br />学 python 之前有人告诉我这个，我打死也不学！ 太费时间了，部署 php 的话 20 个都早早完事了！成熟稳定才是硬道理，总有人说这个好，那个好，简直是扯屁！
	]]></content>
</entry><entry>
	<title>[程序员] centos rc.local 启动卡住求教</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847400#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847400</id>
	<published>2022-04-16T14:32:47Z</published>
	<updated>2022-04-15T22:32:47Z</updated>
	<author>
		<name>mikeluckybiy</name>
		<uri>https://www.v2ex.com/member/mikeluckybiy</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>rc.local 多个启动项，其中几个启动项启动后不会闭环，会在控制台输出程序运行日志，导致 rc.local 在这个启动项后的其它启动项无法正常启动，有什么办法么？</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 我这种情况有必要弄一个软路由吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847399#reply13" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847399</id>
	<published>2022-04-16T14:30:35Z</published>
	<updated>2022-04-16T16:13:02Z</updated>
	<author>
		<name>shengu</name>
		<uri>https://www.v2ex.com/member/shengu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>现在情况是主路由 ac68u 刷的梅林，挂了科学上网(白名单模式)，wifi 关掉了，下面接了一个小米 ax6000 ，用 ax6000 的 wifi 。现在遇到两个问题，梅林的科学上网极为不稳定，1 ，2 天一个线路就突然断掉不能用了，但是梯子的 pc 端客户端的同线路却是正常的。然后就是延迟不稳定，玩手机游戏延迟明显变高。如果只用 ax6000 （无科学）是没这问题的。所以目前感觉这个 ac68u 完全是拖累。不知道买一个软路由能解决这些问题吗？顺便求推荐，预算 1000 左右。谢谢</p>

	]]></content>
</entry><entry>
	<title>[程序员] 那些能坚持写 rust 的都是大神吧，能指教一下怎么坚持下来的吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847398#reply11" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847398</id>
	<published>2022-04-16T14:26:38Z</published>
	<updated>2022-04-16T15:44:29Z</updated>
	<author>
		<name>lsk569937453</name>
		<uri>https://www.v2ex.com/member/lsk569937453</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>写其他的语言都挺有成就感的(java/golang/typescript)，写完一个方法编译跑一下，基本没啥错误。就写 rust 真的难受，被编译器教做人，写一个方法磕磕绊绊，绝大多数时候就不能完整写完一个方法没错误的。
1.生命周期不说了，反正基本不可能流畅的写完，编译的时候编译器告诉你这里不对，你得用&amp;/mut/&amp; mut.
2.上面的是方法中的提示。数据结构就更操蛋了，泛型+static+生命周期+引用。导致我自己写出来的代码我都不理解什么意思。。。。
3.这已经是我第四次学 rust 了，从来没有感觉一种语言有这么难。。。真的是满满的挫败感。</p>
<p>有没有主力开发语言是 rust 的老哥，讲讲学 rust 的经验。</p>

	]]></content>
</entry><entry>
	<title>[电影] 阿里云盘挂载 Plex 相关问题探讨</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847397#reply2" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847397</id>
	<published>2022-04-16T14:14:17Z</published>
	<updated>2022-04-16T14:48:55Z</updated>
	<author>
		<name>zshstc</name>
		<uri>https://www.v2ex.com/member/zshstc</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>自从知道了阿里云 webdav 的玩法，一直想办法试图直接把它挂载到 NAS 上然后在 Plex 中管理。</p>
<pre><code>1. 使用第三方群晖插件’CloudDrive‘裙下孤魂版直接挂载阿里云盘 
	a. 添加新电影不能及时刷新，要手动进去插件里刷新，再去 Plex 里点刷新媒体库。
	b. 能够被识别的文件数量有限，估计是 CloudDrive 的限制。具体表现为：阿里云盘里的电影数量到达一定数量后（目前无法确定是多少），新放入的电影无论如何都无法被 Plex 识别到，试过重启也没用，而在 NAS 中是可以看到这个文件的。在删除阿里云盘中的一些电影后，新加入的电影又回被识别到。还有就是过一阵子会有一部分电影在 Plex 中不见，另一部分又会被发现，诸如此类灵异事件。
	c. 以此方法挂载的文件夹为只读，无法写入，因此无法在 Plex 中进行删除之类的操作。
    
2. 使用 Aliyun Webdav 挂载阿里云盘为 Webdav ，再用 Rclone 把这个 WebDav 挂载为本地文件夹。
	a. 挂载比较麻烦，需要使用命令行，目前的做法是把命令保存着了 sh 格式的文件，然后设置了开机自动运行的计划任务。但是常遇到的情况是开机后 Aliyun WebDav 没有及时运行，而 Rclone 命令先运行，导致找不到对应的 WebDav 路径而失败，只能再去手动运行。
	b. 无法自动刷新，新加入的电影无法被识别，只有取消挂载，再重新挂载才可以看到新的电影，而这个动作只能在 root 权限中进行，导致无法很方便地操作，每次都要重复。
    
    
</code></pre>
<p>求助技术大神们指点迷津！</p>

	]]></content>
</entry><entry>
	<title>[macOS] 微信 x 键盘 text replacement</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847396#reply11" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847396</id>
	<published>2022-04-16T14:12:04Z</published>
	<updated>2022-04-16T15:09:07Z</updated>
	<author>
		<name>VpChris</name>
		<uri>https://www.v2ex.com/member/VpChris</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>想确认一下是不是只有我这个个例..就是微信不能使用在键盘内设置的 text replacement</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/wsSXmRU.png"/></p>
<p>当然, 在别的 app 是能用的. e.g. safari</p>
<p>这个问题好像不是最近出现了的...就是现在才想起来跟大家确认一下这个事情哈 </p>
<p>anyway...微信版本: 3.4.0 MacOS 12.2.1</p>
<p>感谢!</p>

	]]></content>
</entry><entry>
	<title>[信息安全] 在 iOS 上使用第三方浏览器会不会更安全？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847395#reply9" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847395</id>
	<published>2022-04-16T14:01:36Z</published>
	<updated>2022-04-16T14:57:47Z</updated>
	<author>
		<name>theklf4</name>
		<uri>https://www.v2ex.com/member/theklf4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	Safari 提供了安装描述文件、添加到主屏幕等一系列第三方浏览器没有的能力，虽然这些功能都需要用户主动触发或同意，但是不是意味着被发现无感绕过 /无感提权执行恶意代码的概率要比第三方浏览器高得多？
	]]></content>
</entry><entry>
	<title>[程序员] 求推荐符合需求的时间追踪和统计软件</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847393#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847393</id>
	<published>2022-04-16T13:52:21Z</published>
	<updated>2022-04-16T13:52:21Z</updated>
	<author>
		<name>reorx</name>
		<uri>https://www.v2ex.com/member/reorx</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我的需求：</p>
<ul>
<li>创建多个项目或者分类。</li>
<li>设定规则，根据规则自动将时间记录到项目。规则可以选择匹配软件名称或窗口标题。</li>
<li>一定的统计分析能力，比如展示今天各项目所占用时间百分比的饼图。</li>
</ul>
<p>我的目的是想要统计我在每日各个领域的工作时间，以便对自己的时间分配方案进行回顾和改进。</p>
<p>我不需要工时统计软件，这一块我已经在使用 Timemator 了，工时统计与个人时间追踪是两个相似但不同的软件类别。</p>
<p>目前我试过最符合要求的软件是 <a href="https://github.com/ActivityWatch/activitywatch" rel="nofollow">ActivityWatch</a>，它有非常直观的界面，足够强大的规则能力，但这个项目已经不活跃了，并且在 macOS Monterey 上<a href="https://github.com/ActivityWatch/activitywatch/issues/334" rel="nofollow">不能很好地运行</a>。</p>
<p>不知还有什么其他类似 ActivityWatch 能满足我提出的三个需求并且在 macOS 上可以正常运行的软件。</p>

	]]></content>
</entry><entry>
	<title>[程序员] 对于大数据集群环境各类资源的审计大家有没有比较好的方案？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847392#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847392</id>
	<published>2022-04-16T13:28:18Z</published>
	<updated>2022-04-16T13:27:18Z</updated>
	<author>
		<name>LennonChin</name>
		<uri>https://www.v2ex.com/member/LennonChin</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>这种资源审计的目的其实就是为了算钱，计算每类资源、每个作业、每次查询到底花了多少钱，为后续的配额、性能优化做参考。</p>
<p>我的思考是不管是自建集群还是基于云的集群，本质上是将硬件付费或 IaaS 付费转换为 PaaS 或 SaaS 的计费模式，需要先有外部付费账单，才能内部各类计算资源的消费详单。</p>
<p>但是大多数的大数据集群环境里存在多种计算引擎或存储引擎，各自的工作模式也不尽相同，这种情况下怎么统一计费的模型就是一个困难点。同时很多服务存在混部情况，难免各自之间会有一定的影响，因此在做资源审计的时候审计数据的采集又是一个比较麻烦的问题。</p>
<p>目前没有找到类似的开源方案，不过大部分做基于公有云大数据计算环境的都会有一套自己的方案，不知道这些厂商是怎么做的。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 对 React use-between 的例子有个疑问，望解答</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847391#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847391</id>
	<published>2022-04-16T13:10:31Z</published>
	<updated>2022-04-08T13:09:31Z</updated>
	<author>
		<name>thefack</name>
		<uri>https://www.v2ex.com/member/thefack</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://github.com/betula/use-between" rel="nofollow">https://github.com/betula/use-between</a></p>
<p>给的例子中，为什么要用<code>useSharedCounter</code>多包装一次<code>useCounter</code>：</p>
<p><code>const useSharedCounter = () =&gt; useBetween(useCounter);</code></p>
<p>我试了下，将上面一句省掉，直接用 <code>const { count } = useBetween(useCounter);</code>也能使用啊。</p>
<p>有什么特殊场合需要那样吗？</p>

	]]></content>
</entry><entry>
	<title>[职场话题] 职场上总被好学的同事追着请教技术问题但有不好拒绝，何解？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847390#reply3" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847390</id>
	<published>2022-04-16T13:02:09Z</published>
	<updated>2022-04-15T21:02:09Z</updated>
	<author>
		<name>taobibi</name>
		<uri>https://www.v2ex.com/member/taobibi</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>公司其他部门的同事，他的岗位薪水不高但是有很多空闲时间。
总是追着我请教很多技术问题。可以看出他还是比较想学习的。但是好多东西讲着讲着就要将很多基础内容，我工作的时候，总是跟着说看看学学。又不好打击人家积极性。有没有什么折中的办法处理这种职场问题？</p>

	]]></content>
</entry><entry>
	<title>[程序员] 关于 webview 环境问题</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847388#reply9" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847388</id>
	<published>2022-04-16T12:45:39Z</published>
	<updated>2022-04-16T13:44:13Z</updated>
	<author>
		<name>Features</name>
		<uri>https://www.v2ex.com/member/Features</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	今天听群里做电子病例的人说用桌面版还是浏览器的问题<br />桌面版环境稳定，浏览器有兼容问题，但是可以及时更新<br /><br />浏览器有蓝谷歌（ chromium ），绿谷歌（ chrome ），IE<br /><br />我说都让用户下 chromium 为啥不编译一个自己的 chromium ，主页就固定为项目地址。。。<br />他们好像没听明白<br /><br />大家觉得这种方式可以吗？
	]]></content>
</entry><entry>
	<title>[问与答] 有什么低成本的域名备案方法吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847387#reply15" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847387</id>
	<published>2022-04-16T12:43:08Z</published>
	<updated>2022-04-16T16:10:21Z</updated>
	<author>
		<name>wherelse</name>
		<uri>https://www.v2ex.com/member/wherelse</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>想用国内的 cdn 给自己的博客做做加速，但是国内的都需要备案才能用，现在的话备案似乎必须要有服务器，但是自己并不太用得着服务器，为备案域名一直买一个服务器，有点浪费。</p>
<p>有没有低成本的备案方法或者备案之后不需要一直续费服务器的方法呢。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 问一个关于数字人民币的问题</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847386#reply5" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847386</id>
	<published>2022-04-16T12:41:32Z</published>
	<updated>2022-04-16T15:43:50Z</updated>
	<author>
		<name>bugprogrammer</name>
		<uri>https://www.v2ex.com/member/bugprogrammer</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>今天看到个热搜"多家银行下调个人账户线上交易限额"，有人说线上支付转账限额被降低了。v 友有人遇到吗？且不论原因，因为原因众说纷纭，姑且就按照反诈骗，反洗钱来算。说实话这种情况对于外地的自由职业者很不利，因为提额可能要本地社保，工作证明之类的。这个用数字人民币可以规避吗？数字人民币据说容易追溯诈骗洗钱，风控误伤概率是不是低很多？</p>

	]]></content>
</entry><entry>
	<title>[Flutter] [Flutter] 保姆级一小时 Flutter 开发环境搭建到 Demo 跑通教程--无需开发者账号</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847385#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847385</id>
	<published>2022-04-16T12:40:32Z</published>
	<updated>2022-04-16T13:03:58Z</updated>
	<author>
		<name>sugoodz</name>
		<uri>https://www.v2ex.com/member/sugoodz</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h3>前提</h3>
<h4>硬件要求</h4>
<ul>
<li>一台 MacOS 电脑，最好系统是最新的</li>
<li>一台 Android 手机</li>
<li>一台 iOS 手机</li>
<li>宽带建议三百兆</li>
</ul>
<h4>硬件参考</h4>
<ul>
<li>黑苹果: MacOS 12.3</li>
<li>华为 Mata 30 pro: 鸿蒙 2.0</li>
<li>苹果 Iphone x : 15.4</li>
<li>Android Studio: bumblebee|2020.1.1 </li>
<li>XCODE: 13.3</li>
</ul>
<h4>不需要苹果开发者账号</h4>
<p>不需要苹果开发者账号，有普通的苹果账号就好。不过普通的苹果账号多一步信任的过程，下面的步骤有详细说明。</p>
<h3>简单说明</h3>
<p>今天给 2016 年组装的老台式机重新安装了最新的黑苹果系统 --- Monterey 12.3 ，装完后试了下还挺流畅的😂，所以决定装个 Flutter 开发环境，也算是发挥它最后的余热吧！毕竟随着苹果自己的 M1 芯片越来越成熟，以后 Macos 系统可能就和手机一样封闭了，能玩黑苹果的日子不多了。</p>
<p>完成了 Flutter 开发环境搭建与 iOS&amp;Android Demo 跑通全过程后。令人意外地发现全程只用了一个多小时。也许是我现在的网络环境比较好 /也许是有点经验了 /也许是现在的配置工具便利了。相比第一次配置 Flutter 开发环境时的辛酸。现在配置个环境真的舒服多了。最后不管怎样，反正我想把教程写的简单一点，但是又尽量详细一点，让零基础的朋友也能看得懂。</p>
<h3>重要的事情说三遍，需要 FQ 、需要 FQ 、需要 FQ</h3>
<p>Flutter 开发离不开 Google 环境，很多时候更新资源或者打包的时候都需要外网，而且 Flutter 技术文档、各种资料、还有问题的解决办法还是墙外比较多一点，所以 FQ 是必不可少的。</p>
<p>网上很多通过配置国内镜像或者是修改 host 的方式来下载资源的，有时候确实有用，有时候纯粹是浪费时间。所以还是花点时间找个靠谱的 FQ 工具吧🤷，还有按我个人的经验来说，移动开发还真的离不开外网，FQ 基本已经是个必备的技能了😂。</p>
<p>因此，整个教程的前提是你有个良好的访问外网的环境，否者下载资源就要花费大量的时间了，一个小时基本没戏。</p>
<h3>必要软件下载与安装</h3>
<h4>XCODE 下载与安装</h4>
<p>在 APP STORE 上搜 XCODE,点击安装就好。就是这么简单，不过也是最耗时的，安装包一共 10G 左右,按我之前的经验下载加上安装可能要 40-50 分钟左右。所以，第一步要先下载安装 XCODE ，安装的途中会弹出授权窗口输入密码就好，其他都是后台执行的。然后 XCODE 最后配置都可以，其他软件下载好先安装，还好其他软件不是很大下载都挺快的。</p>
<h4>Android Studio 下载与安装</h4>
<ul>
<li>在官网下载地址下载，<a href="https://developer.android.com/studio?hl=zh-cn" rel="nofollow">https://developer.android.com/studio?hl=zh-cn</a></li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650081521140wimr0cu0.png?imageslim"/></p>
<ul>
<li>下载完双击安装文件安装好就可以了，大概十分钟下载和安装</li>
</ul>
<h4>Flutter SDK 下载与配置</h4>
<ul>
<li>在 Flutter 官网下载： <a href="https://flutter.cn/docs/development/tools/sdk/releases?tab=macos" rel="nofollow">https://flutter.cn/docs/development/tools/sdk/releases?tab=macos</a></li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500818727718g3a6g5t.png?imageslim"/></p>
<ul>
<li>解压缩文件，我这里解压到 /Users/sugood/devlibs/flutter 文件夹下，这个路径是自己定义的，等会需要用到</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650082347411akzro75f.png?imageslim"/></p>
<ul>
<li>配置环境变量</li>
</ul>
<ol>
<li>
<p>在终端输入指令 sudo vi ~/.bash_profile ,进入配置，需要输入密码。</p>
</li>
<li>
<p>输入 i,进入 vim 的编辑模式，在任意一行添加 Flutter SDK 的路径</p>
</li>
</ol>
<pre><code> # flutter sdk
 export PATH=$PATH:$HOME/devlibs/flutter/bin
</code></pre>
<p><strong>这里的 $HOME 是用户文件夹的意思。$HOME/devlibs/flutter/bin 就是 /Users/sugood/devlibs/flutter 的路径（我电脑的用户是 sugood ）</strong></p>
<ol>
<li>按 ESC 键退出编辑模式，再输入:wq 保存。如下图：</li>
</ol>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500827878189gjcplag.png?imageslim"/></p>
<ol>
<li>然后在终端上执行 source ~/.bash_profile ，刷新环境变量</li>
</ol>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650082964475i44gc1pr.png?imageslim"/></p>
<p>5.最后在终端上执行 flutter --version 指令查看版本号，打印以下信息就是成功了</p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500832718108g9ey3sn.png?imageslim"/></p>
<p><strong>注意：如果提示 zsh: command not found: flutter</strong>，可按照以下步骤修复</p>
<pre><code>#第一步，在终端执行
vim ~/.zshrc
#第二步，找到 “# User configuration” 在其下面添加下面内容
source ~/.bash_profile
#如果没有’# User configuration’，就直接把上面内容添加到 ~/.zshrc 里面
#第三步，在终端里执行 
source ~/.zshrc
</code></pre>
<h3>软件配置</h3>
<h4>一、Android Studio 打开与配置</h4>
<ul>
<li>运行 Android Studio </li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500896819730lngnz3a.png?imageslim"/></p>
<ul>
<li>设置代理（ Setup Proxy ）根据自己的 FQ 软件来设置</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650090065380w3hfxmgp.png?imageslim"/></p>
<ul>
<li>设置好后就等到下载最新的安卓 SDK 还有一些资源，当然点击 Cancel 也行，网络情况理想也是能下载到最新的 SDK 和资源的。下载好之后我们打开 Android Studio 的 Tools-&gt;SDK Manager(SDK 管理)</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650090384152g74kosba.png?imageslim"/></p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650090584673qi5ljsyk.png?imageslim"/></p>
<ul>
<li>下载 Flutter 需要用到的 SDK 工具，点击 SDK Tools ,选上必要的工具，最后点击 Apply 按钮后会下载选中的工具。</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650090783064k0w2zxid.png?imageslim"/></p>
<ul>
<li>安装 Flutter 和 Dart 插件
<img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650091748676am4hggj0.png?imageslim"/></li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650091889927ect4yn6h.png?imageslim"/></p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650091971120ran1qnay.png?imageslim"/></p>
<p>我这里展示了 Flutter 插件的安装，Dart 一样道理，两个插件都安装好之后，在插件中心显示如下：</p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650092147211f95d29z5.png?imageslim"/></p>
<ul>
<li>在终端界面执行 flutter doctor --android-licenses ，这一个操作是安卓许可证授权 ，全部选 yes 就好。完成这一步安卓的配置基本完成了，下面先创建一个 demo 最后再配置 xcode</li>
</ul>
<h4>二、创建 Flutter 项目并跑通 Android DEMO</h4>
<ul>
<li>先在终端执行一次指令：flutter doctor --verbose ，看看安卓和 Android Studio 的配置有没有问题。</li>
</ul>
<pre><code>sugood@sugooddeiMac ~ % flutter doctor --verbose
[✓] Flutter (Channel stable, 2.10.4, on macOS 12.3 21E230 darwin-x64, locale
    zh-Hans-CN)
    • Flutter version 2.10.4 at /Users/sugood/devlibs/flutter
    • Upstream repository https://github.com/flutter/flutter.git
    • Framework revision c860cba910 (3 weeks ago), 2022-03-25 00:23:12 -0500
    • Engine revision 57d3bac3dd
    • Dart version 2.16.2
    • DevTools version 2.9.2
    • Pub download mirror https://pub.flutter-io.cn
    • Flutter download mirror https://storage.flutter-io.cn

[✓] Android toolchain - develop for Android devices (Android SDK version
    32.1.0-rc1)
    • Android SDK at /Users/sugood/Library/Android/sdk
    • Platform android-32, build-tools 32.1.0-rc1
    • Java binary at: /Applications/Android
      Studio.app/Contents/jre/Contents/Home/bin/java
    • Java version OpenJDK Runtime Environment (build 11.0.11+0-b60-7590822)
    • All Android licenses accepted.

[✗] Xcode - develop for iOS and macOS (Xcode 13.3.1)
    • Xcode at /Applications/Xcode.app/Contents/Developer
    ✗ CocoaPods not installed.
      CocoaPods is used to retrieve the iOS and macOS platform side's plugin code that responds to your plugin usage on the Dart side.
      Without CocoaPods, plugins will not work on iOS or macOS.
      For more info, see https://flutter.dev/platform-plugins
      To install:
        sudo gem install cocoapods

[✓] Chrome - develop for the web
    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome

[✓] Android Studio (version 2021.1)
    • Android Studio at /Applications/Android Studio.app/Contents
    • Flutter plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/9212-flutter
    • Dart plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/6351-dart
    • Java version OpenJDK Runtime Environment (build 11.0.11+0-b60-7590822)
</code></pre>
<p><strong>理论上除了 XCODE 会有问题，其他的应该不会有问题了，如果有问题就需要针对问题修复好才能进行下一步</strong></p>
<ul>
<li>打开 Android stuido 并创建 Flutter 项目,项目名称是 ftest ，安卓 SDK 地址就是上面配置的地址 /Users/sugood/devlibs/flutter ，第一次需要配置，以后没有修改都不需要动。</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650092340797jjjzu2v4.png?imageslim"/></p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650092513600zjjprs2m.png?imageslim"/></p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650092796441fghogkwz.png?imageslim"/></p>
<ul>
<li>这样我们在 /Volumes/Works/sourceCode/flutter/ftest 路径下就得到一个 Flutter 项目。</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650093100242i5s0uxb9.png?imageslim"/></p>
<ul>
<li>
<p>这个时候拿出安卓手机打开开发这模式，连上电脑后，信任这台电脑，并选择文件传输模式。就能在 Android studio 界面看到这台手机了
<img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500935017323dgt5bpq.png?imageslim"/></p>
</li>
<li>
<p>点击运行按钮，等到编译成功并自动安装到手机上后，没什么意外手机上就能看到如下界面
<img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650098507949in4asdjf.png?imageslim"/></p>
</li>
</ul>
<p><strong>如果你顺利地走到这一步，那么恭喜你，你已经完成了 70%了，这个时候 XCODE 应该刚好安装完成。应该还没超过一个小时😂。如果很不幸，XCODE 还没安装好，那么你也许可以先休息下☕️，反正后面的东西不多了😎</strong></p>
<h4>三、跑通 iOS DEMO</h4>
<ul>
<li>
<p>针对前面 flutter doctor --verbose 的 xcode 的错误提示，在终端上执行 sudo gem install cocoapods 安装 cocoapods</p>
</li>
<li>
<p>安装完成 cocoapods 后，在终端上执行 flutter doctor --verbose ,可以看到 cocoapods 版本，也没有其他报错了。这样整个 Flutter 开发环境就已经搭好了。</p>
</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650094879741jgec5w1y.png?imageslim"/></p>
<ul>
<li>在 Flutter 项目中打开 xcode</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650094700023lhpwk08s.png?imageslim"/></p>
<p><strong>第一次打开，必然有报错的，因为我们需要添加自己的苹果账号并生成证书才能进行调试</strong></p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650096450947wpan2xw5.png?imageslim"/></p>
<ul>
<li>添加苹果账户
<img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500965922731z1pc4oh.png?imageslim"/></li>
</ul>
<ol>
<li>添加账号</li>
</ol>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650096799238o2knp1hh.png?imageslim"/></p>
<ol>
<li>输入账号密码</li>
</ol>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500968992782e19qozn.png?imageslim"/></p>
<ol>
<li>生成证书操作</li>
</ol>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650097203654gk99qu3h.png?imageslim"/></p>
<ol>
<li>生成证书成功，Team 名称如图，记住了一会要用。</li>
</ol>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/165009758099797ge3x6u.png?imageslim"/></p>
<ol>
<li>回到 xcode 给项目选择上面生成的 Team 后，就没有报错了</li>
</ol>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650097892673sf27472c.png?imageslim"/></p>
<ul>
<li>xcode 连接苹果手机并运行,第一次需要用 xcdoe 信任手机设备</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/165010690611379oqj6sy.png?imageslim"/></p>
<ul>
<li>如果不是苹果开发者的账号运行会有以下错误提示</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650106039523b03tkhby.png?imageslim"/></p>
<p>手机上的提示如下</p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650106186153xwryw2hl.png?imageslim"/></p>
<p>那么只要手机打开设置-&gt;VPN 与设备管理，信任开发者 APP 就好，如下</p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650106348017txza756w.png?imageslim"/></p>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650106469172xx626kz2.png?imageslim"/></p>
<ul>
<li>回到 Android studio ，选择苹果手机，并点击运行按钮</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/1650098141100fkcpj9mn.png?imageslim"/></p>
<ul>
<li>编译成功后，我相信你也能在手机上看到以下 demo 顺利运行的界面。</li>
</ul>
<p><img alt="paste image" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="http://imgs.sugood.xyz/16500983752752ji3gzsh.png?imageslim"/></p>
<h3>总结</h3>
<p>至此，从开发环境搭建到 Demo 跑通都已经完成了，没有什么很复杂的操作，基本上都是图形化操作界面，只有极个别没有图形化才用指令。而且很多指令也都是查看指令，只是设置环境变量的指令稍微多一点，也不复杂。相信零基础的同学也是能很好上手的。</p>
<p>最后，如果你的配置的过程中有遇到其他的问题，可以多执行下 flutter doctor --verbose 指令看看有没有其他的错误，一般情况下这个指令没有报错的话，运行 demo 都是不会有什么问题的。如果遇到其他问题，请善用搜索引擎~</p>

	]]></content>
</entry><entry>
	<title>[程序员] 才发现网线插不好也会降速</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847384#reply29" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847384</id>
	<published>2022-04-16T12:32:49Z</published>
	<updated>2022-04-16T16:13:37Z</updated>
	<author>
		<name>phithon</name>
		<uri>https://www.v2ex.com/member/phithon</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>今天下午在 Youtube 看视频的时候偶然发现 Connection Speed 一直在 80k 左右，确实是偶然发现的，因为当时的视频并没有很卡，只是手闲右键点了下 Stats 看到的。</p>
<p>本来没太在意，认为是当时网络不太好。晚上闲的没事又打开 speedtest 测了下网速，居然只有 90Mbps 了。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.v2ex.co/cTYDDRxm.png"/></p>
<p>吃了一惊，以为是运营商给我限速了。但我想起昨天我因为换硬盘所以打开过机箱，拔过网线，也有可能是我自己的问题。</p>
<p>于是我登上家里的一台小主机，试了下 speedtest ，发现没有问题还是千兆：</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.v2ex.co/9MY28BRB.png"/></p>
<p>看来是我电脑的问题，打开 Windows 的网络设置一看，Link Speed 变成 100/100(Mbps)了，不过我当时没截图。</p>
<p>重新拔了网线插上，再看就好了。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.v2ex.co/u59QQOO1.png"/></p>
<p>之前一直听说 USB3.0 没插好可能会降成 USB2.0 ，今天才知道网线也可以降速……<strong>严格来说，我也不能确定是不是没插好导致的，后面可以再试试。</strong></p>

	]]></content>
</entry><entry>
	<title>[macOS] 莫名其妙的 Safari Bug，地址栏输入“gh”会自动消失</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847383#reply5" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847383</id>
	<published>2022-04-16T12:21:05Z</published>
	<updated>2022-04-16T13:34:39Z</updated>
	<author>
		<name>Chandleric</name>
		<uri>https://www.v2ex.com/member/Chandleric</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在 Safari 地址栏输入“gh”后大约 0.5s 左右，“gh”两个字母会消失（并不是输入回车后 gh 消失），即清空地址栏。如果输入“gh”之后快速的输入别的字符，有一定概率不会清空地址栏。起初怀疑是插件问题，一直在用 xSearch 这个 Safari 浏览器扩展，很好用，可以输入“gh xxxx”直接跳转到 GitHub 搜索，但是今天突然出现这个问题。</p>
<p>尝试了以下办法均没有解决：</p>
<ul>
<li>在 xSearch 中去掉“gh”关键词</li>
<li>Safari 禁用 xSearch 扩展（唯一的一个在用的 Safari 扩展）</li>
<li>清空 Safari 缓存</li>
<li>重启 Safari （ cmd + q ）</li>
<li>重启电脑</li>
</ul>
<p>在 Chrome 中没有这个问题。</p>
<p>有没有遇到类似问题的朋友？如何解决？</p>
<p>MacBook Pro 14‘ M1 Pro ，系统版本 12.3.1 (21E258)，Safari 版本 15.4 (17613.1.17.1.13)</p>

	]]></content>
</entry><entry>
	<title>[问与答] 小白想入门单反摄影，求指路</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847382#reply15" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847382</id>
	<published>2022-04-16T12:14:20Z</published>
	<updated>2022-04-16T14:25:58Z</updated>
	<author>
		<name>OldNio</name>
		<uri>https://www.v2ex.com/member/OldNio</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	想学习摄影，找一台适合技术小白的单反相机，预算 6k 左右，最好可以拍长焦的建筑物
	]]></content>
</entry><entry>
	<title>[问与答] 打开 B 站 同一个视频，用 Edge 加载很慢，用 Firefox 就很流畅是怎么回事</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847381#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847381</id>
	<published>2022-04-16T12:13:29Z</published>
	<updated>2022-04-14T12:13:29Z</updated>
	<author>
		<name>bandian</name>
		<uri>https://www.v2ex.com/member/bandian</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	如题，是有什么配置不太对吗
	]]></content>
</entry><entry>
	<title>[反馈] 可以改用户名吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847380#reply2" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847380</id>
	<published>2022-04-16T11:58:22Z</published>
	<updated>2022-04-16T14:17:43Z</updated>
	<author>
		<name>napster34</name>
		<uri>https://www.v2ex.com/member/napster34</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[Google] GV 号注册的今日头条，无法发短信验证</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847378#reply10" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847378</id>
	<published>2022-04-16T11:18:15Z</published>
	<updated>2022-04-16T12:48:06Z</updated>
	<author>
		<name>Chism</name>
		<uri>https://www.v2ex.com/member/Chism</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	登录说安全问题，让我发短信验证，但是 GV 应该是无法发短信给+86 吧？<br />号废了？<br /><br />我的 bilibili 主号也用 GV ，还是大会员，万一哪天让我发短信验证岂不是也废了？
	]]></content>
</entry><entry>
	<title>[生活] 绷不住了， airpods pro 又搞丢了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847376#reply9" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847376</id>
	<published>2022-04-16T11:01:01Z</published>
	<updated>2022-04-16T14:27:35Z</updated>
	<author>
		<name>LawlietZ</name>
		<uri>https://www.v2ex.com/member/LawlietZ</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>估计丢了几天了，今天想用的时候才发现。平时会带着 airpods pro 上班和家里都使用，怀疑是上下班的时候放在口袋里划出去了。</p>
<p>上次的 airpods2 是在坐飞机时搞丢了，可能是在安检中 /路上 /飞机上。这次又搞丢了 pro ，心态有点崩。头戴式的耳机还丢过索尼的 1000xm3 ，应该是在公司食堂里弄丢的，下午食堂吃饭时候从脖子里取下来然后放在旁边座位上，回去继续写代码，可能当时都没感觉到！等到第二天或者第三天想用的时候才发现。。</p>
<p>大学时候也弄丢过至少 4 个 U 盘，都是上机课时候拷贝自己笔记本代码到实验室电脑，下课后当天直接就忘记这回事了，也是等下次用的时候想起来才发现。。</p>
<p>感觉自己真不适合用这种能随身携带的小电子产品了，自己只要有其他投入的事，包括聊天 /开会 /写代码 /吃饭,就特别容易忘记这些东西。不过索性的是还没丢过手机？(其实也在食堂丢过几次，不过回工位路上发现手机不见赶紧回去找找回过几次。。)</p>
<p>这种有办法解决吗？自我暗示性感觉没用，大学时候因为丢 U 盘这事把自己的 qq 分组名子全部设置成了“上完机检查 u 盘”等等这种提示性文字。</p>
<p>设想有没有一种带芯片的软性便利贴，可以贴在这些小电子用品上，可以和手机一个 app 绑定，一但离开一段距离，手机就自动报响？(记得苹果发过类似的产品？)或者广大 v 友们有没有我这种类似的情况，有什么办法来改善吗？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 翻出来一台压箱底的 nexus9，即使恢复出厂设置，也仍然卡成翔，为什么呢？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847375#reply8" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847375</id>
	<published>2022-04-16T10:59:54Z</published>
	<updated>2022-04-16T13:20:15Z</updated>
	<author>
		<name>ttgo</name>
		<uri>https://www.v2ex.com/member/ttgo</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	整理东西无意中看到了一台 nexus9,<br /><br />虽然是老机器了，但理论上不运行新应用的话，应该至少流畅吧。<br /><br />可为什么仍然卡成翔呢？？ 比如打开设置，得等 30 秒，打开 playstore 要等 1min 。<br /><br />难道放久了会降频？？
	]]></content>
</entry><entry>
	<title>[iWork] 国内有公司用 iWork 办公吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847374#reply12" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847374</id>
	<published>2022-04-16T10:58:14Z</published>
	<updated>2022-04-16T16:10:43Z</updated>
	<author>
		<name>shmilypeter</name>
		<uri>https://www.v2ex.com/member/shmilypeter</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>国内有公司用 iWork 办公么？
我工作了八年，我是一家都没看到，一家都没有，无论是公司，还是机构，都没见过用 iWork 的。</p>
<p>重量级的自然用 Office ，不喜欢用 Office 的用 WPS ，轻量级以及协作共享的用腾讯文档，</p>
<p>今天看 Numbers 更新，发现推出的重磅新功能是数据透视表，我也是醉了，这得要多废。</p>
<p>格式不兼容，对设备有要求，软件本身又废，难怪没人用啊。</p>

	]]></content>
</entry><entry>
	<title>[macOS] macOS Monterey 蓝牙菜单不支持通过快捷键来连接设备？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847373#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847373</id>
	<published>2022-04-16T10:53:10Z</published>
	<updated>2022-04-16T10:53:10Z</updated>
	<author>
		<name>serge001</name>
		<uri>https://www.v2ex.com/member/serge001</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>Bigsur 在蓝牙菜单是可以 tab 键选中设备，按空格键来连接设备，但是我在 Monterey 下试了就不行，tab 选中到蓝牙设备后，按回车或者空格都没反应，在没有已配对的鼠标情况下想只通过键盘来操作连接蓝牙鼠标好捉急。。。</p>

	]]></content>
</entry><entry>
	<title>[问与答] ACM oreilly 没有机会优惠啦</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847372#reply2" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847372</id>
	<published>2022-04-16T10:47:02Z</published>
	<updated>2022-04-16T11:58:40Z</updated>
	<author>
		<name>TabGre</name>
		<uri>https://www.v2ex.com/member/TabGre</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>各位收到了提示吗？</p>

	]]></content>
</entry><entry>
	<title>[全球工单系统] [QQ 邮箱] 关联账号跳转功能挂了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847371#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847371</id>
	<published>2022-04-16T10:26:20Z</published>
	<updated>2022-04-16T11:28:22Z</updated>
	<author>
		<name>saggit</name>
		<uri>https://www.v2ex.com/member/saggit</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>点了跳转，直接变成了当前页面的刷新，而不是跳转到关联的邮箱账号中。</p>
<p>这里有没有 QQ 邮箱的大佬，希望帮忙看看，邮件看不到了。</p>

	]]></content>
</entry><entry>
	<title>[问与答] Gitee 账号被封，还有的救么？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847370#reply20" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847370</id>
	<published>2022-04-16T10:08:59Z</published>
	<updated>2022-04-16T12:23:17Z</updated>
	<author>
		<name>bloodkey</name>
		<uri>https://www.v2ex.com/member/bloodkey</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>给 github 做镜像，github 里面有些 fq 的库</p>
<p>虽然不是主力，但也收集了非常多的资料。很多都不记得 fork 了那个项目。丢了很难受</p>
<p>有没有解救方法，怎么做？</p>
<pre><code>抱歉，您的帐号已被系统屏蔽

屏蔽原因: 涉嫌发布违规内容-2022
</code></pre>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s3.bmp.ovh/imgs/2022/04/16/ad97a31182fda0fc.jpg"/></p>

	]]></content>
</entry><entry>
	<title>[iOS] iOS 具时效性通知已经被滥用了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847367#reply28" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847367</id>
	<published>2022-04-16T10:00:47Z</published>
	<updated>2022-04-16T15:26:11Z</updated>
	<author>
		<name>theklf4</name>
		<uri>https://www.v2ex.com/member/theklf4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	群里看到的图，我没开通过蚂蚁森林所以没看到<br /><br /><a target="_blank" href="https://i.imgur.com/S2b3Rc4.png" rel="nofollow noopener" target="_blank"><img src="https://i.imgur.com/S2b3Rc4.png" class="embedded_image" rel="noreferrer"></a>
	]]></content>
</entry><entry>
	<title>[程序员] LotusDB 设计与实现—2 WAL 日志</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847366#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847366</id>
	<published>2022-04-16T09:47:00Z</published>
	<updated>2022-04-16T13:28:29Z</updated>
	<author>
		<name>roseduan</name>
		<uri>https://www.v2ex.com/member/roseduan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<blockquote>
<p>LotusDB 是一个全新的 KV 存储引擎，Github 地址：<a href="https://github.com/flower-corp/lotusdb" rel="nofollow">https://github.com/flower-corp/lotusdb</a>，希望大家多多支持呀，点个 star 或者参与进来！</p>
</blockquote>
<p>WAL 是 Write Ahead Log 的简称，通常叫做预写日志，是为了预防内存崩溃，保证数据不丢失的常用手段。WAL 是 LSM 存储模型中重要的组件，在 LotusDB 当中的重要性是一样的。
<img alt="design-overview.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://cdn.nlark.com/yuque/0/2022/png/12925940/1649495588915-84d369e5-41b6-4a10-923d-0d0e95ae65fe.png#clientId=uee828f59-ca73-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=ui&amp;id=u7577a710&amp;margin=%5Bobject%20Object%5D&amp;name=design-overview.png&amp;originHeight=1136&amp;originWidth=2220&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=152577&amp;status=done&amp;style=none&amp;taskId=u1605dd8f-7f56-4b8c-a134-18aa8c571dd&amp;title="/>
试想一下，如果没有 WAL ，写入的数据直接到内存的话，由于内存是易失性的，崩溃之后数据无法恢复，如果数据写到一半发生了这种情况，会造成数据不一致甚至丢失，在一个系统底层的存储引擎当中，这通常是不可接受的。</p>
<p>日志结构的数据文件一般是追加写的，WAL 也是一样。在 LotusDB 当中写入 k/v 时，会先将数据封装成一条日志项 LogEntry ，并将其追加到 WAL ，日志项 LogEntry 的结构体定义如下：</p>
<pre><code class="language-go">// LogEntry is the data will be appended in log file.
type LogEntry struct {
	Key       []byte
	Value     []byte
	ExpiredAt int64 // time.Unix
	Type      EntryType
}
</code></pre>
<p>写入前需要将 LogEntry 结构体进行编码，然后再追加到文件中，编码后主要包含 key 、value 信息，还有对应的长度 size 信息，以及对整条数据有效性做校验的 crc 值，格式如下：</p>
<pre><code class="language-go">// EncodeEntry will encode entry into a byte slice.
// The encoded Entry looks like:
// +-------+--------+----------+------------+-----------+-------+---------+
// |  crc  |  type  | key size | value size | expiresAt |  key  |  value  |
// +-------+--------+----------+------------+-----------+-------+---------+
// |------------------------HEADER----------------------|
//         |--------------------------crc check---------------------------|
</code></pre>
<p>编码后的数据写到 WAL 时，LotusDB 提供了两种 IO 模式：系统标准 IO 和 mmap ，可在打开数据库时通过配置项进行选择，LogFile 结构体定义的 IoSelector 负责实现：</p>
<pre><code class="language-go">// LogFile is an abstraction of a disk file, entry`s read and write will go through it.
type LogFile struct {
	sync.RWMutex
	Fid        uint32
	WriteAt    int64
	IoSelector ioselector.IOSelector
}
</code></pre>
<p>LogFile 是操作文件数据读写的结构体，其中最重要的是 IoSelector ，它是一个 interface ，负责具体的读写操作，具体的实现有 FileIO 和 MMap 。</p>
<pre><code class="language-go">// IOSelector io selector for fileio and mmap, used by wal and value log right now.
type IOSelector interface {
	// Write a slice to log file at offset.
	// It returns the number of bytes written and an error, if any.
	Write(b []byte, offset int64) (int, error)

	// Read a slice from offset.
	// It returns the number of bytes read and any error encountered.
	Read(b []byte, offset int64) (int, error)

	// Sync commits the current contents of the file to stable storage.
	// Typically, this means flushing the file system's in-memory copy
	// of recently written data to disk.
	Sync() error

	// Close closes the File, rendering it unusable for I/O.
	// It will return an error if it has already been closed.
	Close() error

	// Delete delete the file.
	// Must close it before delete, and will unmap if in MMapSelector.
	Delete() error
}
</code></pre>
<p>LotusDB 中的一个 WAL 和 一个 memtable 绑定，从 memtable 的结构体定义就能够体现出来：</p>
<pre><code class="language-go">type memtable struct {
    sync.RWMutex
    sklIter      *arenaskl.Iterator
    skl          *arenaskl.Skiplist
    wal          *logfile.LogFile
    bytesWritten uint32 // number of bytes written, used for flush wal file.
    opts         memOptions
}
</code></pre>
<p>WAL 文件的大小和跟之相绑定的 memtable 的容量相关，由于 memtable 通常会有一个阈值，写满之后就关闭了，WAL 此时也不会接受新的写入，因此 WAL 文件的容量通常不会无限膨胀。
memtable 中的数据被后台线程 flush 到磁盘之后，并且没有其他的错误发生，WAL 就可以被安全的删除了。</p>
<p>在 LotusDB 启动打开 memtable 的时候，会全量加载 WAL 中的数据，逻辑很简单，就是打开 WAL 文件，然后遍历其中的每条数据，将其应用到 memtable 的跳表数据结构当中，通过这样的方式，达到了 WAL 恢复数据的作用，参考代码如下：</p>
<pre><code class="language-go">	for {
		if entry, size, err := wal.ReadLogEntry(offset); err == nil {
			offset += size
			// No need to use atomic updates.
			// This function is only be executed in one goroutine at startup.
			wal.WriteAt += size

			// build memtable...
            // ...
		} else {
			if err == io.EOF || err == logfile.ErrEndOfEntry {
				break
			}
			return nil, err
		}
	}
</code></pre>
<p><strong>WAL 刷盘策略</strong></p>
<p>数据写到 WAL 文件中，实际上并没有完全落到磁盘，由于操作系统的实现，可能只是到了 page cache ，需要我们手动调用 Flush 才能够真正将数据持久化。</p>
<p>针对 Flush 的策略，LotusDB 提供了两个配置项：
一是在 WriteOptions 中的 Sync ，如果在数据写入时传递了这个 Options 并且将 Sync 设置为 true ，那么写 WAL 完成后会立即 Flush ，这种策略能够保证数据不丢，但性能是最差的。</p>
<p>二是 ColumnFamilyOptions 中的 WalBytesFlush ，表示写入累积到配置的字节后进行 Flush ，可以理解为每 WalBytesFlush 个字节 Flush 一次。这种情况下，如果系统发生异常，最多丢失 WalBytesFlush 个字节的数据。
如果都不设置，则完全交给操作系统，这是默认的策略，性能是最好的，但是如果系统崩溃，丢失的数据可能是最多的。</p>
<p>LotusDB 也提供了手动进行刷盘的方法，用户可以在适当的时候，调用 Sync 方法进行数据刷盘持久化。</p>
<p><strong>其他和 WAL 相关的配置项：</strong>
<strong>ColumnFamilyOptions:</strong>
WalMMap 是否使用 mmap 进行写入，默认：false
<strong>WriteOptions:</strong>
DisableWal 是否禁用 WAL ，默认：false</p>
<hr/>
<p>LotusDB Github 地址：<a href="https://github.com/flower-corp/lotusdb" rel="nofollow">https://github.com/flower-corp/lotusdb</a></p>

	]]></content>
</entry><entry>
	<title>[macOS] M1 PD 虚拟机 安装 centos7 失败</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847364#reply15" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847364</id>
	<published>2022-04-16T09:34:19Z</published>
	<updated>2022-04-16T12:21:47Z</updated>
	<author>
		<name>jack1998</name>
		<uri>https://www.v2ex.com/member/jack1998</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	机器：mac mini for m1 <br />系统 12.3.1<br />iso 是从网易 163 下载的 arm64.iso<br />问题描述：在 PD 添加 centos7 之后进入安装界面，点击任意选项都没反应（会跳回当前界面）<br />搜索下没有找到原因 emmmm ，有没有大佬帮忙看看
	]]></content>
</entry><entry>
	<title>[问与答] Proxifier 便携版 Network Engine 默认设置导致 QQ 群部分功能异常</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847363#reply4" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847363</id>
	<published>2022-04-16T09:20:25Z</published>
	<updated>2022-04-16T13:29:55Z</updated>
	<author>
		<name>microka</name>
		<uri>https://www.v2ex.com/member/microka</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>最近发现无法正常打开 QQ 群公告、相册、文件等页面，别人在 QQ 群上发出的文件也无法下载。
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/DCYamtP.png"/>
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/A57Zj64.png"/></p>
<p>经排查发现是 Proxifier 便携版导致的问题，复现步骤如下：
Proxifier <a href="https://www.proxifier.com/download/" rel="nofollow">官网</a>下载便携版 <a href="https://www.proxifier.com/download/ProxifierPE.zip" rel="nofollow">Portable Edition v4.07</a>，启动并使用默认设置，此时打开一个 QQ 群聊窗口，点击「公告」「相册」「文件」等页面，此时情况如上图所示。
如果是下载标准版 <a href="https://www.proxifier.com/download/ProxifierSetup.exe" rel="nofollow">Standard Edition v4.07</a> 安装使用，则没有上述问题，页面均可正常加载。
（注：系统 Windows 11 21H2 (22000.613), QQ 9.5.9 (28650)）</p>
<p>进一步排查发现，Proxifier 便携版 <strong>网络引擎 (Network Engine)</strong> 是可以进行设置调整的 [<a href="https://www.proxifier.com/docs/win-v4/engines.html" rel="nofollow">详细说明</a>]
<img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/KyCwjw4.png"/>
默认设置与 QQ 群功能冲突</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.imgur.com/Duvnqrf.png"/>
将 <strong>WinSock Library (ws2_32.dll)</strong> 改为 <strong>WinSock Base Provider (mswsock.dll)</strong> 后，重新运行 QQ ，此时打开 QQ 群功能页面一切正常。</p>
<p>这样做，对于 Proxifier 便携版环境下使用 QQ 的问题是解决了，但是这样修改 Network Engine 后会否产生其它副作用呢？使用 Proxifier 安装版问题会更少吗？希望有大佬能科普一下，谢谢~</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 严重拖延症患者了算是 - 距离说要做一个秒杀系统，已经过去 120 天了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847360#reply5" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847360</id>
	<published>2022-04-16T09:03:11Z</published>
	<updated>2022-04-16T10:45:35Z</updated>
	<author>
		<name>wewin</name>
		<uri>https://www.v2ex.com/member/wewin</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>上次发贴说要做一个秒杀系统 <a href="https://www.v2ex.com/t/822512#reply18" rel="nofollow">https://www.v2ex.com/t/822512#reply18</a></p>
<p>看看时间，距离上次说要做一个秒杀系统已经过去 120 多天了，现在才把 admin 做的七七八八，严重拖延。</p>
<p>先做 admin 管理后台的理由是，admin 后台样式要求低，做好 admin 后再进行 ToC 部分的时候，Mock 数据就不用直接操作数据库了。</p>
<p>项目地址：</p>
<p>后端: <a href="https://github.com/ItsWewin/amusing-x" rel="nofollow">https://github.com/ItsWewin/amusing-x</a></p>
<p>Admin 前端： <a href="https://github.com/ItsWewin/pangu-web" rel="nofollow">https://github.com/ItsWewin/pangu-web</a></p>
<p>后端算是按照微服务规划的，使用的 Golang + GRPC + net/http 自己写的小 web 服务，使用 GRPC Getaway 给前端提供 Restful api</p>
<p>前端使用 React </p>
<p>目前距离上线可用还有一段距离，项目的 README 暂时也尚未完善</p>
<p>下个阶段继续先把 admin 部分的前后端功能完善，写好 README ，部署上产线供大家先玩玩</p>
<p>请大家关注</p>

	]]></content>
</entry><entry>
	<title>[Chrome] iOS Chrome Canvas 诡异特性</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847359#reply1" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847359</id>
	<published>2022-04-16T09:00:25Z</published>
	<updated>2022-04-16T12:01:21Z</updated>
	<author>
		<name>ikushi</name>
		<uri>https://www.v2ex.com/member/ikushi</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	试着用 canvas 做一个画板的时候，用每次触摸移动都会绘制一个圆实现。<br /><br />但在 iOS Google Chrome 上测试时，绘制时，背景逐渐出现平铺的诡异纹路。圆外切了一个白色不透明的正方形。仅在 iOS Chrome 中有触发，在电脑或 iOS Firefox 、safari 等都无触发。<br /><br />我后来简化成了定时绘制一个圆，依然有这种现象。<br /><br /><a target="_blank" href="https://i.imgur.com/m8BWLo3.jpg" rel="nofollow noopener" target="_blank"><img src="https://i.imgur.com/m8BWLo3.jpg" class="embedded_image" rel="noreferrer"></a><br /><div class="embedded_video_wrapper"><iframe src="https://www.youtube.com/embed/zZPdj7m-JKQ" class="embedded_video" allowfullscreen="" type="text/html" id="ytplayer" frameborder="0"></iframe></div><br /><br />复现：<br /><div><a target="_blank" href="https://gist.github.com/Antistable/352a02668b28a84e5cb95abb9612ad1e" rel="nofollow noopener" target="_blank">https://gist.github.com/Antistable/352a02668b28a84e5cb95abb9612ad1e</a> <button onclick="lazyGist(this)"> 显示 Gist 代码 </button></div><br />经过测试，发现触发 bug 需满足两个条件：<br />1 、合适的 canvas 宽高。对于不同尺寸的屏幕（甚至横放和竖放），有不同的范围。<br />2 、css 中 background-color 不为 transparent 。<br /><br />同时，若缩放屏幕达到一定程度，纹路就会消失。松开时，纹路又开始出现。<br /><br />两个解决办法：<br />1 、去掉 background-color 。这个是最佳解决办法，没有任何必要设置 background-color ，只需要绘制矩形即可实现背景。<br />2 、每一次绘制都把 canvas 的 imageData 先 get 出来再 set 回去。<br /><br />尽管不是啥大问题，但我非常好奇为什么为出现这种 bug：既有宽高限制，又和 css 有关，纹路也很稀奇，还把 imageData 先 get 再 set 就可以解决，并且仅在 iOS Chrome 触发。看了下源码，没有头绪。<br /><br />有大佬大概推测一下吗？<br /><br />（测试用 100.0.4896.77 (正式版本) stable (64 位元) ）
	]]></content>
</entry><entry>
	<title>[问与答] 你手中有多少 Made In Japan？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847358#reply4" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847358</id>
	<published>2022-04-16T08:51:10Z</published>
	<updated>2022-04-15T16:51:10Z</updated>
	<author>
		<name>quxinna</name>
		<uri>https://www.v2ex.com/member/quxinna</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	我先来<br />PANASONIC EW3106<br />CASIO MDV106<br />SHARP SHP3884
	]]></content>
</entry><entry>
	<title>[Mac mini] M1 Mac mini 等等新款还是先买旧款</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847357#reply3" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847357</id>
	<published>2022-04-16T08:45:05Z</published>
	<updated>2022-04-16T10:53:02Z</updated>
	<author>
		<name>ahdw</name>
		<uri>https://www.v2ex.com/member/ahdw</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>新款现在只有 Rumors ，不一定今年一定会有，而且可能更贵。</p>
<p>买旧款又担心背刺，看看大家怎么说。</p>
<p>手持 MBP 2015 13"，看中了 M1 Mini 16G + 256G 。现在买不知道有没有好的渠道能便宜一点</p>

	]]></content>
</entry><entry>
	<title>[问与答] 新版本 wordpress 的经典编辑器如何添加表格呢？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847356#reply0" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847356</id>
	<published>2022-04-16T08:44:57Z</published>
	<updated>2022-04-16T02:44:57Z</updated>
	<author>
		<name>glouhao</name>
		<uri>https://www.v2ex.com/member/glouhao</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	如题，之前用的 WP Tabel Tag Gen 这个插件，能很好的配合经典编辑器工作。然而现在新版本这个插件应该是不管用了。古腾堡能加表格，但是用起来偶尔会标题无法输入，感觉浏览器兼容性估计不太好好。如果有还能用的表格插件，希望大佬们贡献出来，在此谢过！
	]]></content>
</entry><entry>
	<title>[问与答] 老 iPhone 迁移 wx 数据咋弄方便？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847355#reply2" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847355</id>
	<published>2022-04-16T08:37:36Z</published>
	<updated>2022-04-16T08:37:36Z</updated>
	<author>
		<name>Sekai</name>
		<uri>https://www.v2ex.com/member/Sekai</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有台 5s 里面的 wx 版本太老了不能登陆，也没法更新高版本，所以打算把全部数据迁移到其他手机，请教下有什么比较方便的方法，目前手上苹果和安卓机都有（不过更想转到安卓上）。</p>
<p>迁移到苹果的话，是不是直接在 itunes 里完整备份数据，然后再还原到另一台苹果更新下 wx 就好了？</p>
<p>如果迁移到小米或者华为，有没有好软件？我看 app store 上有个“小米换机”app ，但是无法转移第三方程序。</p>
<p>还有一些软件可以把 wx 聊天记录导出到电脑，这可能是最后的办法。</p>

	]]></content>
</entry><entry>
	<title>[Node.js] pm2 允许多个脚本 为啥日志只有一个脚本的运行记录</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/847354#reply3" />
	<id>tag:www.v2ex.com,2022-04-16:/t/847354</id>
	<published>2022-04-16T08:23:04Z</published>
	<updated>2022-04-16T09:41:29Z</updated>
	<author>
		<name>ling516</name>
		<uri>https://www.v2ex.com/member/ling516</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	使用 pm2 运行了多个脚本  但是为啥每次只看到一个脚本的日志  其他脚本没日志<br />pm2 logs
	]]></content>
</entry>
</feed>