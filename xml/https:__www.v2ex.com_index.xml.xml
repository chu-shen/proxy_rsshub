<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title>V2EX</title>
<subtitle>way to explore</subtitle>


<link rel="alternate" type="text/html" href="https://www.v2ex.com/" />
<link rel="self" type="application/atom+xml" href="https://www.v2ex.com/index.xml" />
<id>https://www.v2ex.com/</id>

<updated>2022-11-22T01:32:17Z</updated>

<rights>Copyright © 2010-2018, V2EX</rights>
<entry>
	<title>[问与答] 沃尔玛砍单</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896976#reply0" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896976</id>
	<published>2022-11-22T01:33:17Z</published>
	<updated>2022-11-22T01:32:17Z</updated>
	<author>
		<name>inkmume</name>
		<uri>https://www.v2ex.com/member/inkmume</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>上次看到一张 paypal 20d 的优惠券，领了准备去沃尔玛买一张 apple 礼品卡，支付完后被退款。今天又绑了一张 ae 试了一次，还是不成。全程挂的美国节点，下单地址是 portland ，不知道是什么原因。</p>

	]]></content>
</entry><entry>
	<title>[Apple] Apple One 续费涨价了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896975#reply0" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896975</id>
	<published>2022-11-22T01:31:06Z</published>
	<updated>2022-11-22T01:30:06Z</updated>
	<author>
		<name>daizheng1998</name>
		<uri>https://www.v2ex.com/member/daizheng1998</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h2>明明订阅 Apple one 签约时约定了后续续费的价格但是 Apple 还是单方面提醒我涨价了(涨价后还是很便宜)</h2>
<p><a href="https://imgse.com/i/z1iytI" rel="nofollow"><img alt="z1iytI.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/11/22/z1iytI.png"/></a></p>

	]]></content>
</entry><entry>
	<title>[推广] Parallels Desktop 18 黑五 75 折活动已开始</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896974#reply1" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896974</id>
	<published>2022-11-22T01:28:44Z</published>
	<updated>2022-11-22T09:35:57Z</updated>
	<author>
		<name>DaisyParallels</name>
		<uri>https://www.v2ex.com/member/DaisyParallels</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	11 月折扣出奇的多，双十一刚过完紧接着黑五就来了。喜欢 PD 的朋友不要错过这次全球 75 折活动哦！黑五限时 75 折已经在官网开始了。<br /> <br />折扣：75 折 <br /> <br />促销时间：2022 年 11 月 21 日 00:00 AM – 2022 年 12 月 5 日 23:59 PM  （北京时间）<br /> <br />活动范围：<br />Parallels Desktop 18 for Mac 标准版一年订阅+永久版，<br />Parallels Desktop for Mac 18 Pro 版本 一年订阅<br />Parallels Desktop for Mac 18 Business 版本一年订阅。<br />升年到 Parallels Desktop 18 永久版本<br />升级到 Paralllels Desktop 18 Pro 版本一年订阅。<br /><br />官网购买： <a target="_blank" href="https://prf.hn/l/XR9WyMQ" rel="nofollow noopener">https://prf.hn/l/XR9WyMQ</a>
	]]></content>
</entry><entry>
	<title>[前端开发] X6 2.0 版本来了，会带来什么新的东西呢？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896973#reply1" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896973</id>
	<published>2022-11-22T01:28:08Z</published>
	<updated>2022-11-22T01:33:45Z</updated>
	<author>
		<name>newbyvector</name>
		<uri>https://www.v2ex.com/member/newbyvector</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>AntV X6 在 1.x 版本迭代了 100 多个版本，在性能、架构、易用性、专业度上都有了非常大的提升，今天推出了 2.0 版本，希望大家喜欢。</p>
<p>内容： <a href="https://www.yuque.com/antv/blog/kt8nugz3kdg32h7v" rel="nofollow">https://www.yuque.com/antv/blog/kt8nugz3kdg32h7v</a>
官网： <a href="https://x6.antv.antgroup.com" rel="nofollow">https://x6.antv.antgroup.com</a>
Github: <a href="https://github.com/antvis/x6" rel="nofollow">https://github.com/antvis/x6</a></p>

	]]></content>
</entry><entry>
	<title>[重庆] 重庆好久解封哟</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896972#reply5" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896972</id>
	<published>2022-11-22T01:26:59Z</published>
	<updated>2022-11-22T01:36:58Z</updated>
	<author>
		<name>iwukong</name>
		<uri>https://www.v2ex.com/member/iwukong</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[程序员] 求助，短信被删除，有没有办法还原恢复？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896970#reply2" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896970</id>
	<published>2022-11-22T01:20:57Z</published>
	<updated>2022-11-22T01:34:24Z</updated>
	<author>
		<name>legend4</name>
		<uri>https://www.v2ex.com/member/legend4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>求助，打官司要用的证据，大部分存在一部很旧的手机里，手机型号是三星 S5831i ，安卓 2.3 的系统，但作为证据的短信被人删除了一部分，请问各位有没有办法把短信还原，或是读取已删除的短信，能让法官相信短信的真实性的方法，因为开庭日期马上就到了，现在是万分火急，所以在此求助好心人能不能帮帮忙。</p>
<p>说明，手机是很久的系统，配置空间很难安装 app ，希望找到的方法能够恢复短信，同时保证不破坏手机里面已有的证据，包括一部分短信和录音，谢谢！！</p>

	]]></content>
</entry><entry>
	<title>[MacBook Pro] 新 MacBook Pro 屏幕发出噼里啪啦的电流声，然后自动重启</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896968#reply3" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896968</id>
	<published>2022-11-22T01:16:58Z</published>
	<updated>2022-11-22T01:25:05Z</updated>
	<author>
		<name>asaxing</name>
		<uri>https://www.v2ex.com/member/asaxing</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>昨天晚上用刚买半个月的 MacBook Pro 在 b 站看视频，屏幕左侧突然发出噼里啪啦的电流声，然后自动重启。重启后电脑正常运行，屏幕肉眼没看出问题，有什么工具可以检测吗？有没有朋友遇到过相同的情况。</p>
<p>当时电脑没有连接电源，也没有用湿纸巾擦过屏幕。</p>

	]]></content>
</entry><entry>
	<title>[Apple] iMazing 不能直接删除&gt;iOS15 的照片吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896966#reply0" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896966</id>
	<published>2022-11-22T01:12:19Z</published>
	<updated>2022-11-22T01:12:19Z</updated>
	<author>
		<name>pppguest3962</name>
		<uri>https://www.v2ex.com/member/pppguest3962</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>买了 iMazing 2.16 正版，其它功能还好，似乎在管理照片的功能里，点击删除照片，半天卡在那里，最后只能退出 iMazing 了，<br/>
不知道是我目前这台 PC 的问题，还是 iOS 大于 15 的都删除不了？               </p>
<p>如果 iMazing 不行，目前哪个 PC 管理软件可对 iPhone (&gt;iOS 15)照片进行直接浏览删除？</p>

	]]></content>
</entry><entry>
	<title>[问与答] Plex 怎么买便宜一些？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896965#reply11" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896965</id>
	<published>2022-11-22T01:02:52Z</published>
	<updated>2022-11-22T01:28:03Z</updated>
	<author>
		<name>XiaoBaiYa</name>
		<uri>https://www.v2ex.com/member/XiaoBaiYa</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>原本想着等黑五，结果黑五才折扣 25%</p>
<p>淘宝才 300 多，但是之前买过一次掉了，退款了，想知道有什么更便宜的方式。</p>

	]]></content>
</entry><entry>
	<title>[Edge] 当用户首次打开 Edge 浏览器，就必定会同意的一件事</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896964#reply1" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896964</id>
	<published>2022-11-22T00:59:09Z</published>
	<updated>2022-11-22T01:12:27Z</updated>
	<author>
		<name>orangie</name>
		<uri>https://www.v2ex.com/member/orangie</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	如果使用 Windows 的 Edge ，无论出于任何原因首次点开了 edge ，edge 会打开全屏窗口和对话框要求同意协议并继续，用户没有任何可以不同意、关闭窗口的途径，除了任务管理器杀死它，但是那也不管用，因为杀死之后 edge 会默认你同意了，再次打开的时候会发现不要求你同意协议了。
	]]></content>
</entry><entry>
	<title>[问与答] 请假一个问题 关于视频网站的存储</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896963#reply4" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896963</id>
	<published>2022-11-22T00:57:56Z</published>
	<updated>2022-11-22T01:21:39Z</updated>
	<author>
		<name>lairdnote</name>
		<uri>https://www.v2ex.com/member/lairdnote</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<ul>
<li>像这种视频网站 <a href="https://cutebsd.com/index.php/vod/play/id/1032/sid/1/nid/1.html" rel="nofollow">这里</a></li>
</ul>
<h3>怎么存储视频的呢？</h3>

	]]></content>
</entry><entry>
	<title>[优惠信息] Pixelmator Pro 应用商店半价，可以考虑入了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896962#reply0" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896962</id>
	<published>2022-11-22T00:57:00Z</published>
	<updated>2022-11-22T00:56:00Z</updated>
	<author>
		<name>neochen13</name>
		<uri>https://www.v2ex.com/member/neochen13</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，现在 128 ，好价</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 稳定的 ipv6 外网出口</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896961#reply1" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896961</id>
	<published>2022-11-22T00:51:05Z</published>
	<updated>2022-11-22T01:13:26Z</updated>
	<author>
		<name>frostashe</name>
		<uri>https://www.v2ex.com/member/frostashe</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>测试了一下 cubecloud 香港的 ipv6 地址，不仅延迟高达 100 ，而且丢包率稳定在 30%。求问哪里可以买到香港或者北美的稳定 ipv6 出口主机呢</p>

	]]></content>
</entry><entry>
	<title>[问与答] 现阶段换机的纠结</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896960#reply5" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896960</id>
	<published>2022-11-22T00:50:28Z</published>
	<updated>2022-11-22T01:31:02Z</updated>
	<author>
		<name>starving</name>
		<uri>https://www.v2ex.com/member/starving</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>事情是这样的，目前主力机是 mate40 ，但是最近感觉续航开始下降了（电池健康 90%）
偶尔看到了 sumsung s22 外观有点喜欢了
怎么选择
求推荐</p>

	]]></content>
</entry><entry>
	<title>[问与答] 求助，作为证据的短信被删除，有没有办法还原恢复？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896959#reply5" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896959</id>
	<published>2022-11-22T00:41:19Z</published>
	<updated>2022-11-22T01:25:25Z</updated>
	<author>
		<name>legend4</name>
		<uri>https://www.v2ex.com/member/legend4</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>求助，打官司要用的证据，大部分存在一部很旧的手机里，手机型号是三星 S5831i ，安卓 2.3 的系统，但作为证据的短信被人删除了一部分，请问各位有没有办法把短信还原，或是读取已删除的短信，能让法官相信短信的真实性的方法，因为开庭日期马上就到了，现在是万分火急，所以在此求助好心人能不能帮帮忙。</p>
<p>说明，手机是很久的系统，配置空间很难安装 app ，希望找到的方法能够恢复短信，同时保证不破坏手机里面已有的证据，包括一部分短信和录音，谢谢！！</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 美股 etf 热门股票加密币网页监控</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896958#reply0" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896958</id>
	<published>2022-11-22T00:28:53Z</published>
	<updated>2022-11-22T00:25:53Z</updated>
	<author>
		<name>suguo210</name>
		<uri>https://www.v2ex.com/member/suguo210</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://stocks.cyclopes.top/" rel="nofollow">https://stocks.cyclopes.top/</a>
闲的没事搞个，iex 数据源。
每小时数据更新</p>

	]]></content>
</entry><entry>
	<title>[问与答] 有没有一些靠谱的渠道可以买到海外的美妆产品呀？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896957#reply5" />
	<id>tag:www.v2ex.com,2022-11-22:/t/896957</id>
	<published>2022-11-22T00:15:07Z</published>
	<updated>2022-11-22T01:01:44Z</updated>
	<author>
		<name>foreverstandbyu</name>
		<uri>https://www.v2ex.com/member/foreverstandbyu</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	帮女票买一些海外的化妆品。大家有没有靠谱的渠道。<br />感谢。
	]]></content>
</entry><entry>
	<title>[问与答] 有没有人比较深入了解 1.1.1.1 warp 手机版？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896956#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896956</id>
	<published>2022-11-21T23:49:04Z</published>
	<updated>2022-11-20T23:49:04Z</updated>
	<author>
		<name>FishGrazier</name>
		<uri>https://www.v2ex.com/member/FishGrazier</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	在 连接类型→DNS 设置里，有两种线路可选，一种是 WARP ，另一种是 HTTPS ，有无大佬通晓这两种连接方式的区别？
	]]></content>
</entry><entry>
	<title>[酷工作] [上海]-[不加班]-[外企] 招 中级前端(3 年经验起)，高级安卓（5 年起，要求懂 Java ），中级 devOps（3 年起）</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896955#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896955</id>
	<published>2022-11-21T23:48:57Z</published>
	<updated>2022-11-21T23:45:57Z</updated>
	<author>
		<name>xsldebugger</name>
		<uri>https://www.v2ex.com/member/xsldebugger</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>公司福利</p>
<hr/>
- 14 薪（写进 offer ）+ 5% 左右浮动的奖金
- 14 天年假
- 可申请人才引进落沪
- 可申请人才公寓
- 公司给员工配意外险，医疗险，寿险，重疾险，看病不花钱
- 补充公积金
<hr/>
英语，一般要求读写没问题，口语看部门要求，JD 戳 https://mf-refer.xianshenglu.xyz/ <hr/>
**注: 2022 年底正在谈被加拿大 top2 外企收购情况，公告称一年内不会有大动作。**
        - Software Java Engineer Intern / 
<pre><code>    - Front-end Engineer / 15-23K
</code></pre>

	]]></content>
</entry><entry>
	<title>[宽带症候群] Cloudflare 测速更新了，多出了丢包率测试 speed.cloudflare.com</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896954#reply3" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896954</id>
	<published>2022-11-21T22:39:44Z</published>
	<updated>2022-11-22T01:30:18Z</updated>
	<author>
		<name>AlphaTauriHonda</name>
		<uri>https://www.v2ex.com/member/AlphaTauriHonda</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	Cloudflare 测速 <a target="_blank" href="http://speed.cloudflare.com" rel="nofollow noopener">speed.cloudflare.com</a><br />我前几天用这个网站测速的时候发现 Cloudflare 更新了丢包率测试。<br /><br />在左下角 Packet Loss Measurements 的 Packet Loss Test 。<br /><a target="_blank" href="/i/0O42NW9j.png" rel="nofollow noopener" target="_blank" title="在新窗口打开图片 0O42NW9j.png"><img src="//i.v2ex.co/0O42NW9j.png" class="embedded_image"></a><br />它会用 1000 个 UDP 包测试丢包率。看来我的网络还不错，连接 Cloudflare 完全不丢包。<br /><br />不过 <a target="_blank" href="http://speed.cloudflare.com" rel="nofollow noopener">speed.cloudflare.com</a> 上的丢包率测试大概需要 NAT TYPE 1(Full Cone)。<br />所以对于连接 Cellular Data 流量和其它没有 Full Cone 的用户不太友好。<br />对于 NAT 类型的解释看 <a target="_blank" href="https://www.cisco.com/c/en/us/support/docs/ip/network-address-translation-nat/217599-understand-nat-to-enable-peer-to-peer-co.html" rel="nofollow noopener">https://www.cisco.com/c/en/us/support/docs/ip/network-address-translation-nat/217599-understand-nat-to-enable-peer-to-peer-co.html</a><br /><br /><br />不是 Full Cone 大概率会出现这样的错误。<br /><a target="_blank" href="/i/PM5JmVhm.png" rel="nofollow noopener" target="_blank" title="在新窗口打开图片 PM5JmVhm.png"><img src="//i.v2ex.co/PM5JmVhm.png" class="embedded_image"></a><br />Unable to perform measurement: ICE connection timeout!<br /><br />但是测试结果还是给出了丢包率，千分之二。有时候出同样的错误丢包率测试就失败了，给出的结果里没有丢包率，有点奇怪。<br /><br />你们到最近的 Cloudflare 节点的丢包率是多少？<br />可以考虑改成高雄节点 KHH ，和默认的对比一下。<a target="_blank" href="https://www.v2ex.com/t/894682" rel="nofollow noopener">https://www.v2ex.com/t/894682</a>
	]]></content>
</entry><entry>
	<title>[问与答] 问下大家，在 function 里定义的 type 和在 function 外定义有区别嘛？ Typescript</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896953#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896953</id>
	<published>2022-11-21T22:39:28Z</published>
	<updated>2022-11-13T22:39:28Z</updated>
	<author>
		<name>tomtom9</name>
		<uri>https://www.v2ex.com/member/tomtom9</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	这里的 function 是 function component ，是在写前端时遇到的疑惑，感谢！<br /><br /><br />我能想到的就只有作用域的区别了。
	]]></content>
</entry><entry>
	<title>[问与答] 如何清除 Markdown 的 media 目录下的多余图片？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896952#reply6" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896952</id>
	<published>2022-11-21T22:04:40Z</published>
	<updated>2022-11-22T00:51:23Z</updated>
	<author>
		<name>heliushao88</name>
		<uri>https://www.v2ex.com/member/heliushao88</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>问下大家</p>
<p>我现在用 Markdown 当个人知识库，比如有 3 条记录，每条记录上 3 个本地图片，程序会都放在 .md 文件的同目录 media 里，我如何做到在删除 <a href="http://1.md" rel="nofollow">1.md</a> 的时候，media 里的图片，也相应的删除对应的 3 张呢？</p>
<p>不然以后笔记多了，这里 1 文件是越来越多，2 是有用无用都在一起，大家用什么办法删除呢？</p>
<p>或者有什么办法让 .md 文件跟附件 和别的 .md 和附件不放在一起吗？</p>
<p>万分感谢</p>

	]]></content>
</entry><entry>
	<title>[问与答] ppp 协议、电路交换 和 点对点信道 这三者是什么关系？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896951#reply1" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896951</id>
	<published>2022-11-21T21:15:37Z</published>
	<updated>2022-11-21T21:19:48Z</updated>
	<author>
		<name>lopssh</name>
		<uri>https://www.v2ex.com/member/lopssh</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>数据链路层的"点对点信道"指的就是"电路交换"吗？</p>
<p>PPP 协议是用于电路交换的协议吗？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 工作中遇到的数学/算法问题，求教怎么解决</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896949#reply6" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896949</id>
	<published>2022-11-21T20:20:11Z</published>
	<updated>2022-11-21T22:17:04Z</updated>
	<author>
		<name>zib</name>
		<uri>https://www.v2ex.com/member/zib</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	老板跟合伙人需要瓜分 40 套共 4500 平米房产，没有固定的户型，每套面积 35 ～ 150 平米，还有几套大面积，总共四种朝向。占股比例为 42/30/14/14 。<br /><br />希望构造一个相对公平的分法，做到:<br />- 每人实际分配面积与按占股比例应得面积偏差小于 1 平米<br />- 每种朝向都尽量按占股比例分配面积<br />- 每类尺寸尽量按占股比例分配套数（最终结果是每人套数比例与持股比例近似）<br /><br />请教应该如何操作，用什么工具（徒手 /Excel/编程）？<br /><br />谢谢
	]]></content>
</entry><entry>
	<title>[酷工作] [吉隆坡] 招聘 Flutter/Node.js/运维/VUE/自动测试/系统运维/高级 UI 等</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896948#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896948</id>
	<published>2022-11-21T20:16:22Z</published>
	<updated>2022-11-19T20:15:22Z</updated>
	<author>
		<name>a1134551535</name>
		<uri>https://www.v2ex.com/member/a1134551535</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	工作时间：10:00-19:00  双休<br />福利：提供酒店住宿或补贴，提供餐补、带薪假期等<br />职缺：<br /> [ VUE ] 五年以上,25-40K<br /> [测试] 五年以上,15-25K<br /> [运维] 三年以上,25-40K<br /> [ Flutter ] 三年以上,25-35K<br /> [ Node.js ] 五年以上,25-40K<br /> [高级 UI ] 五年以上,25-45K<br />薪资单位：RMB （奖金不计）<br /><br /><br />以上均要求持有护照，工作地点吉隆坡<br /><br />联络方式：<br />微信：a1134551535   QQ：1134551535      telegram：@Wiz888
	]]></content>
</entry><entry>
	<title>[分享发现] 分享一下收藏过的极好的 cheatsheet？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896947#reply1" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896947</id>
	<published>2022-11-21T19:39:09Z</published>
	<updated>2022-11-21T21:38:43Z</updated>
	<author>
		<name>Coelacanth</name>
		<uri>https://www.v2ex.com/member/Coelacanth</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>例子 <a href="https://imgur.com/YLInLlY" rel="nofollow">https://imgur.com/YLInLlY</a></p>

	]]></content>
</entry><entry>
	<title>[问与答] 蛤？ Edge 浏览器这么智能的吗，背后真相是否令人暖心</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896946#reply8" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896946</id>
	<published>2022-11-21T19:23:25Z</published>
	<updated>2022-11-22T01:24:23Z</updated>
	<author>
		<name>SilencerL</name>
		<uri>https://www.v2ex.com/member/SilencerL</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<a target="_blank" href="/i/z4WV6g5Ol.png" rel="nofollow noopener" target="_blank" title="在新窗口打开图片 z4WV6g5Ol.png"><img src="//i.v2ex.co/z4WV6g5Ol.png" class="embedded_image"></a><br /><br />我到底该如何顺利的访问 <a target="_blank" href="https://docs.gitea.io/zh-cn/comparison/" rel="nofollow noopener">https://docs.gitea.io/zh-cn/comparison/</a><br />点关闭没反应，点刷新没用<br /><br />深夜咆哮.jpg
	]]></content>
</entry><entry>
	<title>[分享发现] tradingview 黑五</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896945#reply6" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896945</id>
	<published>2022-11-21T19:08:14Z</published>
	<updated>2022-11-22T01:36:47Z</updated>
	<author>
		<name>suguo210</name>
		<uri>https://www.v2ex.com/member/suguo210</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>TV black friday 开撸咯
<a href="https://www.tradingview.com/black-friday/" rel="nofollow">https://www.tradingview.com/black-friday/</a>
哈哈，搞了个 Premium ，100 个 alert 挂大盘鸡上，妈妈再也不用担心我爆仓了。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 请问各位安卓用户是从哪里下载 APP 的？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896944#reply14" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896944</id>
	<published>2022-11-21T17:27:55Z</published>
	<updated>2022-11-21T01:09:24Z</updated>
	<author>
		<name>adian</name>
		<uri>https://www.v2ex.com/member/adian</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>今天想寻找一个学习五十音图的 APP ，在手机自带的应用市场里下了几个应用，发现学个音图又是闯关又是测试的，想要解锁后面的音图还需要注册账号，我只是想找一个学习 APP 而已，不需要那么多功能，然后在豌豆荚市场，百度市场找，最后在 GooglePlay 上找到了一个简单的 APP ，发现又不让下。请问有没有什么好的方法，像 PC 端那样，下一个安装包就可以，或者像苹果那样个人开发者提交一个小 APP ，或者还有什么其他的方法？我对 Android 里的应用印象还停留在每天应用市场不断涌现新的有创意的 APP 的时期（😂，感谢回答！</p>

	]]></content>
</entry><entry>
	<title>[优惠信息] Plex 终生版折扣开始，有老哥有更优惠的办法吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896943#reply16" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896943</id>
	<published>2022-11-21T17:24:39Z</published>
	<updated>2022-11-22T01:39:10Z</updated>
	<author>
		<name>willrvr</name>
		<uri>https://www.v2ex.com/member/willrvr</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[路由器] 咨询一下 V 友们都在用什么路由器？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896942#reply36" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896942</id>
	<published>2022-11-21T16:34:20Z</published>
	<updated>2022-11-22T01:38:40Z</updated>
	<author>
		<name>CHENYIMING</name>
		<uri>https://www.v2ex.com/member/CHENYIMING</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	入手价格多少
	]]></content>
</entry><entry>
	<title>[Linux] dnf 安装 rpm 包时怎么同步接受 gpgkey 呢？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896941#reply3" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896941</id>
	<published>2022-11-21T16:25:36Z</published>
	<updated>2022-11-21T18:25:36Z</updated>
	<author>
		<name>dzdh</name>
		<uri>https://www.v2ex.com/member/dzdh</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>问题是这样的</p>
<p>我在 almalinux 中<code>dnf install -y epel-release</code>。ok ，没问题，装上了。在<code>/etc/pki/rpm-gpg</code>中有个文件<code>RPM-GPG-KEY-EPEL-9</code></p>
<p>然后我执行<code>rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-9</code>没问题。</p>
<p>但是在<code>dnf update</code>时，仍然会提示是否信任<code>/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-9</code></p>
<p>那我<code>rpm --import</code>了个寂寞？</p>
<p>strace 了 rpm 命令看操作了<code>/var/lib/rpm/rpmdb.sqlite</code>一个 sqlite 数据库，这个文件是写入到数据库了吗？</p>
<p>能不能或有没有什么方法像 debian/ubuntu 那样把 key 文件放到 /etc/apt/trusted.d/或者 /usr/share/gpg/key 目录中就表示被接受了的方法呢？</p>
<p>在 rhel/rocky 都复现了</p>

	]]></content>
</entry><entry>
	<title>[分享发现] Bundlehunt 黑五优惠有人一起拼包吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896939#reply1" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896939</id>
	<published>2022-11-21T16:07:09Z</published>
	<updated>2022-11-21T16:04:09Z</updated>
	<author>
		<name>ChellFong</name>
		<uri>https://www.v2ex.com/member/ChellFong</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://bundlehunt.com/bundle/2022-holiday-mac-bundle" rel="nofollow">https://bundlehunt.com/bundle/2022-holiday-mac-bundle</a><br/>我打算要一个 mountain dunck 和 agenda</p>

	]]></content>
</entry><entry>
	<title>[分享创造] emmet2-mode，强化 Emmet，提升前端编码效率</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896938#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896938</id>
	<published>2022-11-21T15:56:09Z</published>
	<updated>2022-11-21T15:56:09Z</updated>
	<author>
		<name>P233</name>
		<uri>https://www.v2ex.com/member/P233</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>前段时间 <a href="https://github.com/manateelazycat" rel="nofollow">懒猫</a> 大佬写了 <a href="https://github.com/manateelazycat/deno-bridge" rel="nofollow">deno-bridge</a>, 实现了 elisp 与 deno 的通信。然后这个在脑海里由来已久的想法终于有机会去实现了。</p>
<p>Deno 可以调用 emmet 的 NPM 包，所以实现的思路就是做一个 Emmet 的预处理器和后处理器拓展 Emmet 的功能：</p>
<ol>
<li>在 abbr 的任意位置展开，便于修改</li>
<li>加入更多 JSX 的支持，尤其是展开 className</li>
<li>自动检测样式标签和样式熟悉，展开 CSS</li>
<li>添加对 CSS 和 SCSS 的 at-rules 支持</li>
<li>展开 CSS 的伪类和伪元素</li>
<li>大量对 CSS abbr 的改进</li>
</ol>
<p>一些示例：</p>
<pre><code>Component                     =&gt; &lt;Component&gt;|&lt;/Component&gt;
Component/                    =&gt; &lt;Component /&gt;
Component./                   =&gt; &lt;Component className={|} /&gt;
Component.class               =&gt; &lt;Component className={css.class}&gt;|&lt;/Component&gt;
Component.Subcomponent        =&gt; &lt;Component.Subcomponent&gt;|&lt;/Component.Subcomponent&gt;
Component.Subcomponent.class  =&gt; &lt;Component.Subcomponent className={css.class}&gt;|&lt;/Component.Subcomponent&gt;
Component.Subcomponent.a.b.c  =&gt; &lt;Component.Subcomponent className={clsx(css.a, css.b, css.c)}&gt;|&lt;/Component.Subcomponent&gt;
Component.Subcomponent.a.b.c/ =&gt; &lt;Component.Subcomponent className={clsx(css.a, css.b, css.c)} /&gt;
</code></pre>
<pre><code>fz(1)      =&gt; font-size: ms(1);
p(1)(2)(3) =&gt; padding: rhythm(1) rhythm(2) rhythm(3);

p--a--b--c =&gt; padding: var(--a) var(--b) var(--c);

mA  =&gt; margin: auto;

fw2 =&gt; font-weight: 200;

t0,r0,b0,l0 === t0+r0+b0+l0

@kf =&gt; @keyframes
@in =&gt; @if not | {}

:fu =&gt;
&amp;:focus {
  |
}

:n(:fc) =&gt;
&amp;:not(:first-child) {
  |
}

:n(:fc,:lc):be =&gt;
&amp;:not(:first-child):not(:last-child) {
  |
}
</code></pre>
<p>详情请大家移步： <a href="https://github.com/P233/emmet2-mode" rel="nofollow">https://github.com/P233/emmet2-mode</a></p>

	]]></content>
</entry><entry>
	<title>[Java] Magician-Route 发布啦，去除反射，性能得到有效提升</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896937#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896937</id>
	<published>2022-11-21T15:42:20Z</published>
	<updated>2022-11-21T15:41:20Z</updated>
	<author>
		<name>Joker123456789</name>
		<uri>https://www.v2ex.com/member/Joker123456789</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>Magician-Route 是 Magician 的官方 web 组件，由 Magician-Web 发展而来的新项目，主要是去掉了里面的反射，牺牲了一点易用性，将侧重点放在了性能上，两者的区别主要在于路由和拦截器的创建方式上。</p>
<p>Magician-Web 依然会继续维护，如果大家对反射的性能不是特别抗拒，而且更喜欢 Magician-Web 的风格，大可放心使用。</p>
<h2>创建路由</h2>
<p>由注解的形式改成了 传参的形式，每一次的请求都不再需要通过反射来执行了路由了，性能得到了有效提升</p>
<ul>
<li>这样的类可以创建多个，根据你的需求 将路由分开创建</li>
<li>每个路由内部，如果没有特别的需要 就不需要加 try-catch ，框架内部做了处理，一旦发生异常，会将异常信息以 json 的形式响应给客户端</li>
<li>直接返回需要响应的对象，框架会自动转成 json 并返回给客户端，你也可以采用如下示例中 “Magician 的原生响应方式” 将数据返回给客户端，具体可以看 Magician 文档的《响应参数》</li>
</ul>
<pre><code class="language-java">@Route
public class DemoRoute implements MagicianInitRoute {


    @Override
    public void initRoute(MagicianRouteCreate routeCreate) {

        routeCreate.get("/demo/getForm", request -&gt; {

            return "{"msg":"hello login"}";

        });

        // Magician 的原生响应方式
        routeCreate.get("/demo/getForm2", request -&gt; {

            request.getResponse().sendJson("{"msg":"hello login"}");
            return null;

        });

        routeCreate.post("/demo/json", request -&gt; {

            DemoResponseVo demoResponseVo = new DemoResponseVo();
            demoResponseVo.setName("Beerus");

            return demoResponseVo;

        });
    }

}
</code></pre>
<h2>将参数转化为实体对象</h2>
<p>如果你想让实体类顺利的接收到参数，并且让参数验证生效，那么必须做如下步骤， 这种方式 底层是用的反射，如果你无法接受反射的性能，那么可以不用这种方式，选择权在你自己</p>
<ul>
<li>只转化</li>
</ul>
<pre><code class="language-java">routeCreate.get("/demo/getForm", request -&gt; {

    DemoVO demoVO = ConversionUtil.conversion(request, DemoVO.class);

    return "{"msg":"hello login"}";
});
</code></pre>
<ul>
<li>转化 + 参数验证</li>
</ul>
<p>如果验证失败，conversionAndVerification 方法会抛出一个异常，这个异常会自动被响应给客户端，不需要开发者处理</p>
<pre><code class="language-java">routeCreate.get("/demo/getForm", request -&gt; {

    DemoVO demoVO = ConversionUtil.conversionAndVerification(request, DemoVO.class);

    return "{"msg":"hello login"}";
});
</code></pre>
<p>如果你想获取到验证失败的提示信息 自己处理，可以用这种方式</p>
<pre><code>routeCreate.get("/demo/getForm", request -&gt; {

    try {
        DemoVO demoVO = ConversionUtil.conversionAndVerification(request, DemoVO.class);
    } catch(VerificationException e){
        // 这个就是 验证失败的提示信息
        String msg = e.getMessage();
    }
    
    return "{"msg":"hello login"}";
});
</code></pre>
<h2>创建拦截器</h2>
<p>跟路由一样，这种类也可以创建多个，根据你的需求 分开创建拦截器</p>
<ul>
<li>第一个参数为拦截规则，全部拦截 配置 * 即可，否则的话，必须以 / 开头</li>
<li>如果拦截器顺利放行的话，返回 SUCCESS 就好了，如果不给通过，那么直接返回 错误提示信息（返回对象会自定转成 json ）</li>
</ul>
<pre><code class="language-java">@Interceptor
public class DemoInter implements MagicianInitInterceptor {

    @Override
    public void initInterceptor(MagicianInterceptorCreate interceptorCreate) {

        interceptorCreate.addInterceptor("/demo/*", new MagicianInterceptor() {
            @Override
            public Object before(MagicianRequest magicianRequest) {
                System.out.println("进入了拦截器");
                return SUCCESS;
            }

            @Override
            public Object after(MagicianRequest magicianRequest, Object o) {
                return SUCCESS;
            }
        });

        interceptorCreate.addInterceptor("/*/form", new MagicianInterceptor() {
            @Override
            public Object before(MagicianRequest magicianRequest) {
                System.out.println("进入了拦截器 2");
                return SUCCESS;
            }

            @Override
            public Object after(MagicianRequest magicianRequest, Object o) {
                return SUCCESS;
            }
        });
    }

}
</code></pre>
<p>可以访问官网了解更多：<a href="https://magician-io.com" rel="nofollow">https://magician-io.com</a></p>

	]]></content>
</entry><entry>
	<title>[YouTube] youtube 新的播放页面真让人抓狂</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896936#reply5" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896936</id>
	<published>2022-11-21T15:37:31Z</published>
	<updated>2022-11-21T18:29:53Z</updated>
	<author>
		<name>bigbyto</name>
		<uri>https://www.v2ex.com/member/bigbyto</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>以前的 comments 是直接下面展示的，现在下面是一堆视频，乱七八糟的。想看评论还需要点击从侧边展开，感到极大的不适。</p>

	]]></content>
</entry><entry>
	<title>[Kubernetes] 2.2. [kustz] 定义字符串创建 Service</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896935#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896935</id>
	<published>2022-11-21T15:31:11Z</published>
	<updated>2022-11-21T15:31:11Z</updated>
	<author>
		<name>uyinn</name>
		<uri>https://www.v2ex.com/member/uyinn</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h1>2.2. [kustz] 定义字符串创建 Service</h1>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://files.mdnice.com/user/20280/13e7e8d0-1576-42e9-9865-6969554b3085.jpg"/></p>
<blockquote>
<p>大家好， 我是老麦， 一个小运维。
今天我们为 kustz 增加 Service 功能。</p>
</blockquote>
<p>代码还是在 Github ， 文章中有不清楚的可以上去看看</p>
<p><a href="https://github.com/tangx/kustz/tree/chapter/02-define-strings-to-service" rel="nofollow">https://github.com/tangx/kustz/tree/chapter/02-define-strings-to-service</a></p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://files.mdnice.com/user/20280/96e40152-23fc-4896-8b2b-a137f8cce0b3.png"/></p>
<h2>Kube Service</h2>
<p>通过 <code>kubectl create service</code> 命令可以看到，service 的模式还是挺多的。</p>
<pre><code class="language-bash">$ kubectl create service -h
Create a service using a specified subcommand.

Aliases:
service, svc

Available Commands:
  clusterip      Create a ClusterIP service
  externalname   Create an ExternalName service
  loadbalancer   Create a LoadBalancer service
  nodeport       Create a NodePort service
</code></pre>
<p>除了以上列出来的四种之外， 还用一种 <code>Headless Service</code>( <a href="https://kubernetes.io/docs/concepts/services-networking/service/#headless-services)%E3%80%82" rel="nofollow">https://kubernetes.io/docs/concepts/services-networking/service/#headless-services)。</a></p>
<p><code>Headless Service</code> 是当 <strong>类型</strong> 为 ClusterIP ，且 IP 值为 <code>None</code>。 所以是 <code>Cluster IP</code> 的一种特殊情况。</p>
<pre><code class="language-bash"># 创建一个新的 ClusterIP service
$ kubectl create service clusterip my-cs --tcp=5678:8080

# 创建一个新的 ClusterIP service (headless 模式)
$ kubectl create service clusterip my-cs --clusterip="None"
</code></pre>
<h2>Service API 中的 Port</h2>
<p>如果你之前留意过 Service API ， 你就应该会发现 API 中带有 port 的字段就有 3 个。 弄清楚他们分别对应什么<strong>这点很重要</strong></p>
<p>先来看看一个 <code>NodePort</code> 的 API 。</p>
<pre><code class="language-yaml"># $ kubectl create service nodeport my-cs --tcp=80:8080 --dry-run=client -o yaml
apiVersion: v1
kind: Service
  # ... 省略
spec:
  ports:
  - name: 80-8080
    nodePort: 18080
    port: 80
    protocol: TCP
    targetPort: 8080
  selector:
    app: my-cs
  type: NodePort
</code></pre>
<p>对于 <code>nodePort, port, targetPort</code> 这三个名词如果还不能直接回答的话， 认真记住下面这张图。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://files.mdnice.com/user/20280/8635387b-6040-4fa2-a1aa-8318bebf7714.png"/></p>
<ol>
<li>集群外部用户通过 <code>nodePort -&gt; port -&gt; targetPort</code>。 </li>
<li>集群内部用户通过 <code>port -&gt; targetPort</code>。</li>
</ol>
<h2>kubez 中的 service 规则</h2>
<p>在看随后的规则的时候， 再回头看看之前的 API ， 能否找到几个关键要素。</p>
<ol>
<li>端口映射规则。</li>
<li>Service 类型。</li>
<li>端口协议。 通常不太关注。</li>
<li>明确且有意义区分符号。 这是一个隐藏点。</li>
</ol>
<ul>
<li>clusterip: <code>80:8080</code>。 无任何特殊符号。</li>
<li>headless: <code>#80:8080</code>。 <strong>注释符号 #</strong> 顾名思义， 就是把某些 Head <strong>隐藏</strong> 之后成为 Headless 。</li>
<li>nodeport: <code>!18080:80:800</code> / <code>!80:8080</code>。 <strong>叹号 !</strong> 表示重要， 因为我们要暴露端口到外部， 这是一个风险点。NodePort 有两个规则， 是因为如果 <strong>不指定</strong> 端口就使用 <strong>随机</strong> 端口。</li>
<li>externalname: <code>@example.com</code>。 **AT @**， 指定或指向某个地方。</li>
<li>loadbalancer: <code>%80:8080</code>。 **分号 %**， 看起来就像个天平， 一人一半， 分流。</li>
</ul>
<p>上面的规则中， 并没有提到 <strong>端口协议</strong>。</p>
<ul>
<li>含有协议的规则 <code>tcp://80:8080</code> / <code>udp://!18080:80:8080</code>。 就用协议地址的写法， 使用 <code>://</code> 分割 <strong>协议</strong> 和 <strong>转发规则</strong>。</li>
</ul>
<p>之所以协议拿出来单独说， 其原因是协议通常不太关注， 默认都用 TCP 。因此在 kustsz 中也作为可省略字段。</p>
<blockquote>
<p>以上规则都是个人习惯。 仅供参考。</p>
</blockquote>
<h2>代码实现</h2>
<p>凑 API 还是很简单的， 不过需要注意当出现<strong>多个规则</strong>的时候<strong>怎样</strong>确定<strong>最终</strong>的 <code>Type</code>。</p>
<p>例如规则中存在 <code>ClusterIP, NodePort 和 ExternalName</code>， 那在最终呈现的时候，Type 值是顺序第一？逆序第一？还是冲突报错？ 一切看自己需求和习惯。</p>
<pre><code class="language-yaml">ports:
  - "8099:80"
  - "!28080:80"
  - "@example.com"
</code></pre>
<p>本章代码就先只实现两个，ClusterIP 和 NodePort 。 完整配置查看 <code>/pkg/kustz/kustz.yml</code></p>
<pre><code class="language-yaml"># ... 省略
service:
# ... 省略
  ports:
    - "80:8080" # cluster ip
    - "udp://!9998:8889" # 随机 nodeport
    # - "!20080:80:8080" # 指定 nodeport
</code></pre>
<h3>先说一个变更</h3>
<p>在 <code>/pkg/kustz/common.go</code> 中， 之前的 <code>func CommonLabels(kz *Config)</code> 函数变为了 <code>func (kz *Config) CommonLabels()</code> 方法。</p>
<pre><code class="language-go">func (kz *Config) CommonLabels() map[string]string {
	return map[string]string{
		"app": kz.Name,
	}
}
</code></pre>
<h3>生成 Service API</h3>
<p>在创建 Service API 的方法中还是中规中矩的在凑 API 。</p>
<pre><code class="language-go">
func (kz *Config) KubeService() *corev1.Service {

	ports, typ := ParsePortStrings(kz.Service.Ports)

	svc := &amp;corev1.Service{
		TypeMeta: metav1.TypeMeta{
			APIVersion: "v1",
			Kind:       "Service",
		},
		ObjectMeta: metav1.ObjectMeta{
			Name:   kz.Name,
			Labels: kz.CommonLabels(),
			// Namespace: kz.Namespace,
		},
		Spec: corev1.ServiceSpec{
			Selector: kz.CommonLabels(),
			Type:     typ,
			Ports:    ports,
		},
	}

	return svc
}
</code></pre>
<p>在 ObjectMeta 中可以注意到， <code>Namespace</code> 字段是被注释了的。 </p>
<ol>
<li>因为 namespace 是<strong>环境限定</strong>， 而非服务本身特性。 即部署在 ns-a 和 ns-b 中， 服务配置本身并没有改变。</li>
<li>对于 namespace 值提供， 我想放在 <code>kustomization.yml</code> 中, 通过 <code>kubectl apply -n ns-demo</code> 提供。</li>
</ol>
<blockquote>
<p>同样的， 在 <code>/pkg/kustz/k_deployment.go</code> 中的 Deployment API 的 ObjectMeta 也删除了 namespace 字段。</p>
</blockquote>
<h3>PortString</h3>
<p>从 <code>corev1.ServiceSpec</code> 中可以看到，Type 和 Ports 是并列关系， 且只有一个 Type</p>
<pre><code class="language-go">		Spec: corev1.ServiceSpec{
			Selector: kz.CommonLabels(),
			Type:     typ,
			Ports:    ports,
		},
</code></pre>
<p>而在我们 kustz.yml 文件中, <code>!9998:8889</code>,  Type <strong>符号</strong> 存在于每一条规则中。 </p>
<p>因此， 通过函数 <code>ParsePortStrings</code> 解析所有规则， 并返回一个并列关系。</p>
<pre><code class="language-go">func ParsePortStrings(values []string) ([]corev1.ServicePort, corev1.ServiceType) {
// ...
	for _, value := range values {
		port := NewPortFromString(value)
		if port.Type != corev1.ServiceTypeClusterIP {
			typ = port.Type
		}
		sps = append(sps, port.KubeServicePort())
	}

	return sps, typ
}
</code></pre>
<p>在 for 循环中， 处理了当 <code>ports</code> 出现多个 Type 规则的时候以谁为准的问题， 正如我们之前提到的。</p>
<p>这里我使用了 <strong>Type 默认为 ClusterIP ， 且最后出现的 <code>非 ClusterIP</code> 为准（如有）</strong> 。</p>
<p>为此， 我定义一个命令 <code>PortString</code> 的结构体， </p>
<ol>
<li>通过 <code>NewPortFromString</code> 函数从 <strong>字符串</strong> 中提取关键信息。</li>
<li>并通过 <code>PortString KubeServicePort</code> 方法将结构体转换成的 <code>corev1.ServicePort</code></li>
</ol>
<pre><code class="language-go">type PortString struct {
	Port       int32
	TargetPort int32
	NodePort   int32
	Protocol   corev1.Protocol
	Type       corev1.ServiceType
}

// NewPortFromString parse port from string to PortString
func NewPortFromString(value string) PortString {}

// KubeServicePort return a corev1.ServicePort
func (p *PortString) KubeServicePort() corev1.ServicePort {}
</code></pre>
<p><code>PortString</code> 提供了相应的方法按规则从 <code>string</code> 提取关键信息。
都是一些简单的字符串处理。</p>
<pre><code class="language-go">// toServiceClusterIP parse value from for ClusterIP
func (p *PortString) toServiceClusterIP(value string) {
}

// toServiceNodePort parse value from for NodePort
func (p *PortString) toServiceNodePort(value string) {
}
</code></pre>
<h2>测试</h2>
<p>在 <code>/pkg/kustz/kustz_test.go</code> 中， 拆分了 test 规则。</p>
<p>执行命令， 检查结果是不是和自己期待的一样。</p>
<pre><code class="language-bash">$ go test -timeout 30s -run ^Test_KustzService$ ./pkg/kustz/ -v
</code></pre>
<pre><code class="language-yaml">  ports:
    - "80:8080" # cluster ip
    - "udp://!9998:8889" # 随机 nodeport
</code></pre>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://files.mdnice.com/user/20280/628385ab-860f-46f5-b801-124ac9ef9c68.png"/></p>
<p>如果不是， 就回去检查代码吧。</p>

	]]></content>
</entry><entry>
	<title>[数据库] 在设计表的时候，库存表和商品表是推荐库存是放到 sku 字段里，还是单独拆两个表呢 ？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896932#reply3" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896932</id>
	<published>2022-11-21T15:22:41Z</published>
	<updated>2022-11-21T18:21:41Z</updated>
	<author>
		<name>zzzaloha</name>
		<uri>https://www.v2ex.com/member/zzzaloha</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>咨询一下,看业界通用的表设计，一般都是一个商品表， 然后商品表里有库存的属性， 想咨询一下，能否直接把库存放到商品字段上呢？ 感觉两个方案在扣减 / 添加库存的锁竞争其实都差不多。为什么倾向于单独放一个库存表呢 ？</p>

	]]></content>
</entry><entry>
	<title>[机械键盘] [软福利] keychron v4 键盘用户请进</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896931#reply1" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896931</id>
	<published>2022-11-21T15:13:30Z</published>
	<updated>2022-11-21T07:13:30Z</updated>
	<author>
		<name>loading</name>
		<uri>https://www.v2ex.com/member/loading</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	苦于 via 界面太难受，我在年初用 svelte 写了一个。<br /><br />最近购入一个 keychron v4 送人，顺手就在自己写的网站上加入了支持。<br /><br />使用要求：<br />1.键盘固件不需要改动，用自带的就行。<br />2.Microsoft EDGE 89+ （ chrome 应该也行，但我没做测试）<br /><br />使用方法，访问的的网站，点击配置界面，然后点击上面“usb 线缆”插头位置。<br /><br /><br />希望：<br />1.获得 v4 键盘的兼容问题反馈。<br />2.我站点的 UI 改进建议。<br />3.回复一下本贴，给点动力。<br /><br />网址： <a target="_blank" href="https://keeb.pro" rel="nofollow noopener">https://keeb.pro</a>
	]]></content>
</entry><entry>
	<title>[iPhone] ios 怎么关闭通知推送的震动, 但是保留打进来电话的震动啊</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896930#reply3" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896930</id>
	<published>2022-11-21T15:10:48Z</published>
	<updated>2022-11-21T18:09:48Z</updated>
	<author>
		<name>zoharSoul</name>
		<uri>https://www.v2ex.com/member/zoharSoul</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>翻了半天没找到怎么设置 求助大佬们</p>
<p>就是类似如图这样的效果
<img alt="457251669043715_.pic.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://cdn-us.imgs.moe/2022/11/21/637b96df7f885.jpg"/></p>

	]]></content>
</entry><entry>
	<title>[程序员] 市面有哪些好用的 AI 智能回复平台？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896929#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896929</id>
	<published>2022-11-21T15:10:26Z</published>
	<updated>2022-11-21T11:10:26Z</updated>
	<author>
		<name>yagamil</name>
		<uri>https://www.v2ex.com/member/yagamil</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>以前用过图灵机器人，不过目前好像显示使用次数了。</p>
<p>不知道有没有一些实用，性价比高的自动回复机器人，主要用来做公众号的自动回复接口</p>

	]]></content>
</entry><entry>
	<title>[问与答] 有哪些软件看上去是开源的，但实际上不是？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896928#reply32" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896928</id>
	<published>2022-11-21T14:55:08Z</published>
	<updated>2022-11-22T01:29:04Z</updated>
	<author>
		<name>systemcall</name>
		<uri>https://www.v2ex.com/member/systemcall</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>先说大家知道的比较多的，clash for windows ，这个软件似乎从来没有开源过<br/>
再就是最近发现 busybox for windows ，就是 sourceforge 上面的那个，是闭源的，似乎没有办法获取到源代码</p>

	]]></content>
</entry><entry>
	<title>[前端开发] daisyui 的 modal 实现原理是啥</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896927#reply2" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896927</id>
	<published>2022-11-21T14:48:48Z</published>
	<updated>2022-11-21T14:51:36Z</updated>
	<author>
		<name>lry</name>
		<uri>https://www.v2ex.com/member/lry</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>文档 <a href="https://daisyui.com/components/modal/" rel="nofollow">https://daisyui.com/components/modal/</a> 里的 demo 里只有 css</p>
<p>只用 label 和 checkbox 就实现了模态框的打开关闭，这个原理是什么</p>
<p>我在 create-react-app 和 tailwindcss 只需要在 tailwind.config.js 里加上 plugins: [    require("daisyui"),] 就能用了。。</p>

	]]></content>
</entry><entry>
	<title>[生活] 楼上邻居经常不承认小孩子跑步，跳绳啥的</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896926#reply43" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896926</id>
	<published>2022-11-21T14:46:28Z</published>
	<updated>2022-11-22T01:40:03Z</updated>
	<author>
		<name>samohyes</name>
		<uri>https://www.v2ex.com/member/samohyes</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>lz 搬进来后，发行对方每天都是 12 点多睡觉，早上 7 点不到醒了。之所以知道是因为每次她一起床都咚地一声往地面跳，然后准时把我叫醒。还会咚咚咚跑啥的。有几次小孩子晚上 11 点跑来跑去，我上去说，她 tm 刚开始还不承认，说孩子早睡了。后来承认了加我微信说以后告诉她。</p>
<p>后来我说了几次，不过反正她也改不了，我就这么忍了。然后孩子每天晚上 8 点多跳绳，然后不知道玩啥东西，敲来敲去。有时候到个 10 点多。前几天都跳了很久，我和她说她还说什么她们打卡跳绳才几分钟。我日，头都大了。真服了，买什么次顶楼，应该直接顶楼。。或者搞清楚楼上邻居吵不吵，不过这个好像不住几天没办法。。。</p>
<p>心累。不想买啥震楼神器，听说会被抓？而且她说每次都在 9 点前，这个意思是 9 点前她们在家里咚咚咚跑下也没啥问题？</p>

	]]></content>
</entry><entry>
	<title>[Docker] 互联网上第一个 docker 镜像怎么诞生的</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896925#reply7" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896925</id>
	<published>2022-11-21T14:44:44Z</published>
	<updated>2022-11-21T17:26:56Z</updated>
	<author>
		<name>lamesbond</name>
		<uri>https://www.v2ex.com/member/lamesbond</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>每次做 docker 镜像都要先 FROM 一个基础镜像，那第一个镜像又是怎么做出来的呢？总不能是造物主做一个出来吧</p>

	]]></content>
</entry><entry>
	<title>[Rust] Rust 编译 Wasm 文本格式的问题</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896924#reply9" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896924</id>
	<published>2022-11-21T14:39:24Z</published>
	<updated>2022-11-21T17:45:25Z</updated>
	<author>
		<name>horou</name>
		<uri>https://www.v2ex.com/member/horou</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我用 <strong>Rust</strong> 编译到<strong>WebAssembly</strong>后，看了一下<strong>WebAssembly</strong>的文本格式</p>
<p>发现里面能看到我定义的全局变量的值和函数名称，还有使用的库和库的路径。</p>
<p>想问一下各位大佬有没有什么办法能够去掉这些，或者让其不明文显示。</p>
<p><img alt="screenshot" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://imgur.com/bqcRMhE.png"/></p>

	]]></content>
</entry><entry>
	<title>[Linux] MIRACLE Linux ～ CentOSに替わる日本製の Linux</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896922#reply0" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896922</id>
	<published>2022-11-21T14:32:52Z</published>
	<updated>2022-11-21T06:32:52Z</updated>
	<author>
		<name>m4d3bug</name>
		<uri>https://www.v2ex.com/member/m4d3bug</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	MIRACLE LINUX ～ CentOSに替わる日本製のLinux ～ - YouTube<br /><br /><div class="embedded_video_wrapper"><iframe src="https://www.youtube.com/embed/NVwGngiGo4I" class="embedded_video" allowfullscreen="" type="text/html" id="ytplayer" frameborder="0"></iframe></div>
	]]></content>
</entry><entry>
	<title>[问与答] 国企搞什么岗位双向选择是不是就说明要变相裁员了？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896921#reply3" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896921</id>
	<published>2022-11-21T14:32:06Z</published>
	<updated>2022-11-21T14:31:06Z</updated>
	<author>
		<name>yuheng</name>
		<uri>https://www.v2ex.com/member/yuheng</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[程序员] 接上一个帖子，起诉中国联通诉状书已经提交，可是还是太慢了，还有其他的渠道吗。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896920#reply2" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896920</id>
	<published>2022-11-21T14:32:06Z</published>
	<updated>2022-11-21T16:59:51Z</updated>
	<author>
		<name>ajaxgoldfish</name>
		<uri>https://www.v2ex.com/member/ajaxgoldfish</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>上一个帖子： <a href="https://v2ex.com/t/896035" rel="nofollow">https://v2ex.com/t/896035</a></p>
<p>联通根本就不怕工信部、12345 试了也没用，但是起诉太慢了，有的排队需要 4 个月，还有可能因为材料不全什么的不过审退回来。大公司真的是太嚣张了，真的是无可奈何他。</p>
<p>想问问大家还有其他的渠道吗（就是不会影响诉讼的渠道，起诉是起诉定了，但不希望影响诉讼流程和结果）。</p>

	]]></content>
</entry><entry>
	<title>[奇思妙想] 有没有那种一个网页可以显示自己制定文件夹里的电视剧的，点击播放是比如说 PotPlayer 的，然后又可以帮你记住看到哪的，嗯，在网页中的显示的。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/896919#reply4" />
	<id>tag:www.v2ex.com,2022-11-21:/t/896919</id>
	<published>2022-11-21T14:31:26Z</published>
	<updated>2022-11-21T15:27:59Z</updated>
	<author>
		<name>coeo91</name>
		<uri>https://www.v2ex.com/member/coeo91</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	有没有那种网页可以显示自己指定文件夹里的电视剧，电影的，点击播放是比如说 PotPlayer 的，然后又可以帮你记住看到哪的，嗯，在网页中的显示的。<br />是现成的有吧。
	]]></content>
</entry>
</feed>