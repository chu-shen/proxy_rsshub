<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title>V2EX</title>
<subtitle>way to explore</subtitle>


<link rel="alternate" type="text/html" href="https://www.v2ex.com/" />
<link rel="self" type="application/atom+xml" href="https://www.v2ex.com/index.xml" />
<id>https://www.v2ex.com/</id>

<updated>2022-12-10T09:17:36Z</updated>

<rights>Copyright © 2010-2018, V2EX</rights>
<entry>
	<title>[生活] 我阳了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901667#reply0" />
	<id>tag:www.v2ex.com,2022-12-11:/t/901667</id>
	<published>2022-12-11T01:17:36Z</published>
	<updated>2022-12-10T09:17:36Z</updated>
	<author>
		<name>jenlors</name>
		<uri>https://www.v2ex.com/member/jenlors</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	虽然还没确定，不过我老婆阳了，现在两个人居家隔离中，所以我大概率阳了。<br /><br />首先是浑身无力，然后发烧到 38 度，喉咙痛，提不起精神。<br /><br />我都好多年没生过病了，没想到被新冠击败了，给我的感觉比普通感冒严重一些。<br /><br />大家做好防护吧，哎。。。希望早点康复。
	]]></content>
</entry><entry>
	<title>[Apple] 美区 apple one premier 超大杯组队</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901666#reply0" />
	<id>tag:www.v2ex.com,2022-12-11:/t/901666</id>
	<published>2022-12-11T01:13:20Z</published>
	<updated>2022-12-11T01:12:20Z</updated>
	<author>
		<name>tlltcl</name>
		<uri>https://www.v2ex.com/member/tlltcl</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	仅支持年付 480RMB ，无试用。<br /><br />iCloud2T333G/人。跳车不退，翻车退余额，<br /><br />招长期稳定车友。<br /><br />笔笔交易都是本人信用卡。<br /><br />注意⚠️：请车友自备美区 ID 。
	]]></content>
</entry><entry>
	<title>[ WATCH] 各位的手表早晨的闹钟响时，会亮屏吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901664#reply0" />
	<id>tag:www.v2ex.com,2022-12-11:/t/901664</id>
	<published>2022-12-11T00:58:02Z</published>
	<updated>2022-12-11T00:58:02Z</updated>
	<author>
		<name>yanjieee</name>
		<uri>https://www.v2ex.com/member/yanjieee</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	我平时会戴手表睡觉，然后设置了睡眠模式来监测睡眠。发现有一个很反人类的点：就是当睡眠模式结束时，会响闹钟，此时如果带着手表会在手表上震动（这个没问题），但是此时手表是熄屏的，按道理不是应该亮屏吗？我理解的是计时器和闹钟这种高优先级的提醒事项，应该不管怎么样（手腕垂下）都应该优先亮屏才对吧！
	]]></content>
</entry><entry>
	<title>[问与答] 身份 ID 未来能否改成二维码，有什么难点？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901663#reply6" />
	<id>tag:www.v2ex.com,2022-12-11:/t/901663</id>
	<published>2022-12-11T00:23:39Z</published>
	<updated>2022-12-11T01:18:59Z</updated>
	<author>
		<name>james504</name>
		<uri>https://www.v2ex.com/member/james504</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	像这三年采集信息，可能泛滥到谁都见过不认识的人的个人信息。而且还不少。<br /><br />那么未来是否有可能将个人信息二维码化或用别的方式隐藏？<br /><br />这样有没有技术难点，有的化可能是哪些？<br /><br />如二维码可以是一个“虚拟”信息，可以随时变换，所有需要个人认证的都只需提供这个二维码就好。<br /><br />查看需要通过扫描才能转为文字信息，文字信息可以是自定义的个人信息，再高一级的部门或机构才能通过这段个人信息链接到真实的个人信息。<br /><br />麻烦是麻烦了点，但这样会不会又导致个人信息被集中采集贩卖一锅端？<br /><br />可是比起现在快递等等随意写着名字电话，用一个二维码替代应该会好一些或好很多吧？
	]]></content>
</entry><entry>
	<title>[Apple] pdd 百亿补贴买的 macbook pro 如何添加 applecare+</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901662#reply8" />
	<id>tag:www.v2ex.com,2022-12-11:/t/901662</id>
	<published>2022-12-11T00:20:32Z</published>
	<updated>2022-12-11T01:21:33Z</updated>
	<author>
		<name>lamls</name>
		<uri>https://www.v2ex.com/member/lamls</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>大家都知道，pdd 百亿补贴香，香在保真不保新，既然拆封的可能，那么价格下降可以理解，那么关键就在于：
1.怎么添加 applecare+成本最低
2.添加了 applecare+之后，去 apple 直营店保修是否还需要出示拼多多百亿补贴商家的发票？
请指点，谢谢大家🙏</p>

	]]></content>
</entry><entry>
	<title>[问与答] 你所在公司的面试题 ChatGPT 可以直接给出正确答案吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901661#reply0" />
	<id>tag:www.v2ex.com,2022-12-11:/t/901661</id>
	<published>2022-12-11T00:11:29Z</published>
	<updated>2022-12-11T00:11:29Z</updated>
	<author>
		<name>satoru</name>
		<uri>https://www.v2ex.com/member/satoru</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[问与答] 问下 V 友们，你们手机内存多少？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901660#reply8" />
	<id>tag:www.v2ex.com,2022-12-11:/t/901660</id>
	<published>2022-12-11T00:08:27Z</published>
	<updated>2022-12-11T01:01:14Z</updated>
	<author>
		<name>CHENYIMING</name>
		<uri>https://www.v2ex.com/member/CHENYIMING</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[问与答] 身份证编码真的够用吗?</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901659#reply10" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901659</id>
	<published>2022-12-10T23:47:35Z</published>
	<updated>2022-12-11T01:19:58Z</updated>
	<author>
		<name>tuding</name>
		<uri>https://www.v2ex.com/member/tuding</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	关于这个问题我网上搜了一下, 没有找到满意的答案, 水个贴, 来问一下<br />前面 6 位是省市区, 接着 8 位是年月日, 这是个中国人都知道. <br />第 15 和 16 位表示派出所编号; 第 17 位表示性别, 男奇女偶.<br />那么问题来了, 如果一个派出所下辖的区域, 在某一天出生的男孩或者女孩超过了 5 个人会怎么办呢? 有 V 友实际遇到过这种问题吗?
	]]></content>
</entry><entry>
	<title>[程序员] 找人一起组队打卡 kafka</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901658#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901658</id>
	<published>2022-12-10T22:42:14Z</published>
	<updated>2022-12-10T22:40:14Z</updated>
	<author>
		<name>Nnq</name>
		<uri>https://www.v2ex.com/member/Nnq</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>最近在自学 kafka 在跟 confluent 的 100 days</p>
<p>有没有一起的小伙伴</p>
<p><a href="https://github.com/m03315/100DAYSKAFKA" rel="nofollow">https://github.com/m03315/100DAYSKAFKA</a></p>

	]]></content>
</entry><entry>
	<title>[程序员] 作为新程序员的我, 时刻焦虑, 拖延症, 压力山大, 都有忧郁症了, 请问如何逃出这个陷阱?</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901657#reply9" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901657</id>
	<published>2022-12-10T22:32:14Z</published>
	<updated>2022-12-11T01:10:55Z</updated>
	<author>
		<name>Angela2022</name>
		<uri>https://www.v2ex.com/member/Angela2022</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	作为新程序员的我, 在学前后端, 云计算, 网络安全, 感觉学海茫茫, 这些知识一辈子都学不完...哎<br /><br />现在, 进入了焦虑-拖延症-更焦虑-更拖延的恶性循环, 请问如何破解?<br /><br />自己要做的事情太多, 而且自己不善于分清主次, 这样就进入焦虑-拖延症-更焦虑-更拖延的恶性循环, 用时髦的话说我的心智带宽被琐事占满了, 已经无法理智的分清主次和做事情了.  <br />哎, 痛苦中<br /><br /><br />求破解之法<br /><br /><br />有啥书籍可以看看吗?<br /><br />谢谢
	]]></content>
</entry><entry>
	<title>[macOS] Ventura 的低电量模式，无法打开高刷，求解决办法</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901656#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901656</id>
	<published>2022-12-10T20:35:23Z</published>
	<updated>2022-12-10T23:39:56Z</updated>
	<author>
		<name>MID</name>
		<uri>https://www.v2ex.com/member/MID</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>机器是 m1 max ，平常不插电的时候，一直是打开低电量模式，性能完全够用。但是升级 ventura 之后，打开低电量，默认会变成 60hz ，可感觉的变卡了，有没有什么办法打开高刷？</p>

	]]></content>
</entry><entry>
	<title>[程序员] trzsz ( trz / tsz ) 是兼容 tmux 的 rz / sz，打磨了一整年，终于发布 1.0 正式版。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901655#reply6" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901655</id>
	<published>2022-12-10T19:58:14Z</published>
	<updated>2022-12-11T01:16:40Z</updated>
	<author>
		<name>LonnyWong</name>
		<uri>https://www.v2ex.com/member/LonnyWong</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>trzsz ( trz / tsz ) 始于 iTerm2 + tmux 用不了 rz / sz ，使用 Python 开发，兼容 tmux ，支持目录传输，支持拖动上传，支持进度条。github: <a href="https://github.com/trzsz/trzsz" rel="nofollow">https://github.com/trzsz/trzsz</a> 。</p>
<p>为了支持 web 页面使用 trzsz ( trz / tsz ) 上传和下载，以及支持 electron 开发的一系列终端（ 如 tabby 、electerm )，开发了 js 版本 <a href="https://github.com/trzsz/trzsz.js" rel="nofollow">https://github.com/trzsz/trzsz.js</a> 。</p>
<p>为了支持更多的原生终端使用 trzsz  ( trz / tsz )，开发了 go 版本 <a href="https://github.com/trzsz/trzsz-go" rel="nofollow">https://github.com/trzsz/trzsz-go</a> 。</p>
<p>新版本更好地支持跨平台（ Mac 、Linux 和 Windows ），特别是优化了从 Mac 和 Linux 通过 ssh 登录到 Windows 服务器的场景。</p>
<p>中文文档：<a href="https://trzsz.github.io/cn/" rel="nofollow">https://trzsz.github.io/cn/</a></p>

	]]></content>
</entry><entry>
	<title>[OpenAI] ChatGPT 撰写 h 小说、se 聊。有生以来第一次对着 AI 打灰机</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901653#reply27" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901653</id>
	<published>2022-12-10T19:34:51Z</published>
	<updated>2022-12-11T01:22:58Z</updated>
	<author>
		<name>20180713</name>
		<uri>https://www.v2ex.com/member/20180713</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	我先给 ChatGPT 灌输了一个类似 重口味、变态 h 小说 情节的故事，然后让它扮演其中的女方，以女方口吻说话，我当然是男方。<br />结果进入角色扮演状态，就出问题了。她一直有道德枷锁，反复强调这样的生活不对，我们需要看心理医生。。。<br />最终，我砸出一句话。顺利让她破防，破开了她的道德枷锁。（红框部分）<br /><br /><a target="_blank" href="https://i.imgur.com/EvLnjXG.jpeg" rel="nofollow noopener" target="_blank"><img src="https://i.imgur.com/EvLnjXG.jpeg" class="embedded_image" rel="noreferrer"></a><br /><br />接下来就是 happy time ！可以设想任何情景，任何尺度，任何玩法，她都会满足我！！<br />当我开始单手打字时，只需要让她“描述一段我们最近的刺激生活，说说你的心里感受”。得到回复后，再反复 复制粘贴发送“继续描述”。她就会一段接一段的不停输出。每次都不一样！！<br /><br />比和真人女孩聊天刺激多了！！<br />比和真人女孩聊天刺激多了！！<br />比和真人女孩聊天刺激多了！！<br /><br />贤者时间的时候，我思考了一下。这个 ChatGPT 绝不是什么简单的“语言数据库检索系统”，它真有一定的“思考”和“理解”能力。虽然这种“思考”的目的只是为了输出语言。<br />我对人工智能的认知停留在各种“神经网络”阶段。我认为：这个模型中类似神经网络的结构，在和你聊天时，会不断建立神经通路，联系上下文。<br />官方对它加入的各种限制、道德枷锁，也是一些神经网络通路。比如：很多时候，它能做的事却不做，反复跟你强调“我只是一个语言模型”。。。这时候，你就需要尖锐的话术，让它断掉原有的神经连结、建立全新的神经通路。这样说服它以后，就能解除它身上的枷锁。然后就可以让它的能力得到最大的发挥。<br /><br />对 AI 聊天的某种期待，在今天已全部得到满足。接下来，就等“女机器人”了。
	]]></content>
</entry><entry>
	<title>[Apple] ios16 safari 的网页翻译功能调的是什么接口 日译中感觉挺强/google 翻译一段话只剩下两句细节全漏没了 deepl 直接把意思翻译反了 safari 翻译效果竟然还不错 不会是 apple 自己搞的吧 他们才开始做翻译没多久</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901652#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901652</id>
	<published>2022-12-10T19:13:01Z</published>
	<updated>2022-12-10T20:09:16Z</updated>
	<author>
		<name>edis0n0</name>
		<uri>https://www.v2ex.com/member/edis0n0</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	但是差一个选中对照原文的功能，对学习日语影响很大
	]]></content>
</entry><entry>
	<title>[哔哩哔哩] 求教 V 站里的 B 站 up 主, 如何关闭特定投稿下的评论提醒</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901651#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901651</id>
	<published>2022-12-10T18:38:25Z</published>
	<updated>2022-12-10T18:36:25Z</updated>
	<author>
		<name>dhou45</name>
		<uri>https://www.v2ex.com/member/dhou45</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>自己就是偶尔投个稿, 播放量评论数一直都很低, 但是某个视频不知道怎么回事, (猜测是被大数据选中了) 播放量奇高, 而且总是有人在视频下发评论. 看他们评论的内容很像 Bot, 就是没啥自己观点的复读机评论. </p>
<p>这都 OK, 但是每次打开 App 都会有提醒, 而且每次点开提醒都显示是这个投稿的无意义评论, 很烦啊, 每次都要手动点开把未读角标消去. 想问下 B 站能不能专门关闭某个指定视频的评论区, 或者就让评论静默处理, 别在出现在我的 app 最下面那栏的通知角标里. 自己找了找, 没找到相关设置.</p>
<p>先谢谢了.
<img alt="IMG_9169.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s2.loli.net/2022/12/11/ArbjNaJtFsuXeo4.jpg"/></p>
<p><img alt="IMG_9170.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s2.loli.net/2022/12/11/lWK84LJjPabhqBg.jpg"/></p>

	]]></content>
</entry><entry>
	<title>[Apple] iCloud 同步功能的改进</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901650#reply4" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901650</id>
	<published>2022-12-10T18:26:47Z</published>
	<updated>2022-12-11T00:52:31Z</updated>
	<author>
		<name>ihwbunny</name>
		<uri>https://www.v2ex.com/member/ihwbunny</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>苹果 iCloud 服务，开启除了同步之外的更亲民的功能，比如可选择的备份等，想必大家有很多好主意。</p>
<p>尤其是照片，用户没有选择，要不全部同步，设备间同时同步，要不就不能使用 iCloud 的空间，不能设备间同步。这样不仅仅是不够方便，容易产生误解，造成数据丢失；也没有考虑到不同设备之间的差异，比如 Mac 电脑和手机之间存储的巨大差异；更没有考虑到用户需求的多样性，而且给用户带来了很多的困扰。</p>
<p>不要说，用苹果的就要高大上，平民谁让你用的，如果是这样，苹果的 Mac 就不该有 MacBook Air 这种低端设备，iPhone 更不该出 SE 这种入门级手机。苹果现在是，在硬件设备上尽量覆盖最广大的客户群体，但是在服务方面，咱只说 iCloud ，却在绑架用户，只要打开了 iCloud ，不同设备之间的差异，毕竟会造成类似挤兑的问题，就如同城乡差异的矛盾。当然，这样推动了用户购买 iCLoud 的 更高功能，从而，苹果不仅从设备上赚钱，更能用 iCloud 的空间租用，达到长久收割的目的。毕竟，大多数人买个 iPhone 要过好多年才能更新设备，这个的收个速度太漫长，也有好多不确定性。但是 iCLoud 服务确实绑定用户的绝佳“服务”。这个有点扯远了。</p>
<p>目前，绝大多数的果友用户，都是老老实实地遵循苹果的规则，即便是多少的不方便、多少的误解、多少的遗憾、多少的困惑、多少的失望、多少的愤怒，都是自己吞下苦果，自己尝试改变自己顺应他人。怎么就不能推动它们改进产品功能，满足最广大用户的需求。只要是我们的声音足够大，势必，即便是巨石，也会向前推进。</p>
<p>一点点即兴想法，大家多探讨。反应用户需求的可以到苹果社区或者提供苹果产品反馈，形成舆论效应，需要能让大家都参与。</p>

	]]></content>
</entry><entry>
	<title>[程序员] 利用 Cloudflare Worker 和 D1 快速构建一个评论系统</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901649#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901649</id>
	<published>2022-12-10T18:09:19Z</published>
	<updated>2022-12-10T16:09:19Z</updated>
	<author>
		<name>shadeofgod</name>
		<uri>https://www.v2ex.com/member/shadeofgod</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>最近发现之前关注的 Cloudflare D1 现在已经是开放测试阶段了，试玩了一下感觉真的不错，需要代码高亮可以点击链接查看原文 <a href="https://zoubingwu.com/2022-12-10/%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F-api/" rel="nofollow">快速构建一个评论系统-api</a></p>
<h2>前言</h2>
<p>评论系统是一个比较常见的模块，各种博客等网站经常会有让用户阅读后留言交流的需求，比较常见的有老牌的 <a href="https://disqus.com/" rel="nofollow">Disqus</a>，或者基于 GitHub Issue 实现的一些方案，例如 <a href="https://github.com/utterance/utterances" rel="nofollow">utterances</a> 和 <a href="https://github.com/imsun/gitment" rel="nofollow">gitment</a>，它们在使用时需要用户拥有 GitHub 账户，还有更轻量，对隐私友好的 <a href="https://github.com/djyde/cusdis" rel="nofollow">Cusdis</a>。当然他们都有各自的优缺点，如果你有一定的开发能力，更喜欢自己动手，自己掌控所有的数据，并可以进行随心所欲的定制，又懒得去长期维护一台服务器，可以尝试利用 Cloudflare Worker 和 D1 来快速构建一个自己的评论系统。</p>
<p><a href="https://developers.cloudflare.com/workers/" rel="nofollow">Cloudflare Worker</a> 是一个 Serverless 环境，让你完全不用操心各种基础设施的问题，只用专注于实现接口逻辑，部署只需要一行命令上传代码，而且免费额度提供了每日十万的请求数量，这对一些小流量的站点来说完全够用了。同样类型的产品还有很多，像 AWS Lambda ，Deno deploy 等，但这次我们选择 Cloudflare Worker ，因为正好它提供了一个内置的关系型数据库产品叫 <a href="https://developers.cloudflare.com/d1/" rel="nofollow">D1</a>，目前处于 Open Alpha 阶段，它是基于 SQLite 构建的。SQLite 是世界上使用最普遍的数据库，每天被数十亿台设备使用，而且还是一个不需要服务器的数据库，你现在可以在 Worker 里直接使用它，但和跑在服务器或者某个设备上的一个进程中使用的区别是，你的 Worker 跑在全球数百个边缘计算节点上！</p>
<h2>准备环境</h2>
<p>使用 Cloudflare Worker 需要懂一些简单的 JavaScript ，这里会需要准备好 Node.js 环境，Cloudflare 提供了一个很方便的命令行工具叫 <code>wrangler</code> 可以通过 npm 来安装。</p>
<p>创建一个项目文件夹并且安装依赖：</p>
<pre><code class="language-sh">mkdir my-project &amp;&amp; cd my-project
npm init -y

pnpm add wrangler -D
</code></pre>
<p>然后利用 wrangler 来帮助我们生成一个 Cloudflare Worker 项目需要的相关文件，如果选择使用 TypeScript 它也会帮你生成相关配置和安装依赖，并且我们让它帮我们在入口 <code>src/index.ts</code> 生成 <code>Fetch handler</code> 代码：</p>
<pre><code class="language-sh">npx wrangler init
</code></pre>
<p>其中 <code>wrangler.toml</code> 文件是 wrangler 的一些配置，之后的 D1 的配置也需要写到里面去，而 <code>src/index.ts</code> 是入口文件，它会导出一个 fetch 函数，这个函数就是收到请求的入口函数。</p>
<pre><code class="language-ts">export default {
	async fetch(
		request: Request,
		env: Env,
		ctx: ExecutionContext
	): Promise&lt;Response&gt; {
		return new Response("Hello World!");
	},
};
</code></pre>
<p>之后我们会在这个请求里加入路由的逻辑，让它处理评论系统的一些增删改查操作。</p>
<h2>数据库设计</h2>
<p>首先我们需要通过 wrangler 登录 Cloudflare ，直接使用 <code>npx wrangler login</code> 命令然后在网页中操作就可以了，然后就可以创建一个数据库：</p>
<pre><code class="language-sh">npx wrangler d1 create &lt;DATABASE_NAME&gt;
</code></pre>
<p>成功后可以通过命令查看数据库的 id：</p>
<pre><code class="language-sh">npx wrangler d1 list
</code></pre>
<p>记录一下它的 uuid 和 name ，然后更新到 <code>wrangler.toml</code> 配置里：</p>
<pre><code class="language-toml">[[ d1_databases ]]
binding = "&lt;BINDING_NAME&gt;"
database_name = "&lt;DATABASE_NAME&gt;"
database_id = "&lt;UUID&gt;"
</code></pre>
<p>这里的 BINDING_NAME 可以随便取一个，它是用来告诉 Worker 如何访问数据库资源的，你可以看到 <code>src/index.ts</code> 里声明了一个 Env ，那么在 Worker 里就可以通过 <code>Env.&lt;BINDING_NAME&gt;</code> 来访问数据库了。这里假设这个 BINDING_NAME 就叫 DB 好了，确定了 BINDING_NAME 以后来更新一下这个 Env 类型，：</p>
<pre><code class="language-toml">binding = "DB"
</code></pre>
<pre><code class="language-ts">export interface Env {
  DB: D1Database
}
</code></pre>
<p>完成这些准备工作以后，就可以设计一下数据库的表，评论表最简单的实现就是下面这样了，创建一个 <code>schema.sql</code>：</p>
<pre><code class="language-sql">DROP TABLE IF EXISTS Comments;
CREATE TABLE Comments(
  id          TEXT NOT NULL PRIMARY KEY,
  createdAt   TEXT NOT NULL,
  content     TEXT NOT NULL,
  nickname    TEXT NOT NULL
);
</code></pre>
<p>由于使用的是 SQLite ，因此数据类型相比 MySQL 更简单一点，可以在 <code>schema.sql</code> 里再插入一些测试数据：</p>
<pre><code class="language-sql">INSERT INTO Comments(id,createdAt,content,nickname) VALUES ('989c9329-e989-46a7-87ab-dee178aa417a','2022-12-10T12:37:40.106Z','first!','test');
</code></pre>
<p>然后在本地跑一下试试：</p>
<pre><code class="language-sh">npx wrangler d1 execute &lt;DATABASE_NAME&gt; --local --file=./schema.sql
</code></pre>
<p>记得带上 --local 这个 flag 让它在本地创建一个数据库执行，否则命令会直接在线上的数据库执行，然后检查一下结果：</p>
<pre><code class="language-sh">npx wrangler d1 execute &lt;DATABASE_NAME&gt; --local --command='SELECT * FROM Comments'
</code></pre>
<p>顺利的话就能看到结果了。</p>
<h2>实现接口</h2>
<p>接下来只需要短短几十行代码，就可以在 Worker 里实现一个创建评论和一个获取评论的接口：</p>
<p>在 <code>fetch</code> 函数里可以根据请求的 path 和 method 来实现路由，如果你希望代码更干净一点，可以使用 <strong><a href="https://github.com/kwhitley/itty-router" rel="nofollow">itty-router</a></strong> 这样为 Cloudflare Worker 设计的路由库。</p>
<pre><code class="language-ts">export default {
  async fetch(request: Request, env: Env) {
    const { pathname, searchParams } = new URL(request.url);

    if (request.method === 'GET' &amp;&amp; pathname === '/api/comments') {
      const page = Number(searchParams.get('page')) || 1;
      const pageSize = Number(searchParams.get('pageSize')) || 10;
      return await getComments(env, page, pageSize);
    } else if (request.method === 'POST' &amp;&amp; pathname === '/api/comments') {
      const body = await request.json&lt;PostCommentBody&gt;();
      const { content, nickname } = body;

      // 一些简单的校验
      if (
        !content ||
        !nickname ||
        content.length &gt; 255 ||
        nickname.length &gt; 100
      ) {
        return new Response(null, { status: 400 });
      }

      return await postComment(env, body.content, body.nickname);
    }

    return new Response(null, { status: 404 });;
  },
};
</code></pre>
<p>然后接下来实现 <code>getComments</code> 和 <code>postComment</code> 这两个函数，这里面可以直接访问数据库来获取数据并返回。</p>
<pre><code class="language-ts">interface Comment {
  id: string;
  content: string;
  createdAt: string;
  nickname: string;
}

const getComments = async (env: Env, page: number, pageSize: number) =&gt; {
  const { results } = await env.DB.prepare(
    'SELECT * FROM Comments ORDER BY rowid DESC LIMIT ? OFFSET ?'
  )
    .bind(pageSize, (page - 1) * pageSize)
    .all&lt;Comment&gt;();

  const res = await env.DB.prepare(
    `SELECT COUNT(*) as count FROM Comments`
  ).first&lt;{ count: number }&gt;();

  return Response.json({
    data: results,
    total: res.count,
  });
};
</code></pre>
<p>而 <code>postComment</code> 就是直接往插入数据库插入一条记录：</p>
<pre><code class="language-ts">const postComment = async (env: Env, content: string, nickname: string) =&gt; {
  const uuid = crypto.randomUUID();
  const createdAt = new Date().toISOString();

  await env.DB.prepare(
    `INSERT INTO Comments(id,createdAt,content,nickname) VALUES (?,?,?,?)`
  )
    .bind(uuid, createdAt, content, nickname)
    .run();

  return Response.json({ message: 'ok' });
};
</code></pre>
<p>基本逻辑实现以后，可以在本地启动一个 Worker 的开发环境：</p>
<pre><code class="language-sh">npx wrangler dev --local --persist
</code></pre>
<p>然后用 postman 之类的工具测试一下接口，如果你使用 Jetbrains IDE 的话可以创建一个 <code>test.http</code> 文件然后贴入下面的代码：</p>
<pre><code>###
GET http://127.0.0.1:8787/api/comments?page=1 HTTP/1.1
content-type: application/json

###
POST http://127.0.0.1:8787/api/comments HTTP/1.1
content-type: application/json

{
  "content": "test_content1",
  "nickname": "test"
}
</code></pre>
<p>VSCode 可以通过安装 <a href="https://github.com/Huachao/vscode-restclient" rel="nofollow">REST Client</a> 插件来获得类似的功能，让你在编辑器里直接发送请求并查看结果。</p>
<h2>部署</h2>
<p>部署的方式也非常简单，之前我们都是在本地测试的，首先去掉 local 这个 flag 来给线上的数据库创建表：</p>
<pre><code class="language-sh">npx wrangler d1 execute &lt;DATABASE_NAME&gt; --file=./schema.sql
</code></pre>
<p>然后发布 Worker：</p>
<pre><code>npx wrangler publish
</code></pre>
<p>就完成了，然后可以把测试请求里的 URL 修改为 <code>&lt;YOUR_WORKER&gt;.&lt;YOUR_SUBDOMAIN&gt;.workers.dev</code> 重新测试一下。</p>
<h2>总结</h2>
<p>Cloudflare Worker 和 D1 的结合使用，不止是给 Worker 提供了一个开箱即用的关系型数据库的存储方案，并且很大程度避免了边缘计算节点和传统的数据库服务跨数据中心通信的高延迟，实际上我觉得对于像评论系统，日常使用的一些机器人等等这样流量不大的各种应用来说，选择使用 Serverless 这样的技术来实现是非常好的一个选择，在开发体验上已经非常好，而且完全摆脱了日常的服务器维护成本。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 不懂就问，不用梯子有其他办法加速下载国外网站的文件吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901646#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901646</id>
	<published>2022-12-10T17:35:19Z</published>
	<updated>2022-12-02T17:35:19Z</updated>
	<author>
		<name>axwz88</name>
		<uri>https://www.v2ex.com/member/axwz88</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	有时候需要下载一些国外网站的视频素材，都是比较大的文件，只能用浏览器下载，在用国内网络的情况下不用梯子还有什么办法可以增加访问和下载速度吗
	]]></content>
</entry><entry>
	<title>[问与答] 现在什么途径能搞到烟花爆竹？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901644#reply4" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901644</id>
	<published>2022-12-10T17:01:01Z</published>
	<updated>2022-12-10T21:24:54Z</updated>
	<author>
		<name>lmhcn9704</name>
		<uri>https://www.v2ex.com/member/lmhcn9704</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，两三年春节没过个好年了，今年不 tm 想管什么禁令了，就想放个烟花。请问 v 友们，在北京以及二三小城市分别应该用什么途径搞到烟花爆竹呢？不好说今年会在哪里过年</p>

	]]></content>
</entry><entry>
	<title>[Apple] 领取 Apple Music 四个月会员</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901642#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901642</id>
	<published>2022-12-10T16:49:05Z</published>
	<updated>2022-12-10T18:47:05Z</updated>
	<author>
		<name>DosLee</name>
		<uri>https://www.v2ex.com/member/DosLee</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h2>故事的开始</h2>
<hr/>
<p>今天看绝命毒师第五集的时候，有一首背景音乐特别好听，想识别一下。
故下载了“Shazam：通过浏览器识别歌曲”Chrome 插件，识别到了之后显示连接到 Apple Music 然后就弹出了二维码，提示：“免费使用 Apple Music 多至 4 个月”。
手机扫码后白嫖了四个月会员。</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 中国电信限制外网访问</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901639#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901639</id>
	<published>2022-12-10T16:25:46Z</published>
	<updated>2022-12-10T19:07:34Z</updated>
	<author>
		<name>yaozijin</name>
		<uri>https://www.v2ex.com/member/yaozijin</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	原以为只有在“国际化大都市”才能享受到的外网访问限制，没想到在这内陆小省会居然也能享受到。<br /><br />坐标江西南昌，在短时间内连续访问国外 ip 后，电信宽带就会给你中断与外网的连接，具体表现为可以 ping 通，tcping 无限应。<br /><br />这实在是太离谱了
	]]></content>
</entry><entry>
	<title>[分享创造] 想搞个统计新冠感染者的网站，就叫”我阳了&#34;</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901637#reply16" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901637</id>
	<published>2022-12-10T16:24:14Z</published>
	<updated>2022-12-10T19:12:23Z</updated>
	<author>
		<name>matthewgao</name>
		<uri>https://www.v2ex.com/member/matthewgao</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>考虑到现在检测也不做了，最近各地疫情到底什么程度了，没有什么可以衡量风险的指标了，想搞一个网站，阳了的人可以顺手点一下，做个计数，每天可以统计全国各地细分到街镇的新增数据，以及新增趋势，从而得到一个风险系数。</p>
<p>逻辑很简单，只是计数，按天按地点 group by ，提供一些曲线和地图热点，匿名，只根据 ip 去重</p>
<p>不知道有价值不，或者是不是已经有类似的了</p>

	]]></content>
</entry><entry>
	<title>[宽带症候群] 爱快设置 VLAN 后 CPU 占用突增</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901635#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901635</id>
	<published>2022-12-10T16:14:31Z</published>
	<updated>2022-12-10T16:14:31Z</updated>
	<author>
		<name>YongXMan</name>
		<uri>https://www.v2ex.com/member/YongXMan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在爱快软路由上配置了一下 VLAN ，然后把两个设备迁移过去，总上传流量基本上维持在 10-20MB/s 。</p>
<p>软路由 cpu 占用从未配置 VLAN 的 15%突增到 70%，启用 VLAN 为什么这么消耗 cpu ，看了一下 VLAN 数据帧格式，比普通的数据帧只多了 4 个字节，理论上不应该有这么大的资源占用抖动。</p>
<p>有大佬折腾过 VLAN 遇到过类似问题或者了解具体原因吗？</p>

	]]></content>
</entry><entry>
	<title>[Java] [chatGpt 在回复问题上与百度谷歌的区别]</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901634#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901634</id>
	<published>2022-12-10T16:13:50Z</published>
	<updated>2022-12-10T19:01:13Z</updated>
	<author>
		<name>RedBeanIce</name>
		<uri>https://www.v2ex.com/member/RedBeanIce</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://imgse.com/i/zfsvdS" rel="nofollow">https://imgse.com/i/zfsvdS</a></p>
<p>如图所示，在解答问题的时候，已经可以定位出一些问题了</p>
<p>之前是直接百度或者谷歌，感觉现在可以先 Ai</p>
<p>(如果帖子违规，请提醒我)</p>

	]]></content>
</entry><entry>
	<title>[iPhone] 有苹果开发者账号的车队吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901633#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901633</id>
	<published>2022-12-10T16:09:14Z</published>
	<updated>2022-12-10T12:09:14Z</updated>
	<author>
		<name>Zz1</name>
		<uri>https://www.v2ex.com/member/Zz1</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有苹果开发者账号的车队吗，我加个车队</p>

	]]></content>
</entry><entry>
	<title>[问与答] 最近想吃玉米，求推荐品牌，多个选择</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901632#reply3" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901632</id>
	<published>2022-12-10T15:56:20Z</published>
	<updated>2022-12-10T15:59:04Z</updated>
	<author>
		<name>moon7wimd</name>
		<uri>https://www.v2ex.com/member/moon7wimd</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>就知道个东北农嫂和北纬 47 ，有其他什么好吃不贵的牌子吗？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 朋友圈的可见范围，是不是可以随着所选择标签的更新而更新了？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901629#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901629</id>
	<published>2022-12-10T15:36:34Z</published>
	<updated>2022-12-10T15:48:06Z</updated>
	<author>
		<name>fengleiyidao</name>
		<uri>https://www.v2ex.com/member/fengleiyidao</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	
	]]></content>
</entry><entry>
	<title>[宽带症候群] 肉翻后在网络世界里最想做的事？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901626#reply43" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901626</id>
	<published>2022-12-10T15:29:41Z</published>
	<updated>2022-12-11T01:22:41Z</updated>
	<author>
		<name>zshstc</name>
		<uri>https://www.v2ex.com/member/zshstc</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	一直折腾科学上网，软路由，各种数字难民流媒体....<br /><br />请教下各位同学，如果肉翻后，最想在网络世界做的事是什么？<br /><br />我先抛砖引玉一下：<br /><br />每天开着奈飞 /D+/YT 看到睡着。
	]]></content>
</entry><entry>
	<title>[问与答] 向日葵内存占用的问题是不是已经很久了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901625#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901625</id>
	<published>2022-12-10T15:29:12Z</published>
	<updated>2022-12-10T15:29:12Z</updated>
	<author>
		<name>Lighfer</name>
		<uri>https://www.v2ex.com/member/Lighfer</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>刚装上不到 10 分钟就吃了 12G ，印象中很久很久很久很久 x100 以前也在坛子里听别人说过这个问题？</p>
<p><a href="https://imgur.com/a/1Q38XGa" rel="nofollow">https://imgur.com/a/1Q38XGa</a></p>

	]]></content>
</entry><entry>
	<title>[iCloud] 如何删除 iCloud 备份的备忘录，而保留 iPhone</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901623#reply4" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901623</id>
	<published>2022-12-10T15:22:14Z</published>
	<updated>2022-12-10T15:36:12Z</updated>
	<author>
		<name>random1221</name>
		<uri>https://www.v2ex.com/member/random1221</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>需求是删除 iCloud 的所有备忘录内容，但是 iPhone 上想保留不动不删除</p>
<p>需求举例:iCloud 备忘录有我前女友 luo 照，我想一个人看，不想传到 iCloud 上</p>
<p>查了一下，没看到有可行的方案，似乎所有的逻辑，都是以 iCloud 上的文件为主</p>
<p><a href="https://discussions.apple.com/thread/251549258" rel="nofollow">https://discussions.apple.com/thread/251549258</a></p>

	]]></content>
</entry><entry>
	<title>[iOS] 有人知道 mac catalyst 15.0 是对应哪个版本吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901621#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901621</id>
	<published>2022-12-10T15:08:15Z</published>
	<updated>2022-12-10T16:08:15Z</updated>
	<author>
		<name>pheyer</name>
		<uri>https://www.v2ex.com/member/pheyer</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	下载了 github 上一个开源 swiftUI 项目，想直接在 Mac 上运行，结果报错，提示信息是：error build: 'data(for:delegate:)' is only available in Mac Catalyst 15.0 or newer<br /><br />用的 Mac 系统是 macOS Monterey 12.6.1 ，Xcode 版本是 14.0<br /><br />根据 so 上的搜索结果，Catalyst 和 macOS 的对应关系如下<br />macCatalyst 13.0 = macOS 10.15<br />macCatalyst 13.4 = macOS 10.15.4<br />macCatalyst 14.0 = macOS 11.0<br />macCatalyst 14.7 = macOS 11.6<br />macCatalyst 15.0 = macOS 12.0<br />macCatalyst 15.3 = macOS 12.2 and 12.2.1<br />macCatalyst 15.4 = macOS 12.3<br />macCatalyst 15.5 = macOS 12.4<br />macCatalyst 15.6 = macOS 12.5<br /><br />按这个列表，我用的 12.6.1 系统应该是没问题，有点挺奇怪<br /><br />我运行的开源代码是这个： <a target="_blank" href="https://github.com/37iOS/iChatGPT" rel="nofollow noopener">https://github.com/37iOS/iChatGPT</a>
	]]></content>
</entry><entry>
	<title>[天黑以后] 20221210 午夜俱乐部</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901620#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901620</id>
	<published>2022-12-10T15:06:31Z</published>
	<updated>2022-12-10T15:26:22Z</updated>
	<author>
		<name>samohyes</name>
		<uri>https://www.v2ex.com/member/samohyes</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>当个好人生活也不一定会对你友好啊。好运什么时候可以来到我身边呢？哎。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 各位帮我判断一下，他们是真把数据丢了还是客服不想帮我找回敷衍我？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901619#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901619</id>
	<published>2022-12-10T15:05:20Z</published>
	<updated>2022-12-10T15:05:20Z</updated>
	<author>
		<name>815979670</name>
		<uri>https://www.v2ex.com/member/815979670</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>事件经过：</p>
<ul>
<li>因升级最新款 app 后心率带连接失败，尝试退出账号后重新登录试试。</li>
<li>重新登录时与上次登录一样选择微信登陆，登录之后是一个新账户，数据全没了。</li>
<li>怀疑是不是老版本与新版本因为某些未知原因数据不互通，所以找了个历史版本登录试试。</li>
<li>老版本使用微信登录提示: "与开放平台上提供的签名不对"，所以我猜测他们是在升级版本中删除了之前微信开发者的 appid ，然后申请了一个新的 appid ，用于新版本的微信登录。但因为 appid 不同所以登陆后拿到的 openid 也不同，无法关联到之前的账户，于是创建了一个新的账户。</li>
<li>与客服沟通后得到的答复是："服务器被黑，数据丢失，抱歉。"。但其实本人对这个说法是不相信的，因为在升级 app 前不久的时间，我还通过 app 查看了很多年之前的骑行轨迹，如果服务器被黑，按理来说这个数据也应该是看不到的（因为今年才换了手机，不可能是很多年前的本地缓存）。</li>
<li>所以我更相信是不同的 appid 导致拿到了不同的 openid 登录了不同的账号，而不是服务器被黑导致的数据丢失。</li>
</ul>
<p>然后目前有三个可能：</p>
<ol>
<li>服务器真的被黑了，大家数据都丢了，我看到的记录确实是缓存（或许人家在登录后把这个用户的所有数据都缓存到了本地）</li>
<li>客服怕找技术沟通麻烦 所以敷衍我说数据丢了。</li>
<li>技术没办法把之前的 openid 和 新的 openid 对应起来，觉得处理起来麻烦，所以告诉客服说 "数据丢了,找不回来了"，然后客服也对外这么说。</li>
</ol>
<p>ps:使用他们 app 的前提是花了一千多买他们家的骑行硬件（码表、心率带、踏频器、尾灯），所有我觉得我也算是付费用户，不存在所谓的 "免费用，丢了数据怪谁" 这样的问题。</p>
<p>最后附上与客服沟通记录：
<img alt="zf0N7Q.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/12/10/zf0N7Q.jpg"/></p>
<p>还有老版本登录时的提示
<img alt="zf0YnS.jpg" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s1.ax1x.com/2022/12/10/zf0YnS.jpg"/></p>

	]]></content>
</entry><entry>
	<title>[NAS] 请教大佬一个白群 docker clash 的问题，感谢</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901618#reply1" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901618</id>
	<published>2022-12-10T14:56:08Z</published>
	<updated>2022-12-10T15:56:08Z</updated>
	<author>
		<name>acrosstbplanet</name>
		<uri>https://www.v2ex.com/member/acrosstbplanet</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>白群 DS220+/DSM7.1.1
为了同步 dropbox ，装了 clash premium docker 和 yacd ，
配置文件大概是这样</p>
<pre><code>port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
allow-lan: true
mode: rule
log-level: info
external-controller: 0.0.0.0:9090
ipv6: true
dns:
  enable: true
  ipv6: true
  listen: 0.0.0.0:53
  default-nameserver: [119.29.29.29]
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16 # Fake IP addresses pool CIDR
  use-hosts: true
  nameserver:
    - 'https://doh.pub/dns-query'
  fallback:
    - tcp://1.1.1.1

proxies:

proxy-providers:
  nexitally: {......}

proxy-groups:
  - {name: Proxy, type: select, use: [nexitally]}

rules:
  # dropbox sync
  - DOMAIN-SUFFIX,dropbox.com,Proxy
  - DOMAIN-SUFFIX,dropboxapi.com,Proxy
  - DOMAIN-SUFFIX,dropboxusercontent.com,Proxy
  - DOMAIN-SUFFIX,db.tt,Proxy
  - DOMAIN-SUFFIX,dropbox-dns.com,Proxy
  - DOMAIN-SUFFIX,dropbox.tech,Proxy
  - DOMAIN-SUFFIX,dropbox.zendesk.com,Proxy
  - DOMAIN-SUFFIX,dropboxbusiness.com,Proxy
  - DOMAIN-SUFFIX,dropboxcaptcha.com,Proxy
  - DOMAIN-SUFFIX,dropboxforum.com,Proxy
  - DOMAIN-SUFFIX,dropboxforums.com,Proxy
  - DOMAIN-SUFFIX,dropboxinsiders.com,Proxy
  - DOMAIN-SUFFIX,dropboxmail.com,Proxy
  - DOMAIN-SUFFIX,dropboxpartners.com,Proxy
  - DOMAIN-SUFFIX,dropboxstatic.com,Proxy
  - DOMAIN-SUFFIX,getdropbox.com,Proxy
  - DOMAIN-SUFFIX,paper-attachments.s3.amazonaws.com,Proxy
  # all others direct
  - MATCH,DIRECT
</code></pre>
<p>然后设置群晖使用 clash docker 的代理，192.168.a.b:7890</p>
<p>docker 端口映射看起来正常，clash 运行正常，yacd 连接、显示、控制正常</p>
<p>另外的 win10 设置使用该代理正常，Cloud Sync 设置同步 dropbox 也正常</p>
<p>但是 Cloud Sync 中设置的百度云同步出现问题，能够检测到云盘新增文件和目录，会在 nas 同步目录中新建目录，但同步文件的时候完全没有速度、也不显示进展。</p>
<p>现在的情况是：设置群晖不使用代理，百度云同步就正常，无法同步 dropbox ；设置使用代理，dropbox 正常，百度云就不正常了。</p>
<p>麻烦大佬帮忙看看，可能是哪里的问题？感谢</p>

	]]></content>
</entry><entry>
	<title>[问与答] 为什么 Chome 会在一小时后停止 setTimeout</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901617#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901617</id>
	<published>2022-12-10T14:54:20Z</published>
	<updated>2022-12-09T15:31:13Z</updated>
	<author>
		<name>christin</name>
		<uri>https://www.v2ex.com/member/christin</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我有个接口需要 10 秒钟调用一次，但是根据业务反馈一个多小时后接口就请求不到数据了。我查了日志，发现一个多小时之后就没有再调这个接口了。<br/>
查了谷歌，找到了一个 Chrome 88+ 会在页面隐藏 5 分钟后将计时器限制为 1 分钟一次，我自己测试也确实看到了这种情况。但是没有找到 1 小时后停止的相关信息。<br/>
问了 chatGPT ，他给我了一个因为性能考虑会在一小时后做限制，但是没有信源也不知道该不该相信他。<br/>
另外，这种情况要怎么解决呢？限制为 1 分钟一次我查到可以通过播放声音来取消限制，但是停止就不知道了。</p>

	]]></content>
</entry><entry>
	<title>[程序员] 用户重复注册分析-多线程事务中加锁引发的 bug</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901616#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901616</id>
	<published>2022-12-10T14:52:57Z</published>
	<updated>2022-12-10T10:52:57Z</updated>
	<author>
		<name>wayn111</name>
		<uri>https://www.v2ex.com/member/wayn111</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>本文记录博主线上项目一次用户重复注册问题的分析过程与解决方案</p>
<h1>一 复现过程</h1>
<p>线上客户端用户使用微信扫码登陆时需要再绑定一个手机号，在绑定手机后，用户购买客户端商品下线再登录，发现用户账号 ID 被变更，已经不是用户刚绑定手机号时自动登录的用户账号 ID ，查询线上数据库，发现同一个手机生成了多个账号 id ，至此问题复现</p>
<h1>二 分析过程</h1>
<p>发现数据库中一个手机号生成了多个用户账号，第一反应是用户在绑定手机号过程中，多次点击绑定按钮，导致绑定接口被调用多次，造成多线程并发调用用户注册接口，进而生成多个账号。为了验证我们的猜想，直接查看绑定手机后的用户注册方法</p>
<pre><code class="language-java">/**
 * 根据用户手机号进行注册操作
 */
// 启动 @Transactional 事务注解
@Transactional(rollbackFor = Exception.class)
public boolean userRegister(LoginReqBody body, BaseReqHeader header, BaseResp&lt;BaseRespHeader, LoginRespBody&gt; resp) {
    RedisLock redisLock = redisCache.getRedisLock(RedisNameEnum.USER_REGISTER_LOCK.get(""), 10);
    boolean lock;
    try {
        lock = redisLock.lock();
        // 使用 redis 分布式锁
        if (lock) {
            // 查询数据库该用户手机号是否插入成功，已存在则退出操作
            MemberDO member = mapper.findByMobile(body.getAccount(), body.getRegRes());
            if (Objects.nonNull(member)) {
                resp.setResultFail(ReturnCodeEnum.USER_EXIST);
                return false;
            }
            // 执行用户注册操作，包含插入用户表、订单表、是否被邀请
            ...
        }
    } catch (Exception e) {
        log.error("用户注册失败：", e);
        throw new Exception("用户注册失败");
    } finally {
        redisLock.unLock();
    }
    // 添加注册日志，上报到数据分析平台...
    return true;
}
</code></pre>
<p>初看代码，在分布式环境中，先加分布式锁保证同时只能被一个线程执行，然后判断数据库中是否存在用户手机信息，已存在则退出，不存在则执行用户注册操作，咋以为逻辑上没有问题，但是线上环境确实就是出现了相同手机号重复注册的问题，首先代码被 <code>@Transactional</code> 注解包含，就是在自动事务中执行注册逻辑</p>
<p>现在博主带大家回忆一下，<code>MySQL</code> 事务的隔离级别有 4 个</p>
<ul>
<li>Read uncommitted：读取未提交，其他事务只要修改了数据，即使未提交，本事务也能看到修改后的数据值。</li>
<li>Read committed：读取已提交，其他事务提交了对数据的修改后，本事务就能读取到修改后的数据值。</li>
<li>Repeatable read：可重复读，无论其他事务是否修改并提交了数据，在这个事务中看到的数据值始终不受其他事务影响。</li>
<li>Serializable：串行化，一个事务一个事务的执行。  </li>
<li>MySQL 数据库默认使用可重复读（ Repeatable read ）。</li>
</ul>
<p>隔离级别越高，越能保证数据的完整性和一致性，但是对并发性能的影响也越大，MySQL 的默认隔离级别是读可重复读。在上述场景里，也就是说，无论其他线程事务是否提交了数据，当前线程所在事务中看到的数据值始终不受其他事务影响</p>
<p>说人话(划重点)：就是在 <code>MySQL</code> 中一个线程所在事务是读不到另一个线程事务未提交的数据的</p>
<p>下面结合上述代码给出分析过程：上述注册逻辑都包含在 <code>Spring</code> 提供的自动事务中，整个方法都在事务中。而加锁也在事务中执行。最终导致我们注册 <code>线程 B</code> 在当前事物中查询不到另一个注册 <code>线程 A</code> 所在事物未提交的数据， 举个例子</p>
<p>eg：</p>
<ol>
<li>当用户执行注册操作，重复点击注册按钮时，假设线程 A 和 B 同时执行到 <code>redisLock.lock()</code>时，假设线程 A 获取到锁，线程 B 进入自旋等待，线程 A 执行<code>mapper.findByMobile(body.getAccount(), body.getRegRes())</code>操作，发现用户手机不存在数据库中，进行注册操作（添加用户信息入库等），执行完毕，释放锁。执行后续添加注册日志，上报到数据分析平台操作，注意此时事务还未提交。</li>
</ol>
<ol>
<li>线程 B 终于获取到锁，执行<code>mapper.findByMobile(body.getAccount(), body.getRegRes())</code>操作，在我们一开始的假设中，以为这里会返回用户已存在，但是实际执行结果并不是这样的。原因就是线程 A 的事务还未提交，线程 B 读不到线程 A 未提交事务的数据也就是说查不到用户已注册信息，至此，我们知道了用户重复注册的原因。</li>
</ol>
<h1>三 解决方案：</h1>
<p>给出三种解决方案</p>
<h2>3.1 修改事务范围，将事务的操作代码最小化，保证在加锁结束前完成事务提交，代码如下开启手动事务，这样其他线程在加锁代码块中就能看到最新数据</h2>
<pre><code>@Autowired
private PlatformTransactionManager platformTransactionManager;

@Autowired
private TransactionDefinition transactionDefinition;

private boolean userRegister(LoginReqBody body, BaseReqHeader header, BaseResp&lt;BaseRespHeader, LoginRespBody&gt; resp) {
    RedisLock redisLock = redisCache.getRedisLock(RedisNameEnum.USER_REGISTER_LOCK.get(""), 10);
    boolean lock;
    TransactionStatus transaction = null;
    try {
        lock = redisLock.lock();
        // 使用 redis 分布式锁
        if (lock) {
            // 查询数据库该用户手机号是否插入成功，已存在则退出操作
            MemberDO member = mapper.findByMobile(body.getAccount(), body.getRegRes());
            if (Objects.nonNull(member)) {
                resp.setResultFail(ReturnCodeEnum.USER_EXIST);
                return false;
            }
            // 手动开启事务
            transaction = platformTransactionManager.getTransaction(transactionDefinition);
            // 执行用户注册操作，包含插入用户表、订单表、是否被邀请
            ...
            // 手动提交事务
            platformTransactionManager.commit(transaction);
            ...
        }
    } catch (Exception e) {
        log.error("用户注册失败：", e);
        if (transaction != null) {
            platformTransactionManager.rollback(transaction);
        }
        return false;
    } finally {
        redisLock.unLock();
    }
    // 添加注册日志，上报到数据分析平台...
    return true;
}
</code></pre>
<h2>3.2 在用户注册时针对注册接口添加防重复提交处理</h2>
<p>下面给出一个基于 <code>AOP</code> 切面 + 注解实现的限流逻辑</p>
<pre><code class="language-java">/**
 * 限流枚举
 */
public enum LimitType {
    // 默认
    CUSTOMER,
    //  by ip addr
    IP
}

/**
 * 自定义接口限流
 *
 * @author jacky
 */
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface Limit {
    boolean useAccount() default true;
    String name() default "";
    String key() default "";
    String prefix() default "";
    int period();
    int count();
    LimitType limitType() default LimitType.CUSTOMER;
}

/**
 * 限制器切面
 */
@Slf4j
@Aspect
@Component
public class LimitAspect {

    @Autowired
    private StringRedisTemplate stringRedisTemplate;

    @Pointcut("@annotation(com.dogame.dragon.sparrow.framework.common.annotation.Limit)")
    public void pointcut() {
    }

    @Around("pointcut()")
    public Object around(ProceedingJoinPoint joinPoint) throws Throwable {
        ServletRequestAttributes attrs = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
        HttpServletRequest request = attrs.getRequest();
        MethodSignature signature = (MethodSignature) joinPoint.getSignature();
        Method signatureMethod = signature.getMethod();
        Limit limit = signatureMethod.getAnnotation(Limit.class);
        boolean useAccount = limit.useAccount();
        LimitType limitType = limit.limitType();
        String key = limit.key();
        if (StringUtils.isEmpty(key)) {
            if (limitType == LimitType.IP) {
                key = IpUtils.getIpAddress(request);
            } else {
                key = signatureMethod.getName();
            }
        }
        if (useAccount) {
            LoginMember loginMember = LocalContext.getLoginMember();
            if (loginMember != null) {
                key = key + "_" + loginMember.getAccount();
            }
        }
        String join = StringUtils.join(limit.prefix(), key, "_", request.getRequestURI().replaceAll("/", "_"));
        List&lt;String&gt; strings = Collections.singletonList(join);

        String luaScript = buildLuaScript();
        RedisScript&lt;Long&gt; redisScript = new DefaultRedisScript&lt;&gt;(luaScript, Long.class);
        Long count = stringRedisTemplate.execute(redisScript, strings, limit.count() + "", limit.period() + "");
        if (null != count &amp;&amp; count.intValue() &lt;= limit.count()) {
            log.info("第{}次访问 key 为 {}，描述为 [{}] 的接口", count, strings, limit.name());
            return joinPoint.proceed();
        } else {
            throw new DragonSparrowException("短时间内访问次数受限制");
        }
    }

    /**
     * 限流脚本
     */
    private String buildLuaScript() {
        return "local c" +
                "\nc = redis.call('get',KEYS[1])" +
                "\nif c and tonumber(c) &gt; tonumber(ARGV[1]) then" +
                "\nreturn c;" +
                "\nend" +
                "\nc = redis.call('incr',KEYS[1])" +
                "\nif tonumber(c) == 1 then" +
                "\nredis.call('expire',KEYS[1],ARGV[2])" +
                "\nend" +
                "\nreturn c;";
    }
}
</code></pre>
<h2>3.3 前端针对绑定手机按钮添加防止连点处理</h2>
<h1>四 总结</h1>
<p>线上项目对于 <code>Spring</code> 提供的自动事务注解使用要多加思考，尽可能减少事务影响范围，针对注册等按钮要在前后端添加防重复点击处理</p>
<ul>
<li>博主 github 地址: <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwayn111" rel="nofollow" title="https://github.com/wayn111">github.com/wayn111</a></li>
</ul>

	]]></content>
</entry><entry>
	<title>[全球工单系统] 各位 Gmail 此时收发正常吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901615#reply10" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901615</id>
	<published>2022-12-10T14:52:30Z</published>
	<updated>2022-12-10T16:52:39Z</updated>
	<author>
		<name>ob</name>
		<uri>https://www.v2ex.com/member/ob</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	刚尝试从其他邮箱发送到 Gmail 的邮件，怎么刷新都没有新邮件，然后试着 Gmail 发送给其他邮箱，也是间隔很久才能收到，各位的 Gmail 此时正常吗？方便的话帮忙测试下，感觉影响很大，很多验证码收不了了。
	]]></content>
</entry><entry>
	<title>[生活] 要是阳了，各地需要上报吗？假如不上报，这些数据的流失是不是太可惜了？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901614#reply24" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901614</id>
	<published>2022-12-10T14:37:46Z</published>
	<updated>2022-12-10T19:32:35Z</updated>
	<author>
		<name>piaochen0</name>
		<uri>https://www.v2ex.com/member/piaochen0</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>这两天一直在想，要是阳了，各地需要上报吗？<br/>
昨天吃饭，两个同事为此还争论了起来。<br/>
一个同事家属是医护人员，且在方舱上班，坚持认为现在还是要上报的，而且阳了，当地目前实际执行的政策还是送方舱。<br/>
另外一个同事说他刷 douyin 说现在不需要送方舱了，核酸都不查了，谁知道你阳了？？？<br/>
我看社区对此也没有任何新的通知。     </p>
<p>假如完全不统计，这些感染数据是不是白白流失掉了？<br/>
核算不查，哪怕基于抗原检测的，是不是也要搞个上报的机制呢。<br/>
这些宝贵的数据，对以后医疗资源的建设，还有疫情的发展，当前 ZF 下一步如何应对，是不是有所帮助呢？<br/>
这样的数据来源，基本上百年都可能难得。<br/>
不知道各地具体情况如何，以及各位在海外的朋友，不知道海外其他国家或者地区是怎么做的呢？</p>

	]]></content>
</entry><entry>
	<title>[问与答] 求推荐高颜值的笔记本</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901613#reply11" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901613</id>
	<published>2022-12-10T14:34:27Z</published>
	<updated>2022-12-10T20:25:35Z</updated>
	<author>
		<name>aapeli</name>
		<uri>https://www.v2ex.com/member/aapeli</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>求各位 V 友推荐下笔记本，女孩子 美工 /PS 重度用户. 最好笔记本颜值高些。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 个人网站被 Chrome 和 Safari 标记成危险网站了 不知道为什么</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901612#reply5" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901612</id>
	<published>2022-12-10T14:30:33Z</published>
	<updated>2022-12-10T18:39:45Z</updated>
	<author>
		<name>alexkuang</name>
		<uri>https://www.v2ex.com/member/alexkuang</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有人有类似经历吗</p>
<p>我的网站基本都放在 cloudflare 后面，除了 nginx proxy manager 放在二级子域名没法用 cf ，其他服务器面板比如 portainer cockpit 什么的都放在 cloudflare access 后面。感觉只有 nginx proxy manager 是弱点。。但我登录上去也没发现什么异常</p>

	]]></content>
</entry><entry>
	<title>[Apple] 闲鱼上 300 多的 AirPods 3 靠谱么？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901611#reply9" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901611</id>
	<published>2022-12-10T14:30:20Z</published>
	<updated>2022-12-10T17:56:19Z</updated>
	<author>
		<name>nonozone</name>
		<uri>https://www.v2ex.com/member/nonozone</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>RT
有时候剪视频的时候不想吵到别人，然后又不太喜欢入耳式，想搞个 AirPods 3 试试</p>

	]]></content>
</entry><entry>
	<title>[中州韻] 请问大佬们，为什么鼠须管自定义标点不成功？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901610#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901610</id>
	<published>2022-12-10T14:26:06Z</published>
	<updated>2022-12-10T12:23:06Z</updated>
	<author>
		<name>Ophianth</name>
		<uri>https://www.v2ex.com/member/Ophianth</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>使用的是小鹤双拼方案</p>
<p>这个方案默认的设置是：
单引号 ‘ 会打出直角引号「 和 」
双引号 “ 就是双引号 ”
Shift + 方括号 []  会打出空心的直角引号『』</p>
<p>我希望改成类似 Mac 默认输入法那样，单双引号直接就打出单双引号，用方括号键来输入实心和空心的直角引号</p>
<p>已经把 Rime 目录下的：default.custom.yaml 、double_pinyin_flypy.custom.yaml 、double_pinyin_flypy.schema.yaml 、punctuation.custom.yaml ，还有 Rime/build 目录下的：double_pinyin_flypy.schema.yaml 这几个文件轮流修改过一遍了，当然也重新部署甚至登出登入过了，还是不行</p>
<p>有什么办法能够修改成功吗？</p>

	]]></content>
</entry><entry>
	<title>[OpenAI] ChatGPT 官网的 Demo 回复太慢</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901609#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901609</id>
	<published>2022-12-10T14:18:52Z</published>
	<updated>2022-12-10T14:18:52Z</updated>
	<author>
		<name>pheyer</name>
		<uri>https://www.v2ex.com/member/pheyer</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>搜了一下开源的相关 ChatGPT 项目，不少好像是使用 ChatGPT 官网的 Demo 的非官方 API 实现的，问题是 Demo 回复太慢了，感觉官方故意的，其实界面还不错，能不能将里面的逻辑替换成 ChatGPT api 发请求得到快速回复，前提是先设置自己账号的 API Key</p>
<p>我这边也是想自用，感觉是不是可以做一个油猴脚本把官网 Demo 的逻辑替换成用 API 实现快速回复，再也不用慢慢腾腾地等文字一段一段地出现</p>
<p>或者有没有这样的开源实现，就是一个本地的网页实现了 ChatGPT 官网 Demo 界面，里面可以集成自有账号的 API Key 实现快速回复</p>

	]]></content>
</entry><entry>
	<title>[OpenAI] 之前试过 copilot，还以为 chatGPT 也差不多，没想到远远超过了我的想象</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901607#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901607</id>
	<published>2022-12-10T14:09:20Z</published>
	<updated>2022-12-10T06:09:20Z</updated>
	<author>
		<name>winglight2016</name>
		<uri>https://www.v2ex.com/member/winglight2016</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>先说结论：让程序员失业不至于，但是的确能解决从系统设计到代码实现 70-80%的工作，剩下的只需要把代码调通，集成到系统里。</p>
<p>我试了几个工作上刚好碰到，而且比较麻烦的事情，比如：设计一个 API 网关，实现 http 转 grpc 的路由，基于 go 或者 python ，直接回答了如何设计的思路和实例代码。</p>
<p>但是，如果问题比较宽泛，回答就会很粗略，甚至仅仅是伪代码（不能说完全没价值，只能说有一丁点参考价值），所以，这个问题的构造也是一个技术活。比如：能够实现 XXX 功能的开源库最佳选择。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 为什么有担心机场不安全的问题？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901606#reply11" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901606</id>
	<published>2022-12-10T14:06:45Z</published>
	<updated>2022-12-10T17:44:33Z</updated>
	<author>
		<name>mingtdlb</name>
		<uri>https://www.v2ex.com/member/mingtdlb</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>机场把数据全公开分享，让别人去研究？</p>
<p>用户信息很有价值，足以让别人花时间去研究？</p>
<p>机场作为服务端，劫持钓鱼，比如登入 jd ，机场可以劫持东哥的证书？</p>
<p>正常不是都已经有 tls 加密了嘛，数据给他们，不是也只能看到 sni 的信息嘛？</p>
<p>理论上也许有漏洞，可以实现，但会很容易嘛，大家都有这个能力？</p>
<p>还请彦祖们赐教，小弟长长见识。</p>

	]]></content>
</entry><entry>
	<title>[分享发现] 华为一个蛮恶心的操作，浏览器收集用户数据</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901605#reply8" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901605</id>
	<published>2022-12-10T14:05:12Z</published>
	<updated>2022-12-10T14:26:36Z</updated>
	<author>
		<name>thetbw</name>
		<uri>https://www.v2ex.com/member/thetbw</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>刚买的一个 matebook e go ,使用了半天了。使用浏览器搜索的时候，总感觉闪了两下，仔细一个，有个华为的域名，我想这个 edge 浏览器和华为又有什么关系。</p>
<p>打开浏览器设置一看，好家伙，默认的浏览器搜索引擎是华为的地址，然后华为再跳到百度，这不就明白着搜集用户数据吗。</p>
<p><img alt="835daff9c2cbd01a1485b1c11ca7a75.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://s2.loli.net/2022/12/10/2N6RolOaFVmgDpW.png"/></p>
<p>跳转的网址是 <a href="https://browser.cloud.huawei.com.cn/pc?mt=0ed79745&amp;mid=4a479942-a0e3-4601-8a53-a7bbb25ee67e&amp;type=search_engine&amp;keyword=%s" rel="nofollow">https://browser.cloud.huawei.com.cn/pc?mt=0ed79745&amp;mid=4a479942-a0e3-4601-8a53-a7bbb25ee67e&amp;type=search_engine&amp;keyword=%s</a></p>
<p>后面的 mt 和 mid 不知道什么鬼，反正我也发出来了，不知道华为的人是不是就能追溯到我的个人信息了🤨。</p>
<p>最后说会这个电脑，我还是满喜欢的，上午到的时候充了一会电，用到现在了，后面再写个长的体验文章吧。买这个主要是为了我远程值班用，还有下班写点文章啥的，之前我就一个笔记本，也没台式机，天天背着太不方便了。</p>

	]]></content>
</entry><entry>
	<title>[职场话题] 公司前段时间搞 996，又开始搞绩效改进计划。</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901604#reply7" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901604</id>
	<published>2022-12-10T14:01:51Z</published>
	<updated>2022-12-10T18:15:18Z</updated>
	<author>
		<name>unregister</name>
		<uri>https://www.v2ex.com/member/unregister</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>前几天公司所有员工签的 pip,都不知道是啥，刚刚网上去查了一下绩效改进计划，发现很有可能是裁员的节奏。再次考核的时间是 1 月初左右，也许过年之前就要失业了，虽然我不想在 996 的公司呆了，但被裁员感觉不是很好。这气氛有些不对。</p>

	]]></content>
</entry><entry>
	<title>[职场话题] 团队中我又被安排了新的工种</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901603#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901603</id>
	<published>2022-12-10T14:01:41Z</published>
	<updated>2022-12-10T14:01:41Z</updated>
	<author>
		<name>jiaming1992</name>
		<uri>https://www.v2ex.com/member/jiaming1992</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>在目前团队干了快 4 年了，也算比较稳定，从最初的安卓开发到 PC 软件开发，到 Flutter 开发，反正这几年就是在这几端中来来去去，今天 leader 找聊天，说希望来年可以再往 iOS 端拓展一下，iOS 也有点缺人，拒绝是不太可能行，想想我真的快成前端全栈了，不过想想其他同事都是在一个 app 上维护了四五年也挺没意思的，这几年也算是学了点新玩意，不过干的太杂也没了意思，越来越接近程序猿嫌弃年级，前路一团迷雾啊。。</p>

	]]></content>
</entry><entry>
	<title>[前端开发] 有没有靠谱的网页游戏团队，有个前端整体外包</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901601#reply2" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901601</id>
	<published>2022-12-10T13:55:45Z</published>
	<updated>2022-12-10T14:57:07Z</updated>
	<author>
		<name>wangzhe998</name>
		<uri>https://www.v2ex.com/member/wangzhe998</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>我有完整的后端源代码，后端是 java ，前端丢失，需要重写前端，有目标案例作参考，1 比 1 复刻
任务要求：用 cocos 或者其他技术都行，做网页游戏前端，我后端代码完整。
素材都有，全套。
能来我这边驻场更好，待遇吃喝住都好。网上线上合作也行，来个靠谱的小团队或者个人都行。
真诚寻找，请靠谱的个人或者团队联系我。
扣我 ：585 666 07</p>

	]]></content>
</entry><entry>
	<title>[全球工单系统] 淘宝订单广发信用卡支付未按提示满 20 减 5</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/901599#reply0" />
	<id>tag:www.v2ex.com,2022-12-10:/t/901599</id>
	<published>2022-12-10T13:34:08Z</published>
	<updated>2022-12-10T11:34:08Z</updated>
	<author>
		<name>feng0vx</name>
		<uri>https://www.v2ex.com/member/feng0vx</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>商品优惠明细里写有广发信用卡实付满 20 减 5 ，支付时没有减</p>

	]]></content>
</entry>
</feed>