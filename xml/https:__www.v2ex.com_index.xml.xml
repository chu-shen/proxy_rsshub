<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
<title>V2EX</title>
<subtitle>way to explore</subtitle>


<link rel="alternate" type="text/html" href="https://www.v2ex.com/" />
<link rel="self" type="application/atom+xml" href="https://www.v2ex.com/index.xml" />
<id>https://www.v2ex.com/</id>

<updated>2022-02-04T00:48:15Z</updated>

<rights>Copyright © 2010-2018, V2EX</rights>
<entry>
	<title>[酷工作] [内推.社招.算法工程师 20-45k] 杭州 观远数据</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831835#reply0" />
	<id>tag:www.v2ex.com,2022-02-04:/t/831835</id>
	<published>2022-02-04T00:48:15Z</published>
	<updated>2022-02-04T00:48:15Z</updated>
	<author>
		<name>fangchang</name>
		<uri>https://www.v2ex.com/member/fangchang</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h1>我们是谁</h1>
<p>观远数据，一家总部位于杭州的数据智能软件公司，在短短的 4 年时间里已经做到了零售消费领域 AI+BI 企业级智能软件的领军者位置，服务了包括联合利华，百威英博，沃尔玛，LVMH ，全家等行业头部客户，并受到了顶尖资本机构包括红杉，线性，襄禾的青睐。</p>
<p><a href="https://www.guandata.com/" rel="nofollow">https://www.guandata.com/</a></p>
<hr/>
<h1>岗位：高级算法工程师</h1>
<h1>岗位描述</h1>
<ul>
<li>熟练掌握各种主流机器学习算法的基础上，分析不同的客户业务需求，针对场景特点，寻找并构建有效的行业解决方案；</li>
<li>对业界的机器学习算法应用有广泛了解并且能够跟踪最新进展；</li>
<li>针对行业机器学习相关方面的核心算法，进行研究工作；</li>
<li>承担模型开发与后续的迭代升级工作。</li>
</ul>
<hr/>
<h1>岗位要求</h1>
<ul>
<li>拥有计算机科学、统计或相关学科学位，或在大数据领域有工作经验；</li>
<li>在机器学习领域有 3-5 年研发经验并有项目落地；</li>
<li>良好的沟通能力和团队合作精神，有一定的组织协调能力；</li>
<li>Coding 能力较强，主导过项目算法核心模块工程化实现优先；</li>
<li>有独立带项目经验者优先</li>
</ul>
<h1>薪资范围</h1>
<p>20K~45K * 15</p>
<hr/>
<p>有兴趣的同学欢迎邮件沟通 <a href="mailto:xiangqiaorui@guandata.com">xiangqiaorui@guandata.com</a></p>

	]]></content>
</entry><entry>
	<title>[Surface] surface pro 4 不识别自己的屏幕</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831833#reply0" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831833</id>
	<published>2022-02-03T22:29:08Z</published>
	<updated>2022-02-03T22:29:08Z</updated>
	<author>
		<name>wico97</name>
		<uri>https://www.v2ex.com/member/wico97</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>只识别外接屏幕。但进入安全模式下可以识别自己的屏幕。windows 10 系统。请问有遇到这个问题的吗，怎么解决</p>

	]]></content>
</entry><entry>
	<title>[分享发现] 单指可以缩放 google maps？不会的进来学习下</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831832#reply6" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831832</id>
	<published>2022-02-03T22:08:17Z</published>
	<updated>2022-02-04T00:44:03Z</updated>
	<author>
		<name>lksfcpp</name>
		<uri>https://www.v2ex.com/member/lksfcpp</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	关键词就是双击，然后手指别离开屏幕，上划缩小，下滑放大。<br />有趣的是双击的点甚至不用在同一个点，间隔时间似乎也不像平常理解的双击。<br />今天刚学到，希望不是我一个人火星！
	]]></content>
</entry><entry>
	<title>[移民] 程序员肉翻德国 FAQ</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831831#reply5" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831831</id>
	<published>2022-02-03T21:23:36Z</published>
	<updated>2022-02-04T00:36:48Z</updated>
	<author>
		<name>realkenshinji</name>
		<uri>https://www.v2ex.com/member/realkenshinji</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>从我 2019 年底开始打算肉翻，在 V 站发了<a href="https://www.v2ex.com/t/612682#reply8" rel="nofollow">这个帖子</a>，到现在已经两年多了，来德国工作也差不多快 1 年半了。在这过去的两年多当中，认识了不少朋友，有肉翻成功的，有拿到身份的，也有还在继续努力的。为了帮助到更多需要帮助的人，我把这两年当中经常被朋友们问到的一些问题整理一下，共享出来，欢迎大家批评指正。</p>
<p><strong>PS:</strong> 这里所说的<strong>肉翻</strong>，仅仅指通过<strong>直接找工作出国，待满一定年限后申请永居或者申请他国护照移民</strong>，关于其他移民途径，因为本人并没有相关经验，也没有进行过多的研究，故在这里不作过多讨论。</p>
<hr/>
<ul>
<li><strong>问:</strong> 肉翻需要考英语雅思或者托福么？</li>
<li><strong>答:</strong> 找工作的话，是不需要看你的雅思或者托福成绩的。一般只要你能通过对方雇主公司的面试，拿到 offer ，签好合同，然后申请相应的工作签证即可。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 为什么博主肉翻的目标是德国？</li>
<li><strong>答:</strong> 其实我之前也投了瑞典、荷兰、新加坡、日本这些国家的程序员岗位，最终拿到了德国的 offer ，所以就来了德国。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 去德国工作需要会说德语么？</li>
<li><strong>答:</strong> 就我目前的经验来看，如果你来<strong>柏林</strong>工作，基本上大部分科技公司的工作语言都是英文。当然，如果你会德语，那么在柏林生活会更惬意和方便一点，但是如果只会英文，那么应付工作和生活其实也是够用的。如果你去<strong>德国其他小一点的城市</strong>，那么掌握德语还是必须的。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 是不是只有程序员可以通过直接找工作肉翻德国？</li>
<li><strong>答:</strong> 理论上来说，只要你有一份工作合同，那么你就可以通过这份合同申请相应的工作签证。德国这边有个欧盟蓝卡的特殊工作签证，它相比普通工作签证的好处是，通过这个工作签证拿到永居需要的时间比较短(如果你的德语达到了 B1 水平，那么 21 个月就能申请永居，不然的话，没有德语基础，33 个月能申请永居)，而且你拿到了蓝卡签证的话，那么你的家属过来也能工作。更多关于蓝卡的信息，可以参考<a href="https://service.berlin.de/dienstleistung/324659/en/" rel="nofollow">这个页面</a>。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 如何通过互联网找德国的程序员相关工作呢？</li>
<li><strong>答:</strong> 准备好一份英文简历，然后去 LinkedIn, StackOverflow 或者 Glassdoor 这些网站投递即可。一般来说 StackOverflow 相比其他的网站做得稍微好一点的地方是，你可以通过一个 Visa Sponsor 的选项来过滤出那些帮助你办理签证的公司。
<strong>UPDATE:</strong> 坏消息，<a href="https://meta.stackoverflow.com/questions/415293/sunsetting-jobs-developer-story" rel="nofollow">StackOverflow 将在 2022 年 3 月底结束运营 jobs 板块</a>.</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 德国的程序员面试跟国内的有什么不同吗？</li>
<li><strong>答:</strong> 之前我<a href="https://www.kenshinji.me/rou-fan-de-guo-wo-cai-guo-de-na-xie-keng/" rel="nofollow">有个文章</a>里面介绍了德国公司面试的两种主要类型，可以参考一下，虽然里面是我来到德国以后的面试，但是其实国内远程面试德国工作，也主要分为这里面提到的两种类型。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 德国的程序员收入水平怎么样？</li>
<li><strong>答:</strong> <a href="https://cult.honeypot.io/developer-salary-report-2021/developer-salaries-germany-2021" rel="nofollow">这里</a>有个关于 2021 年德国柏林的开发者薪资报告可以作为参考。但是最近这两个月来，通胀挺厉害的，感觉程序员的薪资水平也被稍微提升了一下。另外也可以参考<a href="https://www.levels.fyi/Salaries/Software-Engineer/Berlin-Germany/" rel="nofollow">level.fyi 的薪资调查</a>。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 德国程序员工作加班多么？会有 996 么？</li>
<li><strong>答:</strong> 基本不加班。如果加班，雇主需要付你加班工资。德国的劳动法算是欧洲里面对劳动者保护得比较好的了。除了不加班之外，德国这边工作，基本上大部分的单位都能享有平均一个月左右的年假。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 来德国工作有学历要求么？是不是需要 985/211 学校的才能肉翻？</li>
<li><strong>答:</strong> 一般国外单位的 HR 在看简历的时候，都不会怎么在意你的学校的。本科学历和专科学历的差别，只在申请工作签证的时候有区别 ，面试找工作的时候一般不会太在意。在办理蓝卡签证的时候，一般是要求本科，专科没法申请蓝卡签证，只能申请普通工作签证。这样的话，拿德国永居的所需要的时间就会有差别。</li>
</ul>
<hr/>
<ul>
<li><strong>问:</strong> 来德国工作会有年龄限制么？</li>
<li><strong>答:</strong> 在找工作的时候，只要能通过简历关就没问题。我目前的同事里面 40 多岁的好几个，这边一般面试的时候都不会问你的年龄的。不过如果你面试通过拿到工作的 offer 以后，要<strong>申请蓝卡签证</strong>的话，有个<a href="http://shanghaislook.com/index.php/property/1168/en/title_undefined?v=print" rel="nofollow">年龄限制是在 55 岁</a>。</li>
</ul>
<hr/>
<p>还有一些其他关于之前我面试德国公司的经历分享，欢迎前往<a href="https://kenshinji.me" rel="nofollow">我的博客</a>阅读.</p>

	]]></content>
</entry><entry>
	<title>[问与答] 请问电信光猫不给 IPv6 地址能投诉解决吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831830#reply0" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831830</id>
	<published>2022-02-03T18:44:27Z</published>
	<updated>2022-02-03T18:41:27Z</updated>
	<author>
		<name>VZEXEZVzzz</name>
		<uri>https://www.v2ex.com/member/VZEXEZVzzz</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>坐标广西</p>
<p>有规定必须给 v6 地址吗</p>

	]]></content>
</entry><entry>
	<title>[问与答] 想问一下笔记本插一根 32G 内存条好还是 2 根 16G 的好？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831829#reply7" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831829</id>
	<published>2022-02-03T18:36:33Z</published>
	<updated>2022-02-04T00:21:49Z</updated>
	<author>
		<name>WANGYIQ</name>
		<uri>https://www.v2ex.com/member/WANGYIQ</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	想给笔记本更换内存条，目前是 2 根 8GB 的，想问问是再买两根 16G 的组成 32G ，还是直接买一根 32G 的？如果 32G 的能和原有的 8GB 内存一起插吗？
	]]></content>
</entry><entry>
	<title>[问与答] 请教一下， ETL/ELT 中有必要对导入的查询做小写字母化吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831828#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831828</id>
	<published>2022-02-03T18:23:32Z</published>
	<updated>2022-02-03T18:28:50Z</updated>
	<author>
		<name>levelworm</name>
		<uri>https://www.v2ex.com/member/levelworm</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>组长写了个 ELT 框架，里头有一步是把所有导入的查询都变成小写，比如说 SELECT * FROM A 就变成 select * from a 。这个一般情况下是没问题的，但是偏偏我有很多查询是需要限制字段的，比如说 SELECT * FROM A WHERE col = 'ABCDF'，把 ABCDF 变成小写了就不行了。</p>
<p>当然这问题很容易解决，只是我觉得奇怪，组长说全变成小写有助于防止黑客，问题是我们纯粹是个内部的应用，黑客到了我们这层，还有必要借助这个框架来执行吗？还有个疑问，这个真有助于防止黑客吗？</p>
<p>求问下专家们。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 桌上置物架有什么好选项么</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831827#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831827</id>
	<published>2022-02-03T16:48:12Z</published>
	<updated>2022-02-03T19:10:24Z</updated>
	<author>
		<name>mofan236</name>
		<uri>https://www.v2ex.com/member/mofan236</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	想买个双层或者三层置物架放路由器还有一些盒装杂物的，求推荐，是放在升降电脑桌上。
	]]></content>
</entry><entry>
	<title>[Apple] 关于 iPhone SE3</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831826#reply10" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831826</id>
	<published>2022-02-03T16:38:23Z</published>
	<updated>2022-02-04T00:44:38Z</updated>
	<author>
		<name>stevennn</name>
		<uri>https://www.v2ex.com/member/stevennn</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>2022 春季发布的 Iphone SE3</p>
<p>1.将维持上一代的尺寸，但是内部会有更新升级，残血版 A15 仿生芯片，背后还是单摄，3GB RAM （也可能是 4GB RAM ）</p>
<p>2.会是 XR 的尺寸+残血版 A15 仿生芯片+单摄+3GB RAM （也可能是 4GB RAM ）</p>
<p>如果是方案 1 ，不会影响到 mini 的销量，毕竟是为了清库存。抢占小屏爱好者及中端市场</p>
<p>如果是方案 2 ，目前来看，mini 的销量不太理想，iPhone14 会剔除 mini 系列，此方案用来弥补 mini 的空缺，占据
iPhone 的中低端区域。</p>
<p>这两种，目前来看，似乎第一种可能很大，因为目前 Iphone SE3 已在印度测试，模型机似乎已经流露出来</p>
<p>另一说是 Iphone SE3 会发布以上两种版本</p>
<p>也许答案最后才能揭晓吧</p>

	]]></content>
</entry><entry>
	<title>[MacBook Pro] 记一次 mbp2021 14“故障及送修过程</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831825#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831825</id>
	<published>2022-02-03T16:29:31Z</published>
	<updated>2022-02-03T00:29:31Z</updated>
	<author>
		<name>wowodavid</name>
		<uri>https://www.v2ex.com/member/wowodavid</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>设备：
mbp2021 14” m1max ，正式版 12.1 系统，2021 年 11 月到货激活，所谓 tb 经销商的货，大概是官网 9 折拿下</p>
<p>故障描述：
前几天晚上玩缺氧时突然左侧扬声器附近发出噪音，类似破音。联想到 testv 评测视频中出现过扬声器破音故障，初步怀疑是扬声器故障。重启后故障消除。
白天继续使用，正在 app store 吐槽时（副线剧情：新版 onedrive 强制开启 Files on-demand ，太 tm 恶心了，特地上 app store 喷一下），故障复现。</p>
<p>故障排查：
1 、关闭全部前台进程，开启单个播放软件，播放歌曲、停止播放、静音，发现噪音未减弱或改变
2 、期间，噪音突然消失，但左侧键盘底部出现周期性蜂鸣声。
3 、考虑非喇叭原因，同时考虑蜂鸣声应该与主板报错有关
4 、考虑到主板报错蜂鸣声，证明错误本身被主板侦测到，考虑运行故障检测程序应该可以定位故障
5 、重启，进入故障检测，跑完检测提示 ppf003 、004 错误，查代码表得知是风扇故障
6 、重启，进入系统，istat menus 手动拉左右侧风扇，发现只要左侧风扇非 0 ，即可复现蜂鸣声，故障确定</p>
<p>送修：
1 、手机打开 apple 服务 app ，约附近 apple store 天才吧，过年期间天才吧也没什么客户，基本上 1 个小时以后的时间都能约
2 、约定时间到达天才吧，直接描述判断是风扇故障，要求直接故障检测
3 、重复故障检测后，系统提示风扇最低和最高转速均异常
4 、天才吧表示配件需要订货，且本世代风扇可能需要和主板一并更换，因此需要同时订货风扇+主板，提示事先备份数据
5 、天才吧没有过问任何购买记录、ac 情况、使用情况，直接表示保修范围，免费维修
6 、回家等配件到货</p>
<p>临时措施：
1 、研究了下 istat menus ，考虑到 m1 发热情况较好，且原系统风扇策略极为激进，手工在 istat menus 里配置了一个“75 度以下关闭风扇，75 度以上仅开启右风扇”的策略</p>
<p>总结：
1 、做工、良品率确实有点问题？
2 、苹果的售后还是给力，体验蛮好，沟通速度很快，检测流程也比较科学，至少不是“重启试试”、“重装试试”，“会听人话”</p>

	]]></content>
</entry><entry>
	<title>[问与答] 有屏蔽 YouTube 内容农场的方法吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831824#reply0" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831824</id>
	<published>2022-02-03T16:24:08Z</published>
	<updated>2022-02-03T16:24:08Z</updated>
	<author>
		<name>arischow</name>
		<uri>https://www.v2ex.com/member/arischow</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	请看以下这个频道：<br /><br /><a target="_blank" href="https://www.youtube.com/channel/UCkNRxtDd_X8QuhPqDOKHNVQ" rel="nofollow noopener">https://www.youtube.com/channel/UCkNRxtDd_X8QuhPqDOKHNVQ</a><br /><br />频道中的黄色缩略图的视频都是垃圾内容，如这个：<br /><br /><div class="embedded_video_wrapper"><iframe src="https://www.youtube.com/embed/QmyoFFhjuYI" class="embedded_video" allowfullscreen="" type="text/html" id="ytplayer" frameborder="0"></iframe></div><br />每个视频开头出现的阿三应该是用 AI/DL 去生成对得上嘴型的音视频，后面的文字内容（ statement/solution ）没有经过任何排版，先不说展示形式（以视频方式本来就很奇怪），里面的内容根本无法称之为问题的解决方法。<br /><br />搜索 "block content farm in youtube" 并没有找到方法去屏蔽这些垃圾内容（起码在搜索结果中不要出现）。<br /><br />现阶段只能用肉眼判断这种内容吗？
	]]></content>
</entry><entry>
	<title>[Linux] 安装 manjaro gnome：这是缺少引导文件吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831823#reply4" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831823</id>
	<published>2022-02-03T16:23:16Z</published>
	<updated>2022-02-03T18:22:16Z</updated>
	<author>
		<name>manyfreebug</name>
		<uri>https://www.v2ex.com/member/manyfreebug</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>安装的是 manjaro-gnome 版，已经顺利进入 manjaro 的预览功能并安装成功(install)。<br/>
在把深色模式调成浅色模式之后重启。重启之后似乎进入的并不是刚才已经安装成功的版本，而是重新进入了新的预览模式（此时还插着 U 盘）。拔掉 U 盘之后重启，此时进入 win11 。<br/>
这是否是因为缺少 manjaro 的引导文件？</p>
<p>重新插上 U 盘，在正式进入 manjaro 的预览功能前有一个“detect efi bootloader”的选项，里面有许多 efi 后缀的文件（ ubuntu/windows..等等），但似乎没有 manjaro 的。</p>
<p>如果是因为缺少 manjaro 的引导文件，应该如何解决？(要保留 win11)</p>
<p>不知是否是分区不当造成的引导文件缺失，我的分区是：<br/></p>
<pre><code>挂载点         文件系统         
~~~~~~~~~~~~~~~~~~~~~~~~~
	      交换分区
/             ext4		       
/boot         FAT32            
/home         ext4            
</code></pre>

	]]></content>
</entry><entry>
	<title>[程序员] 关于 Cloudflare Workers 的一个问题</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831821#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831821</id>
	<published>2022-02-03T16:12:28Z</published>
	<updated>2022-02-03T16:24:10Z</updated>
	<author>
		<name>coolcfan</name>
		<uri>https://www.v2ex.com/member/coolcfan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>今天看 Cloudflare Workers 的文档，里面提到它的<code>FetchAPI</code>必须要在<code>requestContext</code>存在的前提下使用，也就是说只有在对这个 Worker 的请求（<code>FetchEvent</code>）的处理函数里才能发起对其他 URL 的请求。。。而 Cron Trigger 触发的是不行的。</p>
<p>也就是说，它不能主动发起一个对外的请求？</p>
<p>如果是这样，原因是什么呢？其他云提供的类似服务也有如此的限制么？</p>

	]]></content>
</entry><entry>
	<title>[Go 编程语言] 🐶 goal 的用户认证（Auth）模块完成，离生产环境又双叒叕近了一步！</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831820#reply0" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831820</id>
	<published>2022-02-03T15:58:51Z</published>
	<updated>2022-02-03T15:58:51Z</updated>
	<author>
		<name>qbhy</name>
		<uri>https://www.v2ex.com/member/qbhy</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h1>Goal-web/auth</h1>
<p><a href="https://github.com/goal-web/auth" rel="nofollow">goal-web/auth</a><br/>
goal 框架的用户认证组件，你可以在 <code>http</code>、<code>websocket</code> 或者其他环境使用，有上下文即可。</p>
<h2>安装 - install</h2>
<pre><code class="language-bash">go get github.com/goal-web/auth
</code></pre>
<h2>使用 - usage</h2>
<p>goal 的脚手架自带了绝大多数开发一个 web 应用的所需要的功能和组件，当然这也包括了认证组件。一般情况下，我们只需要在 .env 修改自己的认证配置即可，比如 <code>jwt</code> 驱动的 secret 、<code>session</code> 驱动的 session_key 。</p>
<h3>配置 - config</h3>
<p>默认情况下，<code>config/auth.go</code> 配置文件像下面那样，默认添加了 <code>jwt</code>、<code>session</code> 两个守卫配置</p>
<pre><code class="language-go">package config

import (
	"github.com/goal-web/auth"
	"github.com/goal-web/contracts"
	"github.com/goal-web/example/models"
	"github.com/golang-jwt/jwt"
)

func init() {
	configs["auth"] = func(env contracts.Env) interface{} {
		return auth.Config{
			Defaults: struct {
				Guard string
				User  string
			}{
				Guard: env.StringOption("auth.default", "jwt"), // 默认守卫
				User:  env.StringOption("auth.user", "db"), // 默认用户提供者
			},
			Guards: map[string]contracts.Fields{
				"jwt": { // 守卫名称
					"driver":   "jwt", // 驱动,目前支持 jwt 、session
					"secret":   env.GetString("auth.jwt.secret"), // jwt 签名所需的 secret ，不同的守卫建议不同的 secret
					"method":   jwt.SigningMethodHS256, // jwt 签名方法
					"lifetime": 60 * 60 * 24, // token 有效时长，单位：秒
					"provider": "db", // 用户提供者名
				},
				"session": { // 守卫名称
					"driver":      "session", // 驱动名
					"provider":    "db", // 用户提供者名
					// session 驱动所需的参数，如果应用需要配置多个 session 驱动的守卫，那么需要配置不一样的 session_key
					"session_key": env.StringOption("auth.session.key", "auth_session"), 
				},
			},
			Users: map[string]contracts.Fields{ // 用户提供者，目前只支持 db
				"db": { // 用户提供者名称
					"driver": "db", // 驱动名称
					"model":  models.UserModel, // 用户模型
				},
			},
		}
	}
}
</code></pre>
<p><code>.env</code> 的数据库相关配置</p>
<pre><code class="language-bash"># 默认连接
auth.jwt.secret=jwt_secret
auth.default=jwt
</code></pre>
<h3>定义模型 - define a model</h3>
<p><code>app/models/user.go</code> 文件</p>
<pre><code class="language-go">package models

import (
	"github.com/goal-web/database/table"
	"github.com/goal-web/supports/class"
)

var (
	UserModel = table.NewModel(class.Make(new(User)), "users")
)

func UserQuery() *table.Table {
	return table.FromModel(UserModel)
}

type User struct {
	Id       string `json:"id"`
	NickName string `json:"name"`
}

// GetId 实现了 contracts.Authenticatable 接口，此方法必不可少
func (u User) GetId() string {
	return u.Id
}
</code></pre>
<h3>用法 - method of use</h3>
<pre><code class="language-go">package controllers

import (
	"github.com/goal-web/contracts"
	"github.com/goal-web/example/models"
)

func LoginExample(guard contracts.Guard) contracts.Fields {
	//  这是伪代码
	user := models.UserQuery().First().(models.User)

	return contracts.Fields{
		"token": guard.Login(user), // jwt 返回 token ，session 返回 true
	}
}

func GetCurrentUser(guard contracts.Guard) interface{} {
	return contracts.Fields{
		"user": guard.User(), // 已登录返回用户模型，否则返回 nil
	}
}
</code></pre>
<h3>使用中间件</h3>
<pre><code class="language-go">package routes

import (
	"github.com/goal-web/auth"
	"github.com/goal-web/contracts"
	"github.com/goal-web/example/app/http/controllers"
	"github.com/goal-web/session"
)

func ApiRoutes(router contracts.Router) {
    
    v1 := router.Group("", session.StartSession)
    
    // 直接应用在路由上
    v1.Get("/myself", controllers.GetCurrentUser, auth.Guard("jwt"))
    
    // 应用在路由组上
    authRouter := v1.Group("", auth.Guard("jwt"))
    authRouter.Get("/myself", controllers.GetCurrentUser, auth.Guard("jwt"))

}
</code></pre>
<h3>守卫 API - guard api</h3>
<pre><code class="language-go">type Guard interface {
	Once(user Authenticatable)
	User() Authenticatable
	GetId() string
	Check() bool
	Guest() bool
	Login(user Authenticatable) interface{}
}
</code></pre>
<h3>扩展守卫和用户提供者 - extension</h3>
<p>这部分内容比较多，这里暂时不展开讲，后面会专门录视频介绍，欢迎大家点赞订阅</p>
<h3>在 goal 之外的框架使用 - use in frameworks other than goal</h3>
<p>这部分内容比较多，这里暂时不展开讲，后面会专门录视频介绍，欢迎大家点赞订阅</p>
<p><a href="https://github.com/goal-web/goal" rel="nofollow">goal-web</a><br/>
<a href="https://github.com/goal-web/auth" rel="nofollow">goal-web/auth</a><br/>
<a href="mailto:qbhy0715@qq.com">qbhy0715@qq.com</a></p>

	]]></content>
</entry><entry>
	<title>[问与答] 有没有第三方工具可以查看 won 日志？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831819#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831819</id>
	<published>2022-02-03T15:36:33Z</published>
	<updated>2022-02-03T16:35:33Z</updated>
	<author>
		<name>lonelygod365</name>
		<uri>https://www.v2ex.com/member/lonelygod365</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有没有第三方工具可以比较友好的筛选，查看自己想看的 win 系统日志？<br/><br/></p>

	]]></content>
</entry><entry>
	<title>[macOS] 使用.local 域名访问 Samba 的速度问题</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831818#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831818</id>
	<published>2022-02-03T15:30:53Z</published>
	<updated>2022-02-03T16:21:21Z</updated>
	<author>
		<name>mikewang</name>
		<uri>https://www.v2ex.com/member/mikewang</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>局域网内有一个 Samba 服务器 (<code>10.0.0.1; srv.local</code>) 。<br/>
MacBook 上通过 Wi-Fi 访问，使用<code>smb://10.0.0.1/</code>，上传下载都可以高过 60MB/s ，<br/>
但是使用<code>smb://srv.local/</code>上传文件，速度只有可怜的 5M/s 了。  </p>
<p>这是缺陷，还是配置问题？</p>

	]]></content>
</entry><entry>
	<title>[推广] 搭了个 blog，现在有五篇文章了，欢迎大佬来玩</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831817#reply11" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831817</id>
	<published>2022-02-03T15:17:45Z</published>
	<updated>2022-02-03T20:40:32Z</updated>
	<author>
		<name>elliotloststh</name>
		<uri>https://www.v2ex.com/member/elliotloststh</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://myblackboxrecorder.com/" rel="nofollow">https://myblackboxrecorder.com/</a></p>

	]]></content>
</entry><entry>
	<title>[问与答] 求助！如何恢复微信聊天记录</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831816#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831816</id>
	<published>2022-02-03T15:06:23Z</published>
	<updated>2022-02-03T16:06:23Z</updated>
	<author>
		<name>datiewang</name>
		<uri>https://www.v2ex.com/member/datiewang</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	女朋友清理聊天记录的时候把我们四年多的聊天记录也给一起删掉了，电脑和 itunes 或者 icloud 之类的都没有备份，请问还有什么机会补救吗？
	]]></content>
</entry><entry>
	<title>[问与答] 如何评价《TCP/IP 详解 卷 1：协议（第二版）》？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831815#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831815</id>
	<published>2022-02-03T15:03:38Z</published>
	<updated>2022-02-03T15:34:11Z</updated>
	<author>
		<name>tuding</name>
		<uri>https://www.v2ex.com/member/tuding</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	本人算是看《卷 1 》入行的网络工程师，前后反复看了不止三遍。<br />前不久偶然发现出了第二版，大幅更新了 IPv6 的相关知识，二话没说立即下单买买买。过年这几天坚持看了几天看得我头疼，好多地方很让人费解甚至都读不通顺。 <br />我一度怀疑是新作者狗尾续貂，直到去网上找了英文版来对应着看，我现在真想骂人，什么狗屁垃圾翻译，估计就是找了几个在校大学生外包的
	]]></content>
</entry><entry>
	<title>[宽带症候群] 帮忙推荐下路由</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831814#reply8" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831814</id>
	<published>2022-02-03T15:02:54Z</published>
	<updated>2022-02-03T18:13:48Z</updated>
	<author>
		<name>uhoo</name>
		<uri>https://www.v2ex.com/member/uhoo</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	准备还是猫拨号，家里其他人用猫的 WiFi<br /><br />然后路由当个旁路由，电视等科学设备连路由 WiFi ，<br /><br />研究了下需求，大致需要 A53 四核，最好是高通，一是固件多，而是发热比博通低，mtk 不太清楚，请各位赐教
	]]></content>
</entry><entry>
	<title>[SSH] SSH 端口转发给我看迷糊了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831813#reply8" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831813</id>
	<published>2022-02-03T14:58:22Z</published>
	<updated>2022-02-03T16:14:20Z</updated>
	<author>
		<name>zxCoder</name>
		<uri>https://www.v2ex.com/member/zxCoder</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>本地转发和远程转发</p>
<p>本地转发相当于就是访问<code>LOCAL_IP:LOCAL_PORT</code>就变成访问<code>DESTINATION:DESTINATION_PORT</code></p>
<pre><code class="language-bash">ssh -L [LOCAL_IP:]LOCAL_PORT:DESTINATION:DESTINATION_PORT [USER@]SSH_SERVER
</code></pre>
<p>远程转发相当于访问<code>REMOTE:REMOTE_PORT</code>就变成访问<code>DESTINATION:DESTINATION_PORT</code></p>
<pre><code class="language-bash">ssh -R [REMOTE:]REMOTE_PORT:DESTINATION:DESTINATION_PORT [USER@]SSH_SERVER
</code></pre>
<p>这样理解对吗？</p>
<p>有点不太理解是远程转发的<code>REMOTE</code>指的是哪个？是 ssh client 所在机器吗？</p>
<p>然后本地转发的时候，<code>SSH_SERVER</code>也可以就是<code>DESTINATION</code>，而远程转发的时候，<code>REMOTE</code>也可以就是<code>DESTINATION</code>？</p>

	]]></content>
</entry><entry>
	<title>[剧集] 《和平使者》太好看了！</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831812#reply0" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831812</id>
	<published>2022-02-03T14:50:42Z</published>
	<updated>2022-02-02T22:50:42Z</updated>
	<author>
		<name>moonkiller</name>
		<uri>https://www.v2ex.com/member/moonkiller</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	还没看的，赶紧看！！！<br /><img src="https://wx1.sinaimg.cn/large/00847H93ly1gz0pk8o04fj31hc0u0b29.jpg" class="embedded_image" rel="noreferrer" referrerpolicy="no-referrer"> <br /><img src="https://wx1.sinaimg.cn/large/00847H93ly1gz0pk8a7rhj31hc0u0e81.jpg" class="embedded_image" rel="noreferrer" referrerpolicy="no-referrer"> 
	]]></content>
</entry><entry>
	<title>[程序员] fleet 貌似在放新的名额</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831810#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831810</id>
	<published>2022-02-03T14:48:48Z</published>
	<updated>2022-02-03T11:46:48Z</updated>
	<author>
		<name>imzcg2</name>
		<uri>https://www.v2ex.com/member/imzcg2</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	fleet 是封闭预览，貌似之前在刚开始注册和 12 月 8 ，9 ，10 那几天有放，之后就没啥消息了，今天我看推特，貌似有反馈放名额了，不过放的名额多少，放多久，就不得而知了<br /><br />[![HVx90J.jpg]( <a target="_blank" href="https://s4.ax1x.com/2022/02/03/HVx90J.jpg" rel="nofollow noopener">https://s4.ax1x.com/2022/02/03/HVx90J.jpg</a>)]( <a target="_blank" href="https://imgtu.com/i/HVx90J" rel="nofollow noopener">https://imgtu.com/i/HVx90J</a>)
	]]></content>
</entry><entry>
	<title>[生活] 想和单身的朋友探讨一下关于婚姻门当户对的问题</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831809#reply8" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831809</id>
	<published>2022-02-03T14:21:00Z</published>
	<updated>2022-02-03T22:57:57Z</updated>
	<author>
		<name>zhangjinghua</name>
		<uri>https://www.v2ex.com/member/zhangjinghua</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	最近不是过年嘛，在农村见的人比较多。是真真正正的感受到了什么样的人。因为自己现在还在单身，所以想探讨一下关于婚姻上门当户对的问题。<br /><br />以前我是很看不起这种传统的“门当户对”的，但是现在我觉得，相似的原生家庭，能让两个人的家庭教养，人品三观更加契合，这样的家庭的稳定性也会比较高一点。<br /><br />虽然说真爱至上，但是爱情并不是一个稳定性很高的东西，他需要很多额外的东西辅助，需要其他的方面（特别是金钱）让你觉得对方是个不错的选择（在没有爱情作用没那么强的一小段时间），如果只有爱情，那在热恋期是没问题的，但是如果组成家庭了，就很容易发现过不下去了（很多东西恋爱的时候都有所隐藏，结婚后狠难做到相敬如宾）。<br /><br />所以直接说结论，对象的原生家庭是寻找下半辈子伴侣的很重要的参考点（炮友除外）<br /><br />大家一起聊聊，为中国这么高的离婚了努努力。
	]]></content>
</entry><entry>
	<title>[问与答] 网页上方的资源加载进度条实现是什么原理？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831807#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831807</id>
	<published>2022-02-03T14:17:35Z</published>
	<updated>2022-02-03T14:42:09Z</updated>
	<author>
		<name>LeeReamond</name>
		<uri>https://www.v2ex.com/member/LeeReamond</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，今天看到一个 php 后端渲染页面的项目居然点击跳转的时候页面上方会带资源加载进度条，挺好奇原理的。前端路由的话完全由 js 接管感觉做出进度条还可以理解，后端不是点击跳转页面命令的时候浏览器就会刷新页面会话么，为啥它可以做到进度条逐个显示资源加载，然后加载完了再 reload 页面。。。。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 迫于毕业设计，求一些值得参考的 Vue3 项目，希望可以实现一个文件上传+分析的功能</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831806#reply0" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831806</id>
	<published>2022-02-03T13:42:21Z</published>
	<updated>2022-02-03T13:40:21Z</updated>
	<author>
		<name>shizukupr</name>
		<uri>https://www.v2ex.com/member/shizukupr</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>毕业设计强制指定需要使用 Vue （理由未知），后端自选，目前选择的是 Django ，模型使用 pytorch 开发。</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 微博共享黑名单，一键拉黑</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831805#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831805</id>
	<published>2022-02-03T13:31:33Z</published>
	<updated>2022-02-03T14:28:33Z</updated>
	<author>
		<name>lxhyl</name>
		<uri>https://www.v2ex.com/member/lxhyl</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>微博共享黑名单，一键拉黑 chrome 插件</p>
<h1>链接</h1>
<p><a href="https://github.com/lxhyl/weibo-share-blacklist" rel="nofollow">github</a><br/>
<a href="https://lxhyl.cn/weibo-share-blacklist/" rel="nofollow">readme</a> </p>
<h1>特点</h1>
<ul>
<li>注入拉黑按钮，评论区快速拉黑。</li>
<li>拦截拉黑接口，并将拉黑的用户存进你自定义的黑名单列表（黑名单分组）</li>
<li>获取他人的黑名单，并且一键拉黑黑名单列表所有账户   </li>
</ul>
<p>比如输入“微博监督员”，一键将微博监督员列表全部拉黑</p>

	]]></content>
</entry><entry>
	<title>[问与答] cloudflare 支持针对子域名单独开 5 秒盾吗？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831804#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831804</id>
	<published>2022-02-03T13:26:45Z</published>
	<updated>2022-02-03T13:27:49Z</updated>
	<author>
		<name>LeeReamond</name>
		<uri>https://www.v2ex.com/member/LeeReamond</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题，小站挂了 cf ，整个域名 <a href="http://example.com" rel="nofollow">example.com</a> 都挂在 cf 下，最近子域名 <a href="http://img.example.com" rel="nofollow">img.example.com</a> 的占用有点高，不确定是不是被打了，主服务未受影响，想问一下 cf 能不能单独设置给子域名开盾，全站开 5 秒盾感觉用户体验挺受影响的。。</p>
<p>免费版。。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 求个好用的手机拼图软件</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831803#reply5" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831803</id>
	<published>2022-02-03T13:20:50Z</published>
	<updated>2022-02-03T15:34:31Z</updated>
	<author>
		<name>ob</name>
		<uri>https://www.v2ex.com/member/ob</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>现在有个简单的小需求，需要将两张图片左右拼接在一起，下了几个 app ，和试了微信小程序，都没有能好好使用的。
不是要开通会员，就是一堆广告，然后各种弹窗下载安装其他软件的，有没有推荐的，感谢！</p>
<p>安卓系统</p>

	]]></content>
</entry><entry>
	<title>[奇思妙想] 有没有可能把两台笔记本算力集中起来</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831801#reply12" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831801</id>
	<published>2022-02-03T12:40:50Z</published>
	<updated>2022-02-03T15:38:20Z</updated>
	<author>
		<name>wikiwiki6</name>
		<uri>https://www.v2ex.com/member/wikiwiki6</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>RT,手里两个笔记本，能不能把 CPU 和 GPU 的算力集中到一台上.</p>

	]]></content>
</entry><entry>
	<title>[分享创造] 两步验证算法介绍与实现: 关于如何手写一个两步验证器的那点事</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831800#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831800</id>
	<published>2022-02-03T12:34:40Z</published>
	<updated>2022-02-03T14:05:43Z</updated>
	<author>
		<name>Mohanson</name>
		<uri>https://www.v2ex.com/member/Mohanson</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h1>谷歌两步验证算法实现</h1>
<p>谷歌的两步验证器现在的应用太广泛了, 但凡稍微认真点的站点在登陆时都会要求输入两步验证码, 但是这也带来一个问题, 就是登录网站时要多操作一步, 而且更难受的是--我需要掏手机.</p>
<p>所以为什么不写一个命令行的两步验证器工具呢?</p>
<h2>HOTP: HMAC-Based One-Time Password (HOTP) algorithm</h2>
<p>谷歌的两步验证器基于两个算法: HOTP 和 TOTP. 我们先来介绍 HTOP, 因为后者仅仅是前者的简单扩展. HOTP 被 RFC4226 描述, 为了简单起见, 我只记录其中的关键算法部分.</p>
<ol>
<li>当网站要求我们添加两步验证时, 网站会生成一个随机密码 K. 随后, 我们通过扫秒二维码或者手动输入的方式将密码 K 记录在两步验证工具中. 除了密码 K 之外, 服务器和我们还都需要记录另一个数字: 该密码被使用的次数 C. 通常, K 使用 base32 进行编码, C 则是一个 uint64 整数.</li>
<li>HOTP 算法基于密码 K 和单调递增的 C, 其公式为: HOTP(K,C) = Truncate(HMAC-SHA-1(K,C)). 由于 HMAC-SHA-1 计算的输出是 160 位(20 个 byte), 因此我们需要对结果进行截断, 以便用户输入.</li>
</ol>
<p>截断步骤如下:</p>
<ol>
<li><code>offset = hmac_result[19] &amp; 0xf</code></li>
<li>从 <code>hmac_result[offset:offset+4]</code> 还原出一个大端序的 uint32 <code>dbc(dynamic binary code)</code></li>
<li><code>dbc = dbc &amp; 0x7fffffff</code>. 屏蔽 dbc 的最高有效位的原因是为了避免关于有符号和无符号模计算的混淆. 不同的处理器以不同的方式执行取模操作, 这一步可以消除关于符号整数取模计算的歧义.</li>
<li>生成 6-digits 长度的两步验证码: <code>dbc = dbc % 1000000</code>.</li>
<li>当两步验证通过后, 服务器和客户端都需要对 C 进行一次自增操作.</li>
</ol>
<p>Go 代码实现</p>
<pre><code class="language-go">func main() {
    secret := "ECM5HE2DKHAFJT4ZEFA9PK4A3Q"
    c := uint64(0)

    // 对 K 进行 Base32 解码, 需要在密码尾部添加 = 使得其长度为 8 的倍数
    secret += strings.Repeat("=", -len(secret)&amp;7)
    k, _ := base32.StdEncoding.DecodeString(secret)
    h := hmac.New(sha1.New, k)
    binary.Write(h, binary.BigEndian, c)
    sum := h.Sum(nil)
    v := binary.BigEndian.Uint32(sum[sum[19]&amp;0x0F:]) &amp; 0x7FFFFFFF
    fmt.Println(v % 1000000)
}
</code></pre>
<h2>TOTP: Time-Based One-Time Password</h2>
<p>TOTP 是 HOTP 的简单简单扩展, 其定义在 RFC6238. 简单来说, TOTP 使用当前的时间步长来替换自增的 C. TOTP 解决了以下几个问题:</p>
<ol>
<li>HOTP 两步验证码基于自增的 C, 它在生成两步验证码后除非被使用, 否则永远有效.</li>
<li>服务端与客户端需要维护自增的 C 且始终保持一致: 这很难做到, 需要实现一种同步协议处理双方的 C 值不一致的情况.</li>
</ol>
<p>算法步骤如下:</p>
<ol>
<li>约定 X 为以秒为单位的时间步长, 默认 X = 30</li>
<li>约定 T 为 Unix Time</li>
<li><code>C = T / X</code></li>
</ol>
<p>Go 代码实现</p>
<pre><code>// 将上述代码的第二行修改为以下代码即可
c := time.Now().Unix() / 30
</code></pre>
<hr/>
<p>看到首页有关于 2fa 的帖子, 就把自己博文粘贴过来了, 原文: <a href="http://accu.cc/content/misc/2fa/" rel="nofollow">http://accu.cc/content/misc/2fa/</a></p>

	]]></content>
</entry><entry>
	<title>[问与答] v 友们，有没有华强北蓝牙耳机推荐</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831799#reply10" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831799</id>
	<published>2022-02-03T12:33:42Z</published>
	<updated>2022-02-03T14:40:32Z</updated>
	<author>
		<name>qq249418187</name>
		<uri>https://www.v2ex.com/member/qq249418187</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>安卓机用。
半年前看过一款 准备入手的，朋友送了个小米，一直感觉挺拉的…
所以想问下 有没有性价比高点的耳机。不限于华强北。
预算 600 左右</p>

	]]></content>
</entry><entry>
	<title>[问与答] 记一次跟未来岳父岳母的对话</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831798#reply14" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831798</id>
	<published>2022-02-03T12:23:01Z</published>
	<updated>2022-02-04T00:26:24Z</updated>
	<author>
		<name>312ybj</name>
		<uri>https://www.v2ex.com/member/312ybj</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<h2>背景</h2>
<h3>初二拜年</h3>
<p>今天是 2022 年 1 月 2 号，我今天特意到我未来岳父岳母家拜年。按照老家的习俗，初二是姑爷节，得陪老婆回娘家看看。</p>
<p>按日子来，我 2 月 8 号就要结婚了。</p>
<h3>饭桌谈话</h3>
<p>岳父岳母做了一大桌饭菜，新年嘛，都是大鱼大肉地吃。</p>
<p>我不会喝酒，我拿着六个核桃陪着他们喝。</p>
<p>酒过三巡，原则意义上，第一次我对象的父母跟我谈起我们的未来。</p>
<h4>建立家庭</h4>
<p>“今天是初二，马上你就要跟盼盼结婚了，这里我还是要说两句，你们在一起也很久了，以后的生活跟现在是完全不一样的，你们俩要建立一个小家庭了”</p>
<h4>不能动手</h4>
<p>“我家盼盼说实话，在家里没受过什么委屈，有时候脾气是有点问题，如果以后你们有矛盾，你直接跟我说，我来教育她，一定不能动手”</p>
<p>这里我找了一张之前岳父的聊天记录，很有意思。</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5788b0cfb54747748b22ba93ccc128cc%7Etplv-k3u1fbpfcp-zoom-1.image"/></p>
<h4>不能得理不饶人</h4>
<p>“小两口过日子，磕磕碰碰是难免的，牙还会咬到舌头，最重要的是相互体谅，我跟你叔叔在一起这么久，也会有吵架的时候，一定要有好的解决办法，盼盼，你的好胜心很重，以后要改改这个脾气，就算以后吵架你在理，但是不能得理不饶人，家庭最重要的就是和谐”</p>
<h4></h4>
<p>“我这边大姑家的媳妇离婚了，见面就吵架，苦的是谁？ 是双方父母，最苦的还是孩子，夹在中间”</p>
<p>这里我插一嘴，我的家庭呢，父母也是吵吵闹闹过来的，我对于父母吵架很敏感。</p>
<p>我：“我从小看我父母吵架， 当时我就想我长大一定不跟我老婆吵架，长大后发现摩擦肯定是难免的，但是我相信两个人在一起，一定要相互体谅，互相扶持”</p>
<h4>量力而行</h4>
<p>“有多大力使多大劲，有些东西强求不来，需要的是机遇和努力，保持平常心”</p>
<h4>身体最重要</h4>
<p>“我们还是比较注意养生的，人的身体是最重要的，你们现在压力大，但是不能以身体为代价去拼，我们现在上有老下有小（还有一个 12 岁的儿子，爷爷 86 岁，姥爷 96 岁），没有办法，只能去拼。 但是你们一定要注意身体，你们的时间还多，耐心点”</p>
<h2>小总结</h2>
<p>还记得一开始见父母，那时候我大三，我傻乎乎的从上海站做地铁转公交，2 个小时候到达奉贤，领着一点礼物见家长，当时还是学生，还很稚气，放不开。</p>
<p>跟岳父岳母相处的过程中，也有过摩擦，毕竟做父母的要把把关。我也能理解。婚姻是两个人的事，父母都希望子女能够健健康康，平平安安。 对于未来，老一辈们保持着乐观的态度，他们用经验告诉我们，家和万事兴，踏实耐心的去做，一定会有回报。</p>
<p><img alt="image.png" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59ed03ce90b745b6a0fe94ad5a4f22b1%7Etplv-k3u1fbpfcp-watermark.image?"/></p>

	]]></content>
</entry><entry>
	<title>[问与答] 有什么好的程序员社区推荐嘛？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831797#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831797</id>
	<published>2022-02-03T12:17:03Z</published>
	<updated>2022-02-03T13:14:03Z</updated>
	<author>
		<name>WilliamColton</name>
		<uri>https://www.v2ex.com/member/WilliamColton</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	有没有像 V2EX 这样的社区推荐啊？
	]]></content>
</entry><entry>
	<title>[MacBook Pro] M1 刘海屏的 MBP 右上角的 Menu 小图标显示不全怎么解决的？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831796#reply4" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831796</id>
	<published>2022-02-03T12:16:19Z</published>
	<updated>2022-02-03T13:40:17Z</updated>
	<author>
		<name>chiuan</name>
		<uri>https://www.v2ex.com/member/chiuan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>有些软件看不到了。。。。。。。也没有类似"..."这样一个可以展开隐藏的功能啊。。。</p>

	]]></content>
</entry><entry>
	<title>[程序员] 编程题目的收集和分类</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831795#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831795</id>
	<published>2022-02-03T12:08:58Z</published>
	<updated>2022-02-03T04:08:58Z</updated>
	<author>
		<name>xiyangyang</name>
		<uri>https://www.v2ex.com/member/xiyangyang</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>工作需要收集各种编程题，并能按照难度，类目等关键字分类。需要的时候，可以根据类目关键字，难度级别等找出来。
有现成的开源软件可以做这个事情吗？</p>

	]]></content>
</entry><entry>
	<title>[Python] 请问现在有哪些仍能使用的 QQ 机器人 API？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831793#reply4" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831793</id>
	<published>2022-02-03T11:50:29Z</published>
	<updated>2022-02-03T15:10:31Z</updated>
	<author>
		<name>akazure</name>
		<uri>https://www.v2ex.com/member/akazure</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题。只需要类似 discord bot API 一样的，能接受消息、发送消息的 API 就行了。我看网上都是已经训练好的机器人模型，而不是纯净的 API 。</p>

	]]></content>
</entry><entry>
	<title>[问与答] 大家如何看待部分国人卡式咳痰的生理习性</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831792#reply15" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831792</id>
	<published>2022-02-03T11:49:35Z</published>
	<updated>2022-02-03T16:08:16Z</updated>
	<author>
		<name>VKRUSSIA</name>
		<uri>https://www.v2ex.com/member/VKRUSSIA</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>就是 he~tui
大家是几岁开始注意到这个普遍到无人谈论的生理习性的，是不是成年前后几年？大家是如何抑制声音带来的情绪波动的？是不是鸵鸟战术:愤怒-&gt;装死-&gt;免疫习惯
哈哈理性谈论不喜勿喷。</p>

	]]></content>
</entry><entry>
	<title>[区块链] 公链的安全由数学证明，合约代码的安全无人能证明</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831791#reply2" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831791</id>
	<published>2022-02-03T11:27:57Z</published>
	<updated>2022-02-03T13:21:44Z</updated>
	<author>
		<name>KamenReborn</name>
		<uri>https://www.v2ex.com/member/KamenReborn</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://www.ccvalue.cn/article/1392225.html" rel="nofollow">跨链协议 Wormhole 遭攻击被盗 12 万枚 wETH ，损失约合 3.2 亿美元</a></p>

	]]></content>
</entry><entry>
	<title>[随想] 过年随想</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831790#reply4" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831790</id>
	<published>2022-02-03T11:15:29Z</published>
	<updated>2022-02-02T13:11:56Z</updated>
	<author>
		<name>wxsm</name>
		<uri>https://www.v2ex.com/member/wxsm</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>当身体健康时，一个人的烦恼会有很多很多，比如：理财亏钱，职场不顺，贷款压力，家庭关系，闲得无聊，等等等等。会有很多欲求不满。</p>
<p>但是当身体不健康时，一个人的烦恼就只有不健康这件事，愿望也只剩下唯一的一个：身体健康。</p>
<p>（来自一个罕见病患者，过年看多了各种吐槽的随想）</p>

	]]></content>
</entry><entry>
	<title>[macOS] 开了 Surge Mac 或 Clash X Pro 的增强模式，所有 DNS 查询返回 Fake IP， Terminal 想 Ping 些域名看延迟，需要怎么设置啊</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831789#reply8" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831789</id>
	<published>2022-02-03T11:00:05Z</published>
	<updated>2022-02-03T18:05:52Z</updated>
	<author>
		<name>SkyLanD</name>
		<uri>https://www.v2ex.com/member/SkyLanD</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>开增强模式的 Surge 或 ClashX Pro</p>
<p>也试过直接下载 iOS 的 quantumult x </p>
<p>都导致我在 Terminal 下想 Ping 域名看延迟返回 Fake IP</p>
<p>而且 Termius 里 SSH 也连不上了</p>

	]]></content>
</entry><entry>
	<title>[Apple] 请问如果有同邮箱的两台 iPhone 放不同号码，是不是所有 iOS/Mac 设备都能同时接受这两个号码和该邮箱的 iMessage？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831788#reply6" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831788</id>
	<published>2022-02-03T10:57:11Z</published>
	<updated>2022-02-03T14:29:25Z</updated>
	<author>
		<name>20015jjw</name>
		<uri>https://www.v2ex.com/member/20015jjw</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<ol>
<li>第一个情况如题，我来举个例子</li>
</ol>
<pre><code>Apple ID 使用邮箱 E 注册
第一台 iPhone 使用号码 P1
第二台 iPhone 使用号码 P2
Mac 登陆该 Apple ID ，是否有能力同时接收发给 E ，P1 ，P2 的 iMessage ？
</code></pre>
<ol>
<li>
<p>如果第二台设备换成 Cellular 的 iPad 呢？可以接收对应的 iMessage 吗？</p>
</li>
<li>
<p>如果两台 iPhone 其实是一台 iPhone 的两个 SIM 呢？</p>
</li>
<li>
<p>接着 3 ，如果其实是一台 iPhone ，但第二个 SIM 是淘宝上把卡写到主板上 eSIM 呢？</p>
</li>
</ol>
<p>恳请大佬们逐一解答，提前感谢...</p>

	]]></content>
</entry><entry>
	<title>[生活] 家人的爱是怎样？</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831787#reply4" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831787</id>
	<published>2022-02-03T10:52:31Z</published>
	<updated>2022-02-03T19:00:27Z</updated>
	<author>
		<name>jiuhuicinv</name>
		<uri>https://www.v2ex.com/member/jiuhuicinv</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	大概就是<br />长辈知道你很惨还是一如既往的好<br />同辈知道彼此都很惨，谁也不提及
	]]></content>
</entry><entry>
	<title>[Linux] 有用过 ToDesk 的吗</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831784#reply20" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831784</id>
	<published>2022-02-03T10:12:37Z</published>
	<updated>2022-02-03T14:15:11Z</updated>
	<author>
		<name>LxnChan</name>
		<uri>https://www.v2ex.com/member/LxnChan</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p><a href="https://www.todesk.com/index.html" rel="nofollow">官网</a></p>
<p>对比向日葵简直是太有诱惑力了，很久之前就听说过，但是一直没敢用，毕竟免费的也是最贵的。</p>
<p>之前看了<a href="https://www.bilibili.com/video/BV1oq4y187eF" rel="nofollow">当骗子知道他电脑被控制后........</a>这个视频里面被控端是向日葵，我就觉得向日葵可能不咋安全了，给服务器重装了系统之后就没再用过。之后一直是 Tailscale+Frp 从自己的服务器中转。</p>
<p>总之就是一方面怕 zf 在后面有后门，另外一方面也怕这个公司他自己在我服务器上做这做那，毕竟这玩意是 24 小时在线且对本机有完全控制的。</p>
<p><strong>本贴并不打算探讨 zf 或任何人的做法与对错，只是从技术层面探讨相关的问题。保持对陌生人的友善。用知识去帮助别人。</strong></p>

	]]></content>
</entry><entry>
	<title>[NAS] 是否存在这样一种设备 / 方案（自建小型 NAS？）</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831783#reply40" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831783</id>
	<published>2022-02-03T09:45:26Z</published>
	<updated>2022-02-03T20:16:39Z</updated>
	<author>
		<name>neteroster</name>
		<uri>https://www.v2ex.com/member/neteroster</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>如题。最近准备自己折腾个 NAS ，但是相比普通的方案，有一些特别的需求：</p>
<ol>
<li>体积最好小一些，便携（可能要经常带出去）；因为要放在宿舍 7*24 运行希望噪声也小一些，不要打扰他人。</li>
<li>为了实现第一点，考虑纯 SSD 方案。容量要求不高，能装下至少两根 NVME 或者两块 SATA SSD 即可。实在不行一个也行。</li>
<li>性能要求不高，能离线下载、传输文件即可。</li>
<li>能连接 WiFi 。如果自己能发射 WiFi 最好，不强求。</li>
<li>希望自由度比较高，自己装系统，不想要群晖这种已经定制了的。</li>
</ol>
<p>另外价格希望尽量低一点，穷（</p>
<p>仔细想想好像就是台小型便携式主机？不知道各位有没有什么推荐，谢谢。</p>

	]]></content>
</entry><entry>
	<title>[京东] 滔博运动官方旗舰店，太恶心了</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831782#reply46" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831782</id>
	<published>2022-02-03T09:33:27Z</published>
	<updated>2022-02-03T21:21:18Z</updated>
	<author>
		<name>015</name>
		<uri>https://www.v2ex.com/member/015</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>年前 LD 买了个阿迪长款羽绒服等过年穿，<br/>这都穿了三天了，<br/>突然发现只有两根杠<br/></p>

	]]></content>
</entry><entry>
	<title>[iPhone] 入手 iPhone ，怎么选</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831780#reply21" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831780</id>
	<published>2022-02-03T09:04:58Z</published>
	<updated>2022-02-03T15:46:37Z</updated>
	<author>
		<name>noor9</name>
		<uri>https://www.v2ex.com/member/noor9</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>现在想入一个 iPhone ，日常就刷刷视频，打打王者，如何抉择</p>

	]]></content>
</entry><entry>
	<title>[分享创造] PushDeer 自架版：一行命令在你自己的服务器上架设一个无 APP 推送服务</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831778#reply22" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831778</id>
	<published>2022-02-03T08:45:51Z</published>
	<updated>2022-02-04T01:48:03Z</updated>
	<author>
		<name>easychen</name>
		<uri>https://www.v2ex.com/member/easychen</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>iOS14+，无需安装任何 APP 即可实现推送：</p>
<p><img alt="" class="embedded_image" loading="lazy" referrerpolicy="no-referrer" rel="noreferrer" src="https://i.v2ex.co/81CU7d9S.gif"/></p>
<p>服务器端架设：</p>
<pre><code class="language-bash">git clone https://gitee.com/easychen/pushdeer.git &amp;&amp; cd pushdeer &amp;&amp; sudo docker-compose -f docker-compose.self-hosted.yml up --build -d
</code></pre>
<p>源代码： <a href="https://github.com/easychen/pushdeer" rel="nofollow">https://github.com/easychen/pushdeer</a></p>

	]]></content>
</entry><entry>
	<title>[问与答] go 代码里面的双重 select</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831777#reply1" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831777</id>
	<published>2022-02-03T08:43:55Z</published>
	<updated>2022-02-03T11:32:23Z</updated>
	<author>
		<name>proxytoworld</name>
		<uri>https://www.v2ex.com/member/proxytoworld</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>半年前写过一些 go 代码，当时见到过双重 select 技巧，现在忘了，有大哥知道的能说说吗，结构大概是下面这样</p>
<pre><code class="language-go">func twork(job &lt;-chan string, st &lt;-chan int) {
	defer wg.Done()
	for {
		select {
		case s, ok := &lt;-job:
			if ok {
				fmt.Println("job:", s)
			} else {
				return
			}

		case sti, ok := &lt;-st:
			if ok {
				if sti == 2 {
					fmt.Println("return channel")
					return
				} else if sti == 1 {
					fmt.Println("type 1")
					continue
				}
			} else {
				return
			}
		default:
			select {
            	case sti, ok := &lt;-st:
                	do something
            }
		}
	}
}

</code></pre>
<p>查了半天没查到类似的代码，能解释一下应用场景是什么吗</p>

	]]></content>
</entry><entry>
	<title>[奇思妙想] 如何开发一个区块链项目</title>
	<link rel="alternate" type="text/html" href="https://www.v2ex.com/t/831776#reply3" />
	<id>tag:www.v2ex.com,2022-02-03:/t/831776</id>
	<published>2022-02-03T08:42:08Z</published>
	<updated>2022-02-03T13:46:31Z</updated>
	<author>
		<name>wikiwiki6</name>
		<uri>https://www.v2ex.com/member/wikiwiki6</uri>
	</author>
	<content type="html" xml:base="https://www.v2ex.com/" xml:lang="en"><![CDATA[
	<p>RT,技术比较弱，项目只要有区块链元素（功能）就好
（ ETH 合约就算了）</p>

	]]></content>
</entry>
</feed>